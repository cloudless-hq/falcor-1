(function(b,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("falcor",[],e):"object"===typeof exports?exports.falcor=e():b.falcor=e()})(this,function(){return function(b){function e(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,e);f.l=!0;return f.exports}var a={};e.m=b;e.c=a;e.i=function(a){return a};e.d=function(a,f,d){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:d})};
e.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};e.d(c,"a",c);return c};e.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};e.p="";return e(e.s=111)}([function(b,e){b.exports="ref"},function(b,e,a){var c=a(61),f=a(35),d=a(62);b.exports=function(a,g){a=a.$expires;return void 0===a||null===a||a===d?!1:a===f?g:a<c()}},function(b,e){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,e,a){var c=a(55);b.exports=function(a,d,
p){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,d.push(a),c(p,a));return a}},function(b,e){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Error();f.prototype.name=a;f.prototype.constructor=f;f.is=function(d){return d.name===a};return f}},function(b,e){b.exports={$type:"atom"}},function(b,e,a){b.exports=function(a,f){var d=f["\u001e\u0192_refs_length"]||
0;f["\u001e\u0192_ref"+d]=a;f["\u001e\u0192_refs_length"]=d+1;a["\u001e\u0192_ref_index"]=d;a["\u001e\u0192_context"]=f}},function(b,e,a){(function(a){function c(a){this["\u001e\u0192_meta"]=a||{}}function d(a){function d(){return d.fn.apply(this,arguments)}return(d.fn=a)&&d}function p(d){var c=typeof d,f=arguments.length;if(0===f)d=this;else if(c!==y){if(!d||c!==e)return d}else{if(1!==f)return d;d=this}return d===a?void 0:d}function g(){return q(p.apply(this,arguments),g)}function l(a){a=p.apply(this,
arguments);var d,c,m=0,h=q(a,l,!0,!0);a&&(d=a["\u001e\u0192_meta"])&&(m=d.version);h&&typeof h===e&&(c=h["\u001e\u0192_meta"])&&(c.version=m);return h}function q(a,d,f,m){if(!a||typeof a!==e)return a;var h,p,n,x,t,g;if(k(a))g=a;else{g={};h=-1;x=Object.keys(a);p=x.length;if(f&&(n=a["\u001e\u0192_meta"])){var b=n.$code,l=n.abs_path,v=n.deref_to,w=n.deref_from;n={};b&&(n.$code=b);l&&(n.abs_path=l);v&&(n.deref_to=v);w&&(n.deref_from=w);m?g.__proto__=new c(n):g["\u001e\u0192_meta"]=n}for(;++h<p;)"\u001e\u0192_meta"!==
(t=x[h])&&(g[t]=d(a[t],d,f))}return g}c.prototype.toJSON=g;c.prototype.toProps=l;c.prototype.toString=function(a){return JSON.stringify(q(p.call(this,this),q,!0===a))};c.prototype.constructor=c;Object.defineProperties(c.prototype,"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,c){a[c]={writable:!0,enumerable:!1,value:d(Array.prototype[c])};
return a},{$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}}));var k=Array.isArray,e="object",y="string";b.exports=c}).call(e,a(36))},function(b,e,a){e=a(4);b.exports=e("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,e,a){var c=a(2);b.exports=function(a){return c(a)&&a.$size||0}},function(b,e,a){var c=
a(34);b.exports=function(a){for(var d,f=Object.keys(a),g={},b=-1,q=f.length;++b<q;)d=f[b],c(d)||(g[d]=a[d]);return g}},function(b,e,a){function c(a,p){var d=a,b,q=0,k=p.length;if(0<k){do for(d=d[p[q]];d&&(b=d.$type)===f;)d=c(a,d.value);while(++q<k&&d&&!b)}return d}var f=a(0);b.exports=c},function(b,e,a){var c=a(30),f=a(50);b.exports=function(a,p,b,l){var d=a;do{var k=d["\u001e\u0192_parent"];0>=(d.$size=(d.$size||0)-p)&&null!=k?c(d,k,d["\u001e\u0192_key"],b):d["\u001e\u0192_version"]!==l&&f(d,l);
d=k}while(d);return a}},function(b,e,a){var c=a(62);b.exports=function(a,d){if(d.$expires!==c){var f=a["\u001e\u0192_head"];if(!f)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=d;else if(f!==d){var b=d["\u001e\u0192_prev"],l=d["\u001e\u0192_next"];l&&(l["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=l);d["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=d;d["\u001e\u0192_next"]=f;f["\u001e\u0192_prev"]=d;d===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,e,a){function c(a,c,
b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination={error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var d=this.destination;if(d)if(d.onNext)d.onNext(a);else d.next&&d.next(a)};c.prototype.error=c.prototype.onError=function(a){var d=!1,c=this.destination;c&&(c.onError?(d=
!0,c.onError(a)):c.error&&(d=!0,c.error(a)),this.dispose());if(!d)throw a;};c.prototype.complete=c.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,e){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||
this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,e){b.exports="error"},function(b,e,a){var c=a(11);b.exports=function(a,d){d=d||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=
null,0===d.length?f=a._root.cache:(f=c(a._root.cache,d),d===a._path&&(a._node=f));return f}},function(b,e,a){function c(a,d,x,m,h,b,n,p,t,k,g,l,q,e,u,E,G,L){var r={},v=d<a.length-1,C=a[d],w=y(C,r),A=l.index;do{g.depth=d;var B=f(x,m,h,b,n,p,w,v,!1,g,l,q,e,u,E,G,L);g[d]=w;g.index=d;var z=B[0],F=B[1],D=B[4];D[D.index++]=w;z&&(v?c(a,d+1,x,F,z,b,B[3],B[2],t,k,g,D,q,e,u,E,G,L):(t.push(g.slice(0,g.index+1)),k.push(D.slice(0,D.index))));w=y(C,r);if(r.done)break;l.index=A}while(1)}function f(a,c,b,m,h,r,n,
C,t,A,B,e,y,H,D,E,G){for(t=b.$type;t===p;){a:{c=a;h=m;B=A;var x=e,v=y,w=H,z=D,F=E,X=G,Q,I,J=b.value;t=J.slice(0);if(g(b,X))l(b,v,w),b=void 0,Q=c,I=h,t.index=J.length;else{var R=0,O=b,P=J.length-1;Q=b=c;I=r=h;do{var U=J[R],ba=R<P;t.index=R;I=f(c,Q,b,h,I,r,U,ba,!0,B,t,x,v,w,z,F,X);b=I[0];t=I[4];if(!b||"object"!==typeof b){t.index=R;B=I;break a}Q=I[1];r=I[2];I=I[3]}while(R++<P);t.index=R;O["\u001e\u0192_context"]!==b&&q(O,b)}d[0]=b;d[1]=Q;d[2]=r;d[3]=I;d[4]=t;B=d}b=B[0];if(!b||"object"!==typeof b)return B;
c=B[1];r=B[2];h=B[3];B=B[4];t=b.$type}if(void 0===t){if(null==n){if(C)throw new u;b&&(n=b["\u001e\u0192_key"])}else c=b,h=r,b=c[n],r=h&&h[n];b=k(c,b,r,n,A,B,e,y,H,D,E,G)}d[0]=b;d[1]=c;d[2]=r;d[3]=h;d[4]=B;return d}var d=Array(5),p=a(0),g=a(1),l=a(3),q=a(6),k=a(83),u=a(8),y=a(23);b.exports=function(a,f,b,m,h){a=a._root;for(var p=a.expired,n=a.version,k=a.cache,t=k["\u001e\u0192_version"],g=[],x=[],l=[],v=[],q=-1,w=f.length;++q<w;)for(var e=f[q],u=e.paths,e=e.jsonGraph,y=-1,N=u.length;++y<N;){var K=
u[y];x.index=0;c(K,0,k,k,k,e,e,e,l,v,g,x,n,p,a,m,b,h)}d[0]=void 0;d[1]=void 0;d[2]=void 0;d[3]=void 0;d[4]=void 0;f=k["\u001e\u0192_version"];b=a.onChange;t!==f&&(a.version=n+1,b&&b());return[l,v,t!==f]}},function(b,e,a){function c(a,d,h,b,n,k,t,g,l,v,q,w,e,u,G){var m;if(a&&"object"===typeof a&&!a.$type){m=[];var r=0;p(a)&&(m[r++]="length");for(var x in a)y(x)||(m[r++]=x)}else m=void 0;if(m&&m.length){r=0;x=m.length;var C=l.index;do{var A=m[r],B=a[A],z=!(!B||"object"!==typeof B)&&!B.$type;g.depth=
d;var F=f(h,b,n,A,B,z,!1,g,l,v,q,w,e,u,G);g[d]=A;g.index=d;var E=F[0],D=F[1],F=F[2];F[F.index++]=A;E&&(z?c(B,d+1,h,D,E,k,t,g,F,v,q,w,e,u,G):(k.push(g.slice(0,g.index+1)),t.push(F.slice(0,F.index))));if(++r>=x)break;l.index=C}while(1)}}function f(a,c,h,b,n,p,t,A,e,u,y,H,D,E,G){for(var m=h.$type;m===g;){a:{c=n;e=a;var m=A,r,x=u,C=y,B=H,z=D,F=E,I=G,J,R=h.value;r=R.slice(0);if(l(h,I))q(h,C,B),h=void 0,J=e,r.index=R.length;else{var O=h;h=h["\u001e\u0192_context"];if(null!=h)J=h["\u001e\u0192_parent"]||
e,r.index=R.length;else{var P=0,U=R.length-1;r.index=P;J=h=e;do{J=f(e,J,h,R[P],c,P<U,!0,m,r,x,C,B,z,F,I);h=J[0];r=J[2];if(!h||"object"!==typeof h){r.index=P;e=J;break a}J=J[1]}while(P++<U);r.index=P;O["\u001e\u0192_context"]!==h&&k(O,h)}}d[0]=h;d[1]=J;d[2]=r;e=d}h=e[0];if(!h||"object"!==typeof h)return e;c=e[1];e=e[2];m=h&&h.$type}if(void 0===m){if(null==b){if(p)throw new w;h&&(b=h["\u001e\u0192_key"])}else c=h,h=c[b];h=v(c,h,b,n,p,t,A,e,u,y,H,D,E,G)}d[0]=h;d[1]=c;d[2]=e;return d}var d=Array(3),p=
Array.isArray,g=a(0),l=a(1),q=a(3),k=a(6),u=a(11),y=a(20),w=a(8),v=a(47);b.exports=function(a,m,h,f,b){var k=a._root,p=k.expired,n=k.version,r=a._path,g=k.cache,l=u(g,r),x=l["\u001e\u0192_parent"]||g;a=g["\u001e\u0192_version"];for(var v=[],e=[],q=[],w=r.length,y=-1,K=m.length;++y<K;){var M=m[y],S=r.slice(0);S.index=w;c(M.json,0,g,x,l,e,q,v,S,n,p,k,f,h,b)}d[0]=void 0;d[1]=void 0;d[2]=void 0;m=g["\u001e\u0192_version"];h=k.onChange;a!==m&&(k.version=n+1,h&&h());return[e,q,a!==m]}},function(b,e,a){b.exports=
function(a){return a&&"$"===a[0]||c(a)};var c=a(34)},function(b,e){function a(c,f,d){d=d||[];f=f||[];for(var b=[],g=c.$keys,l=g.length,e=-1;++e<l;){var k=c[e],u=g[e];k?a(k,f,d.concat([u])):b.push(u)}1===b.length?f.push(d.concat(b)):1<b.length&&f.push(d.concat([b]));return f}b.exports=a},function(b,e){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,e){function a(a,d){var c=d.from=a.from||0;a=d.to=a.to||"number"===typeof a.length&&d.from+a.length-
1||0;d.rangeOffset=d.from;d.loaded=!0;c>a&&(d.empty=!0)}var c=Array.isArray;b.exports=function(f,d){if(void 0===d.isArray){d.done=!1;var b=d.isObject=!(!f||"object"!==typeof f);d.isArray=b&&c(f);d.arrayOffset=0}if(d.isArray){var g;do{d.loaded&&d.rangeOffset>d.to&&(++d.arrayOffset,d.loaded=!1);if(d.arrayOffset>=f.length){d.done=!0;break}b=f[d.arrayOffset];"object"===typeof b?(d.loaded||a(b,d),d.empty||(g=d.rangeOffset++)):(++d.arrayOffset,g=b)}while(void 0===g);return g}if(d.isObject){d.loaded||a(f,
d);if(d.rangeOffset>d.to){d.done=!0;return}return d.rangeOffset++}d.done=!0;return f}},function(b,e,a){b.exports=a(41)},function(b,e,a){b.exports=a(44)},function(b,e){b.exports=function(a,c,b,d,p){var f=0,l;l=d.jsonGraph;l||(d.jsonGraph=l={});do{d=c[f++];if(f>=b){l=l[d]=!0!==p?a:l[d]||{};break}l=l[d]||(l[d]={})}while(1);return l}},function(b,e,a){var c=Array.isArray,f=a(40).pathToTree,d=a(5);b.exports=function(a,b,l,e,k,u,y,w,v,x,m,h){if(v||m){for(var r,n=-1,p=(u=k-b)&&Array(u)||void 0;++n<u;){r=
a[n+b];var t;t=r;if("object"!==typeof t||null===t)t=!1;else if(c(t))t=0===t.length;else{var g=t.to,q=t.from||0;"number"!==typeof g&&(g=q+(t.length||0));t=q>=g}if(t)return;p[n]=r}var z;a=null===r;r=v;var F;v?(t=k,g=e,F=l.requested||(l.requested=[])):(b=w,g=y,t=w+u-Number(a));do{if(u<k||!r){e=-1;n=b;for(z=Array(t);++e<n;)z[e]=g[e];for(n=-1;e<t;)z[e++]=p[++n]}if(r=!r){v&&(F[F.length]=z);break}F[F.length]=z||p;b=w;g=y;F=l.missing||(l.missing=[]);t=w+u-Number(a)}while(1);if(m)return 0===u?d:f(x,z,b,t,
d,h)}}},function(b,e,a){var c=a(1),f=a(3),d=a(13);b.exports=function(a,b,l,e,k,u,y,w,v,x,m,h,r,n,C,t,A,B,z,F,H,D){var g=B;if(!a||!b)return B&&(g=!0,u&&(y.hasValue=!0)),D(e,k,y,w,v,h,x,m,z,l,g,t);if(c(a,C))return a["\u001e\u0192_invalidated"]||f(a,n,r),D(e,k,y,w,v,h,x,m,z,l,g,t);d(r,a);if(u)return h&&(w[k]=null),H(a,b,k,u,y,w,x,m,h,A,B,F)}},function(b,e,a){function c(a,h,b,k,g,t,p,l,e){var m={},n=h<a.length-1,r=a[h],q=w(r,m);do{d=f(b,k,g,q,n,!1,t,p,l,e);var C=d[0],A=d[1];C&&(n?c(a,h+1,b,A,C,t,p,l,
e):x(C,A,q,l)&&v(A,u(C),l,t));q=w(r,m)}while(!m.done)}function f(a,c,b,n,g,t,x,e,v,w){for(t=b.$type;t===p;){a:{c=a;t=x;var h=e,m=v,r=w;if(l(b,r))q(b,h,m),d[0]=void 0,d[1]=c;else{k(m,b);var C=b,A=b.value,u;b=b["\u001e\u0192_context"];if(null!=b)u=b["\u001e\u0192_parent"]||c;else{var B=0,z=A.length-1;u=b=c;do{d=f(c,u,b,A[B],B<z,!0,t,h,m,r);b=d[0];if(!b&&"object"!==typeof b)break a;u=d[1]}while(B++<z);C["\u001e\u0192_context"]!==b&&y(C,b)}d[0]=b;d[1]=u}}b=d[0];if(!b&&"object"!==typeof b)return d;c=d[1];
t=b.$type}if(void 0!==t)return[b,c];if(null==n){if(g)throw Error("`null` is not allowed in branch key positions.");}else c=b,b=c[n];d[0]=b;d[1]=c;return d}var d=Array(2),p=a(0),g=a(17),l=a(1),q=a(3),k=a(13),u=a(9),y=a(6),w=a(23),v=a(12),x=a(31);b.exports=function(a,h,b){var m=a._root,f=m.expired,k=m.version++,p=m.cache,l=g(a),r=l["\u001e\u0192_parent"]||p;a=p["\u001e\u0192_version"];for(var x=-1,e=h.length;++x<e;)c(h[x],0,p,r,l,k,f,m,b);d[0]=void 0;d[1]=void 0;h=p["\u001e\u0192_version"];(m=m.onChange)&&
a!==h&&m()}},function(b,e,a){var c=a(0),f=a(55),d=a(86),p=a(87);b.exports=function(a,b,e,k){if(a&&"object"===typeof a){var g=a.$type;g&&(g===c&&p(a),f(k,a));d(a);b[e]=a["\u001e\u0192_parent"]=void 0;return!0}return!1}},function(b,e,a){var c=a(30),f=a(20);b.exports=function p(a,b,e,k){if(c(a,b,e,k)){if(null==a.$type)for(var g in a)f(g)||p(a[g],a,g,k);return!0}return!1}},function(b,e,a){function c(a,d,b,h,k,n,p,t,g,l,e,w,q,u,E,G){var m={},r=b<d.length-1,x=d[b],v=y(x,m),C=l.index;do{g.depth=b;g[b]=v;
g.index=b;var A=f(h,k,n,v,a,r,!1,g,l,e,w,q,u,E,G);g[b]=v;g.index=b;var B=A[0],z=A[1],A=A[2];A[A.index++]=v;B&&(r?c(a,d,b+1,h,z,B,p,t,g,A,e,w,q,u,E,G):(p.push(g.slice(0,g.index+1)),t.push(A.slice(0,A.index))));v=y(x,m);if(m.done)break;l.index=C}while(1)}function f(a,c,b,h,k,n,e,t,A,y,z,F,H,D,E){for(var m=b.$type;m===p;){a:{c=k;A=a;var m=t,r,x=y,v=z,C=F,B=H,X=D,Q=E,I,J=b.value;r=J.slice(0);if(g(b,Q))l(b,v,C),b=void 0,I=A,r.index=J.length;else{var R=b;b=b["\u001e\u0192_context"];if(null!=b)I=b["\u001e\u0192_parent"]||
A,r.index=J.length;else{var O=0,P=J.length-1;I=b=A;do{var U=J[O],ba=O<P;r.index=O;I=f(A,I,b,U,c,ba,!0,m,r,x,v,C,B,X,Q);b=I[0];r=I[2];if(!b||"object"!==typeof b){r.index=O;A=I;break a}I=I[1]}while(O++<P);r.index=O;R["\u001e\u0192_context"]!==b&&q(R,b)}}d[0]=b;d[1]=I;d[2]=r;A=d}b=A[0];if(!b||"object"!==typeof b)return A;c=A[1];A=A[2];m=b.$type}if(!n||void 0===m){if(null==h){if(n)throw new u;b&&(h=b["\u001e\u0192_key"])}else c=b,b=c[h];b=w(c,b,h,k,n,e,t,A,y,z,F,H,D,E)}d[0]=b;d[1]=c;d[2]=A;return d}var d=
Array(3),p=a(0),g=a(1),l=a(3),q=a(6),k=a(11),u=a(8),y=a(23),w=a(47);b.exports=function(a,b,m,h,f){var n=a._root,g=n.expired,p=n.version,l=a._path,e=n.cache,r=k(e,l),x=r["\u001e\u0192_parent"]||e;a=e["\u001e\u0192_version"];for(var v=[],w=[],q=[],u=l.length,y=-1,N=b.length;++y<N;){var K=b[y],M=K.path,K=K.value,S=l.slice(0);S.index=u;c(K,M,0,e,x,r,w,q,v,S,p,g,n,h,m,f)}d[0]=void 0;d[1]=void 0;d[2]=void 0;b=e["\u001e\u0192_version"];m=n.onChange;a!==b&&(n.version=p+1,m&&m());return[w,q,a!==b]}},function(b,
e,a){e=a(4);b.exports=e("InvalidKeySetError",function(a,b){this.mesage="The KeySet "+JSON.stringify(b)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,e,a){e=a(94);e=new RegExp("^"+e,"i","g");b.exports=e.test.bind(e)},function(b,e){b.exports=0},function(b,e){e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(e=window)}b.exports=e},function(b,e,a){var c=Array.isArray,f=a(21);
b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,d){var c=d.length;a[c]||(a[c]=[]);a[c].push(d);return a},b||{})}},function(b,e,a){var c=a(40);b.exports=function(a,d){return Object.keys(a).reduce(function(d,b){d[b]=c(a[b],d[b]);return d},d||{})}},function(b,e,a){function c(a,b,f){var g,m=Object.create(null),h=""+k(""+b),e=[],n=-1,l=0,t=[],v=0,w,q,u,y,D,E;u=[];y=-1;if(b<f-1){for(D=d(a,u);++y<D;)g=u[y],w=c(a[g],b+1,f),q=w.code,m[q]?w=m[q]:(e[l++]=q,w=
m[q]={keys:[],sets:w.sets}),h=""+k(h+g+q),p(g)&&w.keys.push(parseInt(g,10))||w.keys.push(g);for(;++n<l;)if(g=e[n],w=m[g],u=w.keys,D=u.length,0<D)for(a=w.sets,b=-1,f=a.length,y=u[0];++b<f;){g=a[b];w=-1;q=g.length;E=Array(q+1);for(E[0]=1<D&&u||y;++w<q;)E[w+1]=g[w];t[v++]=E}}else for(D=d(a,u),1<D?t[v++]=[u]:t[v++]=u;++y<D;)h=""+k(h+u[y]);return{code:h,sets:t}}function f(a,d){return a-d}function d(a,d,b){var c=0;if(a===u)d[c++]=null;else{for(var f in a)d[c++]=f;1<c&&d.sort(b)}return c}function p(a){var d=
a,c=typeof a;if("string"===c){d=a.length;if(0===d||17<d||!q.test(a))return!1;if(16>d)return!0;d=+a}else if("number"!==c)return!1;return 0===d%1&&9007199254740991>=l(d)}var g=Array.isArray,l=Math.abs,q=/^(0|(\-?[1-9][0-9]*))$/,k=a(22),u=a(5);b.exports=function(a){var d,b=[],k=0,m;for(m in a){var h;if(h=p(m))h=d=a[m],h=null!==h&&"object"===typeof h;if(h){h=c(d,0,parseInt(m,10)).sets;for(var e=-1,n=h.length;++e<n;){for(var l=k++,t=h[e],q=-1,u=t.length;++q<u;){var y=t[q];if(g(y)){var F=t,H=q;for(var D=
-1,E=y.length-1,G=0<E;++D<=E;){var L=y[D];if(!p(L)){G=!1;break}y[D]=parseInt(L,10)}!0===G&&(y.sort(f),D=y[0],G=y[E],G-D<=E&&(y={from:D,to:G}));F[H]=y}}b[l]=t}}}return b};b.exports._isSafeNumber=p},function(b,e,a){function c(a,b,e,q,k,u){if(e===q)return!0;var g,l,p=-1,x=0,m,h=e+1,r,n,C;l=b[e];if(null===l)return d;g=l;a=a?a:u?u(b,e,a):{};a:do{if("object"!==typeof l)u=l,n=void 0,r=!1;else if(f(l)){if(void 0!==C)break a;p=0;C=l;x=l.length;if(0===x)break a;l=C[p];continue a}else{n=l.to;u=l.from||0;"number"!==
typeof n&&(n=u+(l.length||0)-1);if(0>n-u)break a;r=!0}do h===q?a[u]=k:(l=a[b[e]=u],(m=c(l,b,h,q,k))?l||(a[u]=m):a[u]=k);while(r&&++u<=n);if(++p===x)break a;l=C[p]}while(1);b[e]=g;return a}var f=Array.isArray,d=a(5);b.exports=function(a,d){return a.reduce(function(a,d){return c(a,d,0,d.length,null)},d||{})};b.exports.pathToTree=c},function(b,e,a){var c=a(75),f=a(74),d=a(17),p=a(92),g=a(67),l=a(65);b.exports=function(a,b,e,y,w){var k,x;y=a._path;var m=a._root,h=m.cache,r,n,q,t=y&&y.length||0;if(t){if((k=
d(a))&&k.$type)return{error:new p(y,y)};q=[];for(x=0;x<t;++x)q[x]=y[x];x=a._referenceContainer}else k=h,q=[];r=[];var u=!1,B=e&&e.json,z={data:e},F=a._boxed,H=m.expired;n=a._recycleJSON;var D=a._materialized,E=!!a._source,G=m.branchSelector,L=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var N,K=0,M=b.length;if(0<M)if(n){M=1;u=!0;b[0].$keys||(b=[l(g(b,{}))]);do N=b[K],n=f(h,k,B,N,0,e,z,r,q,t,!1,x,m,H,w,G,F,D,E,L,a),B=n[0],n[0]=void 0,n[1]=void 0;while(++K<M)}else{do N=b[K],n=N.length,B=c(h,k,
B,N,0,e,z,r,n,q,t,!1,x,m,H,w,G,F,D,E,L,a);while(++K<M)}w=z.requested;z.args=u&&b||w;if(w&&w.length&&(z.relative=z.args,t)){b=[];x=0;for(t=w.length;x<t;++x)b[x]=y.concat(w[x]);z.requested=b}z.hasValue&&(e.json=B);return z}},function(b,e,a){var c=Array(3),f=a(0),d=a(13),p=a(1),g=a(6),l=a(52);b.exports=function(a,b,e,y){d(e,b);var k,q,x=0,m=a,h=b.value,r=h,n=h.length;do{if(0===x&&void 0!==(k=b["\u001e\u0192_context"]))m=k,x=n;else if(q=h[x++],void 0===(m=m[q]))break;if(x===n){q=m.$type;if(void 0!==q&&
p(m,y))break;else{if(m===b)throw new l(h);m!==k&&g(b,m)}if(q===f)d(e,m),x=0,b=m,m=a,h=r=b.value,n=h.length;else break}else if(void 0!==m.$type)break}while(1);x<n&&void 0!==m&&(n=x);x=-1;for(h=Array(n);++x<n;)h[x]=r[x];c[0]=m;c[1]=h;c[2]=b;return c}},function(b,e,a){var c=a(10),f=a(73),d=a(16),p=a(5);b.exports=function(a,b,e,k,u,y,w,v,x,m,h,r){if(d===b&&!r)return f(a,e,u,y,x,m);e=a&&a.value;if(b&&void 0===e){if(h)return u.hasValue=!0,p}else return u.hasValue=!0,m?c(a):e}},function(b,e,a){var c=a(78),
f=a(90);b.exports=function(a,b,e,l,q){var d,g;d=a._path;l=a._root;var p,w,v=d&&d.length||0;if(v)return{error:new f};w=[];g=d=l.cache;p=[];for(var x=a._boxed,m=l.expired,h=a._materialized,r=!!a._source,n=a._treatErrorsAsValues,C={data:e},t=-1,A=b.length;++t<A;){var B=b[t];a=B.length;c(g,d,B,0,e,C,p,a,w,v,!1,l,m,q,x,h,r,n)}C.args=C.relative=C.requested;return C}},function(b,e,a){b.exports=function(a,b,d,e,g){a["\u001e\u0192_key"]=d;a["\u001e\u0192_parent"]=b;void 0!==e&&(a["\u001e\u0192_version"]=e);
a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=g.slice(0,g.index).concat(d));return b[d]=a}},function(b,e,a){function c(a,d,b,e,k,l,g,p,u,z){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!y(h)){var m=a[h],n=!(!m||"object"!==typeof m)&&!m.$type,t=f(b,e,k,h,m,n,!1,l,g,p,u,z),r=t[0],t=t[1];r&&(n?c(m,d+1,b,t,r,l,g,p,u,z):v(r,t,h,p)&&w(t,q(r),p,l))}}function f(a,b,c,e,n,q,t,v,u,w,y,H){for(t=c.$type;t===d;){a:{b=n;t=a;var h=v,m=u,r=w,x=y,C=H;if(p(c,C))g(c,m,r),b=[void 0,t];else{l(r,c);
var A=c,B=c.value,z;c=c["\u001e\u0192_context"];if(null!=c)z=c["\u001e\u0192_parent"]||t;else{var F=0,Q=B.length-1;z=c=t;do{z=f(t,z,c,B[F],b,F<Q,!0,h,m,r,x,C);c=z[0];if(!c||"object"!==typeof c){b=z;break a}z=z[1]}while(F++<Q);A["\u001e\u0192_context"]!==c&&k(A,c)}b=[c,z]}}c=b[0];if(!c&&"object"!==typeof c)return b;b=b[1];t=c&&c.$type}if(void 0!==t)return[c,b];if(null==e){if(q)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[e];return[c,b]}var d=a(0),p=a(1),g=a(3),l=a(13),
q=a(9),k=a(6),u=a(17),y=a(20),w=a(12),v=a(31);b.exports=function(a,b,d){var h=a._root,f=h.expired,m=h.version++,e=h._comparator,k=h.cache,l=u(a),g=l["\u001e\u0192_parent"]||k;a=k["\u001e\u0192_version"];for(var p=-1,q=b.length;++p<q;)c(b[p].json,0,k,g,l,m,f,h,e,d);b=k["\u001e\u0192_version"];(h=h.onChange)&&a!==b&&h()}},function(b,e,a){var c=a(0),f=a(16),d=a(35),p=a(103),g=a(9),l=a(58),q=a(51),k=a(1),u=a(3),y=a(45),w=a(49),v=a(48),x=a(12);b.exports=function(a,b,e,n,C,t,A,B,z,F,H,D,E,G){G=p(b,t);if(C||
t){if(G&&k(b,!0)&&(u(b,F,H),G=b.$expires===d?G:"expired"),G&&G!==c||!b||"object"!==typeof b)b=w(b,{},a,e,H,z),b=y(b,a,e,z,B)}else C=p(n),(D?D(b,n,B.slice(0,B.index)):C?G&&!1!==l(n)<l(b)&&(G!==C||b.value!==n.value||b.$expires!==n.$expires):b&&b.value===n)||(E&&C===f&&(n=E(v(A,e),n)),n=q(n,C,C?n.value:n),A=g(b)-g(n),b=w(b,n,a,e,H,z),a=x(a,A,H,z),b=y(b,a,e,z,B));return b}},function(b,e){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,e,a){var c=a(85),f=a(31),d=a(50);
b.exports=function(a,b,e,q,k,u){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,e,q,k),d(b,u));return e[q]=b}},function(b,e,a){b.exports=function(a,b){var d=[a],c=0;do{var f=d[c];if(f&&f["\u001e\u0192_version"]!==b){f["\u001e\u0192_version"]=b;d[c++]=f["\u001e\u0192_parent"];for(var e=-1,q=f["\u001e\u0192_refs_length"]||0;++e<q;)d[c++]=f["\u001e\u0192_ref"+e]}}while(-1<--c);return a}},function(b,e,a){var c=Array.isArray,f=a(61),d=a(35),p=a(106),g=a(101),l=a(9),q=a(102);b.exports=function(a,
b,e){var k=0;if(b){var v=a["\u001e\u0192_wrapped_value"];a=g(a);k=l(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=v||!1}else a={$type:p,value:e,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==e)k=51;else if(null==k||0>=k)switch(typeof e){case "object":k=c(e)?50+e.length:51;break;case "string":k=50+e.length;break;default:k=51}b=q(a);"number"===typeof b&&b<d&&(a.$expires=f()+-1*b);a.$size=k;return a}},
function(b,e,a){e=a(4);b.exports=e("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,e,a){e=a(4);b.exports=e("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,e,a){var c=a(30),f=a(12);b.exports=function(a,b,e,l,q,k){var d=q;"number"!==typeof d&&(d=.75);q="number"===typeof k;var d=l*d,g,p,v;for(p=b.pop();p;)v=p.$size||0,e-=v,!0===q?f(p,v,a,k):(g=p["\u001e\u0192_parent"])&&
c(p,g,p["\u001e\u0192_key"],a),p=b.pop();if(e>=l){for(p=b=a["\u001e\u0192_tail"];e>=d&&p;)b=b["\u001e\u0192_prev"],v=p.$size||0,e-=v,!0===q&&f(p,v,a,k),p=b;a["\u001e\u0192_tail"]=a["\u001e\u0192_prev"]=p;null==p?a["\u001e\u0192_head"]=a["\u001e\u0192_next"]=void 0:p["\u001e\u0192_next"]=void 0}}},function(b,e,a){b.exports=function(a,b){var d=b["\u001e\u0192_prev"],c=b["\u001e\u0192_next"];c&&(c["\u001e\u0192_prev"]=d);d&&(d["\u001e\u0192_next"]=c);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;
b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=c);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=d)}},function(b,e,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var d=a(14),e=a(15),g=a(107).default;b.exports=f;f.prototype[g]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.subscribe=function(a,b,c){return new e([this.operator.call(this.source,a instanceof d?a:
new d(a,b,c))])};f.prototype.then=function(a,b){var d=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],f=!1;d.subscribe({next:function(a){c[c.length]=a},error:function(a){f=!0;b(a)},complete:function(){!f&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(e,a(36))},function(b,e){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,e,a){var c=a(2);b.exports=function(a){return c(a)&&
a.$timestamp||void 0}},function(b,e,a){var c=a(2);b.exports=function(a){return c(a)&&"json"in a}},function(b,e,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,e){b.exports=Date.now},function(b,e){b.exports=1},function(b,e,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(68);e=a(7);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=e;c.toProps=e.prototype.toProps;
b.exports=c},function(b,e,a){var c=a(39),f=a(37),d=a(38);b.exports=function(a){return c(d(f(a)))}},function(b,e,a){function c(a){if(void 0!==a){for(var b="",d=a.$keys,e=-1,q=d.length;++e<q;){var k=d[e];if(null===k)b=""+f(""+b+"null");else{"object"===typeof k&&(k="{from:"+k.from+",length:"+k.length+"}");var u=c(a[e]),b=void 0===u?""+f(""+b+k):""+f(""+b+k+u.$code)}}a.$code=b;return a}}var f=a(22);b.exports=c},function(b,e,a){function c(a,b,e,q){if(e===q)return!0;var k,g=-1,l=0,p=e+1,v,x,m;k=b[e];if(null===
k)return a===d;a:do{if("object"!==typeof k)e=k,x=void 0,v=!1;else if(f(k)){if(void 0!==m)break a;g=0;m=k;l=k.length;if(0===l)break a;k=m[g];continue a}else{x=k.to;e=k.from||0;"number"!==typeof x&&(x=e+(k.length||0)-1);if(0>x-e)break a;v=!0}do if(p===q){if(null!==a[e])return!1}else if(k=a[e],null===k||void 0===k||!1===c(k,b,p,q))return!1;while(v&&++e<=x);if(++g===l)break a;k=m[g]}while(1);return!0}var f=Array.isArray,d=a(5);b.exports=c},function(b,e,a){function c(a,b){return a.reduce(function(a,b){return d(b)?
f(a,b,0,b.length):c(g(b),a)},b||{})}function f(a,b,c,e){if(c!==e){a=a||{};var g=a.$keys||(a.$keys=[]),k=a.$keysMap||(a.$keysMap={}),l,q=-1,m=0,h,r=c+1,n;l=b[c];if(null===l)return p;a:do{if("object"!==typeof l)h=l,"undefined"===typeof(c=k[h])&&(c=g.length),g[c]=h,k[h]=c,l=f(a[c],b,r,e),void 0!==l&&(a[c]=l);else if(d(l)){if(void 0!==n)break a;q=0;n=l;m=l.length;if(0===m)break a;l=n[q];continue a}else{c=l.to;h=l.from||0;"number"!==typeof c&&(c=h+(l.length||0)-1);if(0>c-h)break a;l={from:h,length:c-h+
1};h="{from:"+h+",length:"+(c-h+1)+"}";"undefined"===typeof(c=k[h])&&(c=g.length);g[c]=l;k[h]=c;l=f(a[c],b,r,e);void 0!==l&&(a[c]=l)}if(++q===m)break a;l=n[q]}while(1);return a}}var d=Array.isArray,p={$keys:[null],$keysMap:{"null":0}},g=a(21);b.exports=c},function(b,e,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new d(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new q;
a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={__proto__:p.prototype});this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(95),d=a(70),p=a(7),g=a(69),
l=a(99),q=a(57),k=a(54),u=a(9),y=a(2),w=a(59),v=a(11),x=a(60),m=a(19),h=a(18),r=a(24),n=a(79),C=a(25);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(this._seed||{__proto__:p.prototype},[])};c.prototype.set=function(){return(new f("set",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:p.prototype},[])};c.prototype.preload=function(){return(new f("get",this,Array.prototype.slice.call(arguments,
0)))._toJSON(null,[])};c.prototype.call=function(){return(new f("call",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:p.prototype},[])};c.prototype.invalidate=function(){return(new f("invalidate",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,null).then()};c.prototype.deref=a(89);c.prototype._hasValidParentReference=a(88);c.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({__proto__:p.prototype},[]).lift(function(b){return this.subscribe({onNext:function(c){var d=
-1;c=c.json;for(var e=a.length;c&&!c.$type&&++d<e;)c=c[a[d]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return(new f("set",this,[b]))._toJSON({__proto__:p.prototype},[]).lift(function(b){return this.subscribe({onNext:function(c){var d=-1;c=c.json;for(var e=a.length;c&&!c.$type&&++d<e;)c=c[a[d]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};
c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,d=this._path;this._path=[];this._node=this._root.cache={};"undefined"!==typeof b&&(k(c,c.expired,u(b),0),this._recycleJSON&&(this._seed={__proto__:p.prototype}));var e;x(a)?e=h(this,[a])[0]:w(a)?e=m(this,[a])[0]:y(a)&&(e=m(this,[{json:a}])[0]);e&&r(this,e,null,!1,!0);this._path=d}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,
0);if(0===a.length)return n(this._root.cache);var b={},c=this._path;this._path=[];C(this,a,b);this._path=c;return b.jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=new c(this);if(a)for(var d in a){var e=a[d];"delete"===e?delete b[d]:"_path"===d?(b[d]=e,!1===a.hasOwnProperty("_node")&&
delete b._node):b[d]=e}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new l(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new l(1);return this._clone({_scheduler:b})};c.prototype.unbatch=function(){return this._clone({_scheduler:new q})};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new g(this)};
c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};
c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=v(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(80);c.prototype._getPathValuesAsPathMap=r;c.prototype._getPathValuesAsJSONG=C;c.prototype._setPathValues=a(32);c.prototype._setPathMaps=a(19);c.prototype._setJSONGs=a(18);c.prototype._setCache=a(19);c.prototype._invalidatePathValues=a(29);c.prototype._invalidatePathMaps=
a(46)},function(b,e){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,d,e){return this._model.call.apply(this._model,[a,b,d].concat(e))._toJSONG()};b.exports=a},function(b,e,a){function c(a,b){a=a||{};this.cache={};this.syncRefCount=this.version=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=
new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);
"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}a(104);var f=a(96);c.comparator=function(a,b){var c=a&&a.$type,d=b&&b.$type;return c?d?!(c!==d||a.value!==b.value||a.$expires!==b.$expires):a.value===b:d?!1:a===b};b.exports=c},function(b,e,a){var c=a(24),f=a(25);b.exports={json:function(a,b,e,f){var d=!1;if(!b)return{missing:!1,hasValue:!1};var k=[].concat(b[1]||[]),g=[].concat(b[2]||[]),l=[].concat(b[3]||
[]);b=(a._path||[]).concat(b[0]||[]);f&&l&&l.length&&(d=c(a,l,e,f,!0).hasValue);return{data:e,missing:!0,hasValue:d,fragments:[b,k,g,l]}},jsonGraph:function(a,b,c,e){var d=!1;if(!b)return{missing:!1,hasValue:!1};var k=[].concat(b[1]||[]),g=[].concat(b[2]||[]),l=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);e&&l&&l.length&&(d=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},l,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:d,fragments:[b,
k,g,l]}}}},function(b,e,a){b.exports={json:a(41),jsonGraph:a(44)}},function(b,e,a){var c=a(10);b.exports=function(a,b,e,g,l,q){var d=-1;b+=!!l;l=Array(b);for(a=q?c(a):a.value;++d<b;)l[d]=g[d];(e.errors||(e.errors=[])).push({path:l,value:a})}},function(b,e,a){function c(a,b,d,e,h,p,w,F,H,D,E,G,L,N,K,M,S,X,Q,I,J){var n,r;if(void 0===b||void 0!==(n=b.$type)||void 0===e)return g[1]=!1,g[0]=u(b,n,d,e,h,p,w,F,h,H,D,E,L,N,K,M,S,X,Q,I,l,f),g;var t,C,A="",B,z,W,Z=e.$keys,ha=h+1,T,Y,ca,aa,ea,ia=D+1,da,la;J&&
G&&(la=G.value,da=G["\u001e\u0192_abs_path"]);if(d)if("object"!==typeof d)d=void 0;else if(t=d["\u001e\u0192_meta"]){if(!(M||d instanceof k))d={__proto__:new k(t)};else if(t.version===b["\u001e\u0192_version"]&&t.$code===e.$code&&t.abs_path===b["\u001e\u0192_abs_path"])return w.hasValue=!0,g[0]=d,g[1]=!1,g;C=t.keys;t.version=b["\u001e\u0192_version"];t.abs_path=b["\u001e\u0192_abs_path"];t.deref_to=la;t.deref_from=da}n={};var ma=-1,na=Z.length,fa,ka,ga=!1;a:for(;++ma<na;)if(E=Z[ma],fa=e[ma],null===
E){if(void 0!==fa)throw new x;A=""+m(""+A+"null")}else{if("object"!==typeof E)z=E,T=void 0,W=!1,ka=z;else{T=E.to;z=E.from||0;"number"!==typeof T&&(T=z+(E.length||0)-1);if(0>T-z)break a;W=!0;ka="{from:"+z+",length:"+(T-z+1)+"}"}do E=!1,Y=d&&d[z],ea=H,aa=ia,ca=G,B=b[z],F[h]=z,H[D]=z,B&&void 0!==fa&&B.$type===q&&!y(B,K)&&(r=v(a,B,L,K),B=r[0],E=!0,ea=r[1],ca=r[2],aa=ea.length,r[0]=r[1]=r[2]=void 0),g=c(a,B,Y,fa,ha,p,w,F,ea,aa,E,ca,L,N,K,M,S,X,Q,I,J),Y=g[0],ga=ga||g[1],p&&(void 0!==Y?(void 0===t&&(t={},
t.version=b["\u001e\u0192_version"],t.abs_path=b["\u001e\u0192_abs_path"],t.deref_to=la,t.deref_from=da,M&&(d=M(t))?d["\u001e\u0192_meta"]=t:(d={__proto__:k.prototype},d["\u001e\u0192_meta"]=t,d={__proto__:d})),n[z]=!0,C&&C.hasOwnProperty(z)&&(C[z]=!1),d[z]=Y):(ga=!0,d&&d.hasOwnProperty(z)&&delete d[z]));while(W&&++z<=T);ga||(A=void 0===fa?""+m(""+A+ka):""+m(""+A+ka+fa.$code))}ga&&(A="__incomplete__");if(t&&(t.$code=A,t.keys=n,C))for(z in C)C[z]&&delete d[z];g[0]=d;g[1]=ga;return g}function f(a,b,
c,e,f,m,g,l,k,q,x,v){a=a?h(a):[[]];var n=e.slice(0,f),r=v?d(v):p;return a.reduce(function(a,d){var h=b+d.length;return w(n.concat(d),b,c,e,h,m,g,l,k,a,x,r)},q)}function d(a){return function(b,c,d){d={version:0};d.abs_path=b.slice(0,c);return a(d)}}function p(a,b,c){var d={version:0};d.abs_path=a.slice(0,b);c={__proto__:k.prototype};c["\u001e\u0192_meta"]=d;return{__proto__:c}}var g=Array(2),l=a(43),q=a(0),k=a(7),u=a(28),y=a(1),w=a(27),v=a(42),x=a(8);a(33);var m=a(22),h=a(21);b.exports=c},function(b,
e,a){function c(a,b,d,e,p,w,B,z,F,H,D,E,G,L,N,K,M,S,X,Q,I,J){var h,n;if(void 0===b||(h=b.$type)||p===F)return u(b,h,d,e,p,w,B,z,F,H,D,E,L,N,K,M,S,X,Q,I,l,f);var r,t,C,A=p+1,V,W,Z,ha,T=-1,Y=0,ca,aa,ea=D+1,ia,da;E=e[p];if(null===E){if(A<F)throw new x;return d}J&&G&&(da=G.value,ia=G["\u001e\u0192_abs_path"]);if(d)if("object"!==typeof d)d=void 0;else if(r=d["\u001e\u0192_meta"])r.version=b["\u001e\u0192_version"],r.abs_path=b["\u001e\u0192_abs_path"],r.deref_to=da,r.deref_from=ia;a:do{if("object"!==typeof E)h=
E,V=void 0,C=!1;else if(g(E)){if(void 0!==W)throw new m(e,W);T=0;W=E;Y=E.length;if(0===Y)break a;E=W[T];continue a}else{V=E.to;h=E.from||0;"number"!==typeof V&&(V=h+(E.length||0)-1);if(0>V-h)break a;C=!0}do if(E=!1,Z=d&&d[h],aa=H,ca=ea,ha=G,t=b[h],z[p]=h,H[D]=h,t&&A<F&&t.$type===q&&!y(t,K)&&(n=v(a,t,L,K),t=n[0],E=!0,aa=n[1],ha=n[2],ca=aa.length,n[0]=n[1]=n[2]=void 0),Z=c(a,t,Z,e,A,w,B,z,F,aa,ca,E,ha,L,N,K,M,S,X,Q,I,J),void 0!==Z)void 0===r&&(r={},r.version=b["\u001e\u0192_version"],r.abs_path=b["\u001e\u0192_abs_path"],
r.deref_to=da,r.deref_from=ia,d=M?M(r):{__proto__:k.prototype})&&(d["\u001e\u0192_meta"]=r),d[h]=Z;while(C&&++h<=V);if(++T===Y)break a;E=W[T]}while(1);return d}function f(a,b,c,e,f,m,g,l,k,q,x,v){v=v?d(v):p;return w(a,b,c,e,f,m,g,l,k,q,x,v)}function d(a){return function(b,c,d){d={version:0};d.abs_path=b.slice(0,c);return a(d)}}function p(a,b,c){var d={version:0};d.abs_path=a.slice(0,b);c={__proto__:k.prototype};c["\u001e\u0192_meta"]=d;return c}var g=Array.isArray,l=a(43),q=a(0),k=a(7),u=a(28),y=
a(1),w=a(27),v=a(42),x=a(8),m=a(33);b.exports=c},function(b,e,a){var c=Array(2),f=a(10),d=a(0),p=a(26),g=a(13),l=a(1),q=a(6),k=a(52);b.exports=function(a,b,e,v,x){g(e,b);var m,h,r=0,n=a,u=b.value,t=u,w=u.length;do{if(0===r&&void 0!==(m=b["\u001e\u0192_context"]))n=m,r=w;else if(h=u[r++],void 0===(n=n[h]))break;if(r===w){h=n.$type;if(void 0!==h&&l(n,x))break;else{if(n===b)throw new k(u);n!==m&&q(b,n)}if(h===d)g(e,n),v&&p(f(n),u,w,v),r=0,b=n,n=a,u=t=b.value,w=u.length;else break}else if(void 0!==n.$type)break}while(1);
r<w&&void 0!==n&&(w=r);r=-1;for(u=Array(w);++r<w;)u[r]=t[r];c[0]=n;c[1]=u;return c}},function(b,e,a){var c=a(10),f=a(0),d=a(16),p=a(26),g=a(5);b.exports=function(a,b,e,u,y,w,v,x,m,h,r){var k=a&&a.value;if(b&&void 0===k)if(r)k=g;else return;else if(h||f===b||d===b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof k)k=c(a);u&&(y.hasValue=!0,p(k,v,x,u),(u.paths||(u.paths=[])).push(w.slice(0,e+!!m)));return k}},function(b,e,a){function c(a,b,e,m,t,y,B,z,F,H,D,E,G,L,N,K,M,S){var h,n;if(void 0===b||
(h=b.$type)||m===z)return k(b,h,t,e,m,t,y,B,z,F,H,D,E,G,L,void 0,N,K,M,S,l,f);var r,C,A=m+1,O,P,U=-1,ba=0,ja,V,W=H+1;D=e[m];if(null===D){if(A<z)throw new v;}else{a:do{if("object"!==typeof D)h=D,O=void 0,C=!1;else if(d(D)){if(void 0!==P)throw new x(e,P);U=0;P=D;ba=D.length;if(0===ba)break a;D=P[U];continue a}else{O=D.to;h=D.from||0;"number"!==typeof O&&(O=h+(D.length||0)-1);if(0>O-h)break a;C=!0}do D=!1,V=F,ja=W,r=b[h],B[m]=h,F[H]=h,r&&A<z&&r.$type===g&&!u(r,L)&&(t&&q(p(r),F,ja,t),n=w(a,r,E,t,L),r=
n[0],D=!0,V=n[1],ja=V.length,n[0]=n[1]=void 0),c(a,r,e,A,t,y,B,z,V,ja,D,E,G,L,N,K,M,S);while(C&&++h<=O);if(++U===ba)break a;D=P[U]}while(1)}}function f(a,b,c,d,e,f,k,g,l,p,x,v){var h;p&&x&&((p.paths||(p.paths=[])).push((v=0===e-b)&&d.slice(0,b+!!f)||d.slice(0,b).concat(a.slice(b,e+!!f))),h=q(v&&m||void 0,k,g,p,!v));return y(a,b,c,d,e,f,k,g,l,h,x)}var d=Array.isArray,p=a(10),g=a(0),l=a(77),q=a(26),k=a(28),u=a(1),y=a(27),w=a(76),v=a(8),x=a(33),m=a(5);b.exports=c},function(b,e,a){function c(a,b,e){a&&
"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(d){var e=a[d],k=b[d];k||(k=b[d]={});if(e.$type){k=!e["\u001e\u0192_wrapped_value"];if(e.value&&"object"===typeof e.value||k){var k={},g=Object.keys(e),l,p,v;p=0;for(v=g.length;p<v;p++)l=g[p],"$type"!==l&&f(l)||(k[l]=e[l]);e=k}else e=e.value;b[d]=e}else c(e,k,d)})}var f=a(20);b.exports=function(a){var b={};c(a,b);return b}},function(b,e,a){var c=a(17);b.exports=function(a,b){a=(a=c(a,
b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,e,a){var c=Array.isArray,f=a(105),d=a(59),p=a(60);b.exports=function(a){for(var b=[],e=-1,k=a.length,g,y,w,v;++e<k;)w=a[e],c(w)?(w={path:w},v="PathValues"):f(w)?v="PathValues":p(w)?v="JSONGraphs":d(w)&&(v="PathMaps"),y!==v&&(y=v,b.push(g={arguments:[],inputType:v})),g.arguments.push(w);return b}},function(b,e,a){function c(a,b,c,e,q){f(a,b,q);return{}}var f=a(29);a(46);b.exports={json:c,jsonGraph:c}},function(b,e,a){var c=a(0),f=a(16),
d=a(9),p=a(58),g=a(51),l=a(1),q=a(45),k=a(3),u=a(49),y=a(48),w=a(12);b.exports=function(a,b,e,h,r,n,C,t,A,B,z,F){var m,v,x,G,L,N;if(b===e){if(void 0===e)return e;if(null===e)return b=g(e,void 0,e),a=w(a,-b.$size,A,C),b=q(b,a,h,void 0,n);if((x=!(!b||"object"!==typeof b))&&void 0===(m=b.$type))return void 0===b["\u001e\u0192_parent"]&&q(b,a,h,C,n),b}else if(x=!(!b||"object"!==typeof b))m=b.$type;if(m!==c){if(G=!(!e||"object"!==typeof e))v=e.$type;if(x&&!m&&(null==e||G&&!v))return b}else{if(null==e){if(l(b,
F)){k(b,t,A);return}return b}if(G=!(!e||"object"!==typeof e))if(v=e.$type,v===c)if(b===e){if(null!=b["\u001e\u0192_parent"])return b}else if(L=b.$timestamp,N=e.$timestamp,!l(b,F)&&!l(e,F)&&N<L)return}if(m&&G&&!v)return q(u(b,e,a,h,A,C),a,h,void 0,n);if(v||!G){v===f&&z&&(e=z(y(r,h),e));if(v&&b===e)null==b["\u001e\u0192_parent"]&&(b=g(b,m,b.value),a=w(a,-b.$size,A,C),b=q(b,a,h,C,n));else{r=!0;if(!x||m&&!l(b,F))r=B?!B(b,e,n.slice(0,n.index)):v?!m||!1===p(e)<p(b)||!(m!==v||b.value!==e.value||b.$expires!==
e.$expires):!b||b.value!==e;r&&(e=g(e,v,v?e.value:e),B=d(b)-d(e),b=u(b,e,a,h,A,C),a=w(a,B,A,C),b=q(b,a,h,C,n))}l(b,!0)&&k(b,t,A)}else null==b&&(b=q(e,a,h,void 0,n));return b}},function(b,e,a){function c(a,c){for(var d=!1,e=-1,k=c.length,l=[],p=[],m=a._root.errorSelector;++e<k;){var h=c[e],r=h.inputType,h=h.arguments;if(0<h.length){var n=(0,b.exports["set"+r])(a,h,m,null,!1),d=d||n[2];p.push.apply(p,n[1]);"PathValues"===r?l.push.apply(l,h.map(f)):"JSONGraphs"===r?l.push.apply(l,g(h,f)):l.push.apply(l,
n[0])}}return{changed:d,requested:l,optimized:p}}function f(a){return a.path||a.paths}var d=a(24),p=a(25),g=a(100),l=a(81);b.exports={json:function(a,b,e,f,g){var k,q=l(b);b=c(a,q);get=(f||!b.changed)&&d(a,b.requested,e,f,g);b.changed&&(k=p({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},b.optimized,{},f,g));return{args:q,data:e,relative:b.requested,error:get&&get.error,errors:get&&get.errors,hasValue:get&&get.hasValue,fragments:k&&k.data,missing:k&&k.data.paths,
requested:k&&k.requested}},jsonGraph:function(a,b,d,e,f){var g,k=l(b);b=c(a,k);if(e||b.changed)g=p({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},b.optimized,d,e,f);return{args:k,data:d,relative:b.requested,error:g&&g.error,fragments:g&&g.data,hasValue:g&&g.hasValue,missing:g&&g.data.paths,requested:g&&g.requested}},setPathMaps:a(19),setPathValues:a(32),setJSONGraphs:a(18)}},function(b,e,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||
0,e=b["\u001e\u0192_refs_length"]||0,f=-1;++f<c;){var l=a["\u001e\u0192_ref"+f];void 0!==l&&(l["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(e+f)]=l,a["\u001e\u0192_ref"+f]=void 0)}b["\u001e\u0192_refs_length"]=c+e;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,e,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var e=a["\u001e\u0192_ref"+b];null!=e&&(e["\u001e\u0192_context"]=e["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=
void 0;return a}},function(b,e,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,e=(b["\u001e\u0192_refs_length"]||0)-1;++c<=e;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=e;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,e,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&
a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,e,a){var c=a(0),f=a(7),d=a(11),p=a(91);b.exports=function(a){if(!a||"object"!==typeof a)throw new p;var b,e,g,u;g=a&&a["\u001e\u0192_meta"];if(!g||"object"!==typeof g)return this._clone({_node:void 0,_seed:y&&{__proto__:f.prototype}||void 0});e=this._root.cache;var y=this._recycleJSON,w=g.abs_path;if(!w)return this._clone({_node:void 0,_seed:y&&{json:a,__proto__:f.prototype}||void 0});if(0===w.length)return this._clone({_node:e,_path:w,_referenceContainer:!0,
_seed:y&&{json:a,__proto__:f.prototype}||void 0});var v=g.deref_to,x=g.deref_from,m=d(e,w),h="e";if(x){h=!1;g=-1;u=x.length;for(b=e;++g<u&&(b=b[x[g]],b&&!b.$type););if(v&&b&&b.$type===c)for(h=!0,u=v.length,e=b.value,g=0;g<u;++g)if(e[g]!==v[g]){m=void 0;h=!1;break}}h?"e"===h&&(b=!0):b=!1;return this._clone({_node:m,_path:w,_referenceContainer:b,_seed:y&&{json:a,__proto__:f.prototype}||void 0})}},function(b,e,a){e=a(4);b.exports=e("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},
function(b,e,a){e=a(4);b.exports=e("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,e,a){e=a(4);b.exports=e("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,e,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}e=a(4);b.exports=e("MaxRetryExceededError",
function(a,b,e,g){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(e&&"relative: [\n\t"+c(e)+"\n]\n"||"")+(g&&"optimized: [\n\t"+c(g)+"\n]\n"||"")})},function(b,e){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,e,a){function c(a,b,c){q.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function d(a,
b,c,d,e,f){k.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=d;this.progressive=e;this.maxRetryCount=f}function p(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=w(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(C){throw C;}finally{--c.syncRefCount}}function g(a,b){try{throw b;}catch(r){k.prototype.onError.call(a,r)}}function l(a,b){for(var c,d,e,h=Object.keys(b),f=-1,g=h.length;++f<g;)e=h[f],"\u001e\u0192_meta"===e?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:
(d=b[e],c=a[e],c!==d&&(d&&"object"===typeof d?void 0===c?a[e]=d:l(c,d):void 0===c&&(a[e]=d)));return a}var q=a(56),k=a(14),u=a(54),y=a(7),w=a(64),v=a(53),x=a(93);b.exports=c;c.prototype=Object.create(q.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;
a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){void 0===a&&(a={__proto__:y.prototype});return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=
function(a,b){void 0===a&&(a={__proto__:y.prototype});return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};
f.prototype.call=function(a,b){return a.subscribe(new d(b,this.data,this.errors,this.operation,this.progressive))};d.prototype=Object.create(k.prototype);d.prototype.operations={get:a(72),set:a(84),call:a(71),invalidate:a(82)};d.prototype.next=d.prototype.onNext=function(a){if(this.started){var b,c=a.type;a=a.args||a.paths;var d=this.data,e=this.model,f=this.errors,k,m=this.hasValue,q=this.operation,v=this.progressive,u=v&&d;u&&(d={__proto__:y.prototype});if(a&&a.length){k=this.operations[c][q](e,
a,d,v||!e._source,-1===this.retryCount);if(k.error)return g(this,k.error);f&&k.errors&&f.push.apply(f,k.errors);if(b=k.fragments)a=k.args,this.fragments=b;this.relative=k.relative;this.requested=k.requested;this.missing=b=k.missing;this.hasValue=m||(m=k.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=a,u&&(this.data=l(d,this.data)));v&&m&&d&&(d.json||d.jsonGraph)&&p(d,q,e._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=
this.maxRetryCount||this.model._root.maxRetryCount};d.prototype.error=d.prototype.onError=function(a){if(a instanceof v)return k.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};d.prototype.complete=d.prototype.onCompleted=function(a){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&p(b,this.operation,
this.model._root,this.destination),b=this.errors,c||a||b&&b.length?g(this,b.length&&b||a):k.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return g(this,new x(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)};d.prototype.dispose=d.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=
this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;k.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&u(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,e,a){function c(a){l.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var d=a(56),p=a(97),
g=a(14),l=a(15),q=a(57);b.exports=c;c.prototype=Object.create(l.prototype);c.prototype.set=function(a,b,c,e){var f=this;return new d(function(d){var k=new p("set",f,a._source,new q);d=k.subscribe(new g(d,k));f.add(k);k.data=e.jsonGraph;k.requested.push(c);k.optimized.push(b);k.connect();return d})};c.prototype.call=function(a,b,c,e){var f=this;return new d(function(b){var c=new p("call",f,a._source,new q);b=c.subscribe(new g(b,c));f.add(c);c.data=e;c.boundPath=a._path;c.connect();return b})};c.prototype.get=
function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,f=this.scheduler,k=-1,h=b.subscriptions,r=h.length,n=new l([],a);++k<r;){var q=h[k];if("get"===q.type&&((q=q.batch(d,e,d=[],e=[]))&&n.add(q.subscribe(new g(a,q))),!e.length))break}e.length&&(q=h[k]=(new p("get",b,c,f)).batch(d,e),n.add(q.subscribe(new g(a,q))),q.connect());return n}},function(b,e,a){function c(a,b,c,d){g.call(this,
[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){this.active=!0;var a,b=this.paths=w(this.tree=x(this.optimized.reduce(function(a,b){return v(b,a)},{})));try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=
a.subscribe(this)}catch(n){this.disposable={},g.prototype.onError.call(this,new q(n))}}function d(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,h,g=-1,k=b.length;a:for(;++g<k;)if(h=b[g],h.length>c){f=0;do if(h[f]!==a[f])continue a;while(++f<c);d[++e]=h.slice(c)}return d}var p=Array.isArray,g=a(98),l=a(16);a(14);a(15);var q=a(53),k=a(18),u=a(32),y=a(29),w=a(39),v=a(37),x=a(38),m=a(66);b.exports=c;c.prototype=Object.create(g.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=
this.parent;if(b){var c=a,e=0,f=0;if(p(a)){if(0>=(f=a.length))return;c=a[0]}!1===this.responded&&(this.responded=!0,b.remove(this));var h=this.boundPath;do{var g=c.jsonGraph,l=this.requested,m=b.modelRoot,q=c.invalidated,u=c.paths||this.paths;q&&q.length&&y({_root:m,_path:[]},q,!1);u&&u.length&&g&&"object"===typeof g&&(u=k({_root:m},[{paths:u,jsonGraph:g}],m.errorSelector,m.comparator,!1)[0])}while(++e<f&&(c=a[e]));this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:l[b]||d(h,
u)})})}};c.prototype.error=c.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:l,value:{message:a.message}}:a.$type===l&&a||{$type:l,value:a};var b=b.modelRoot,c=w(x(this.requested.reduce(function(a,b){return v(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&u({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);g.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=
function(){if(!1===this.responded)this.onNext({});g.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;
a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();g.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,d){if(this.active){for(var e=[],f=[],g=this.tree,h=-1,k=-1,l=-1,p=b.length,n=a.length-1;++h<p;){var q=b[h],r=q.length,u=g[r];u&&m(u,q,0,r)?(f[++l]=
q,e[l]=a[h<n?h:n]):(d[++k]=q,c[k]=a[h<n?h:n])}return~l?(this.requested.push(e),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,e,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),d=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();
a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new d([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,e){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=
!0)};b.exports=a},function(b,e){b.exports=function(a,b){for(var c=-1,d=-1,e=a.length,g=[];++d<e;)for(var l=b(a[d],d,a),q=-1,k=l.length;++q<k;)g[++c]=l[q];return g}},function(b,e,a){var c=Array.isArray,f=a(34);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,e,a){var c=a(2);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,e,a){var c=a(2);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":
a}},function(b,e,a){var c=a(2),f=Object.prototype.hasOwnProperty;b.exports=function(a,b){return c(a)&&f.call(a,b)}},function(b,e,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,e){b.exports="atom"},function(b,e,a){b.exports=a(108)},function(b,e,a){(function(b,f){Object.defineProperty(e,"__esModule",{value:!0});var c=a(109),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==
typeof b?b:f;b=(0,c["default"])(b);e["default"]=b}).call(e,a(36),a(110)(b))},function(b,e){Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,e){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),
Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,e,a){b.exports=a(63)}])});
//# sourceMappingURL=falcor.all.min.js.map
