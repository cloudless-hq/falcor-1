(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=111)}([function(b,d){b.exports="ref"},function(b,d,a){var c=a(61),f=a(35),e=a(62);b.exports=function(a,k){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?k:a<c()}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){var c=a(55);b.exports=function(a,e,
n){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,e.push(a),c(n,a));return a}},function(b,d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Error();f.prototype.name=a;f.prototype.constructor=f;f.is=function(e){return e.name===a};return f}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){b.exports=function(a,f){var e=f["\u001e\u0192_refs_length"]||
0;f["\u001e\u0192_ref"+e]=a;f["\u001e\u0192_refs_length"]=e+1;a["\u001e\u0192_ref_index"]=e;a["\u001e\u0192_context"]=f}},function(b,d,a){(function(a){function c(a){this["\u001e\u0192_meta"]=a||{}}function e(e){var c=typeof e,f=arguments.length;if(0===f)e=this;else if(c!==d){if(!e||c!==p)return e}else{if(1!==f)return e;e=this}return e===a?void 0:e}function n(){return g(e.apply(this,arguments),n,!1)}function k(a){a=e.apply(this,arguments);var f,n=0,y=g(a,k,!0);a&&(f=a["\u001e\u0192_meta"])&&(n=f.version);
y&&typeof y===p&&(y.__proto__=c.prototype,f=y["\u001e\u0192_meta"])&&(f.version=n);return y}function g(a,e,c){if(!a||typeof a!==p)return a;var f,l,h,n,k,b;if(m(a))b=a;else{b={};f=-1;n=Object.keys(a);l=n.length;if(c&&(h=a["\u001e\u0192_meta"])){var t=h.$code,g=h.abs_path,v=h.deref_to,x=h.deref_from;h=b["\u001e\u0192_meta"]={};t&&(h.$code=t);g&&(h.abs_path=g);v&&(h.deref_to=v);x&&(h.deref_from=x)}for(;++f<l;)"\u001e\u0192_meta"!==(k=n[f])&&(b[k]=e(a[k],e,c))}return b}c.prototype=Object.create(Object.prototype,
Object.assign({toJSON:{value:n},toProps:{value:k},toString:{value:function(a){return JSON.stringify(g(e.call(this,this),g,!0===a))}},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,
e){var c=Array.prototype[e];a[e]={writable:!0,enumerable:!1,value:function(){return c.apply(this,arguments)}};return a},{})));var m=Array.isArray,p="object",d="string";b.exports=c}).call(d,a(36))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){var c=a(34);b.exports=function(a){for(var e,f=Object.keys(a),k={},b=-1,m=f.length;++b<
m;)e=f[b],c(e)||(k[e]=a[e]);return k}},function(b,d,a){function c(a,n){var e=a,b,m=0,p=n.length;if(0<p){do for(e=e[n[m]];e&&(b=e.$type)===f;)e=c(a,e.value);while(++m<p&&e&&!b)}return e}var f=a(0);b.exports=c},function(b,d,a){var c=a(30),f=a(50);b.exports=function(a,n,b,g){var e=a;do{var p=e["\u001e\u0192_parent"];0>=(e.$size=(e.$size||0)-n)&&null!=p?c(e,p,e["\u001e\u0192_key"],b):e["\u001e\u0192_version"]!==g&&f(e,g);e=p}while(e);return a}},function(b,d,a){var c=a(62);b.exports=function(a,e){if(e.$expires!==
c){var f=a["\u001e\u0192_head"];if(!f)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=e;else if(f!==e){var b=e["\u001e\u0192_prev"],g=e["\u001e\u0192_next"];g&&(g["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=g);e["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=e;e["\u001e\u0192_next"]=f;f["\u001e\u0192_prev"]=e;e===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination=
{error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var e=this.destination;if(e)if(e.onNext)e.onNext(a);else e.next&&e.next(a)};c.prototype.error=c.prototype.onError=function(a){var e=!1,c=this.destination;c&&(c.onError?(e=!0,c.onError(a)):c.error&&(e=!0,c.error(a)),this.dispose());if(!e)throw a;};c.prototype.complete=c.prototype.onCompleted=
function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=
a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d){b.exports="error"},function(b,d,a){var c=a(11);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){function c(a,e,n,l,h,b,p,k,
t,g,m,d,r,H,D,E,F,K){var u={},y=e<a.length-1,q=a[e],v=z(q,u),w=d.index;do{m.depth=e;var C=f(n,l,h,b,p,k,v,y,!1,m,d,r,H,D,E,F,K);m[e]=v;m.index=e;var x=C[0],A=C[1],B=C[4];B[B.index++]=v;x&&(y?c(a,e+1,n,A,x,b,C[3],C[2],t,g,m,B,r,H,D,E,F,K):(t.push(m.slice(0,m.index+1)),g.push(B.slice(0,B.index))));v=z(q,u);if(u.done)break;d.index=w}while(1)}function f(a,c,b,l,h,u,q,w,t,C,A,d,z,H,D,E,F){for(t=b.$type;t===n;){a:{c=a;h=l;A=C;var y=d,v=z,x=H,B=D,G=E,X=F,R,I,J=b.value;t=J.slice(0);if(k(b,X))g(b,v,x),b=void 0,
R=c,I=h,t.index=J.length;else{var S=0,O=b,P=J.length-1;R=b=c;I=u=h;do{var V=J[S],ba=S<P;t.index=S;I=f(c,R,b,h,I,u,V,ba,!0,A,t,y,v,x,B,G,X);b=I[0];t=I[4];if(!b||"object"!==typeof b){t.index=S;A=I;break a}R=I[1];u=I[2];I=I[3]}while(S++<P);t.index=S;O["\u001e\u0192_context"]!==b&&m(O,b)}e[0]=b;e[1]=R;e[2]=u;e[3]=I;e[4]=t;A=e}b=A[0];if(!b||"object"!==typeof b)return A;c=A[1];u=A[2];h=A[3];A=A[4];t=b.$type}if(void 0===t){if(null==q){if(w)throw new r;b&&(q=b["\u001e\u0192_key"])}else c=b,h=u,b=c[q],u=h&&
h[q];b=p(c,b,u,q,C,A,d,z,H,D,E,F)}e[0]=b;e[1]=c;e[2]=u;e[3]=h;e[4]=A;return e}var e=Array(5),n=a(0),k=a(1),g=a(3),m=a(6),p=a(83),r=a(8),z=a(23);b.exports=function(a,f,b,l,h){var n=a._root,p=n.expired,k=n.version++,t=n.cache;a=t["\u001e\u0192_version"];for(var y=[],g=[],m=[],v=[],x=-1,d=f.length;++x<d;)for(var r=f[x],z=r.paths,r=r.jsonGraph,K=-1,N=z.length;++K<N;){var L=z[K];g.index=0;c(L,0,t,t,t,r,r,r,m,v,y,g,k,p,n,l,b,h)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=t["\u001e\u0192_version"];
(b=n.onChange)&&a!==f&&b();return[m,v]}},function(b,d,a){function c(a,e,h,b,p,k,t,g,m,v,x,d,r,E,F){var l;if(a&&"object"===typeof a&&!a.$type){l=[];var u=0;n(a)&&(l[u++]="length");for(var q in a)z(q)||(l[u++]=q)}else l=void 0;if(l&&l.length){u=0;q=l.length;var y=m.index;do{var w=l[u],C=a[w],A=!(!C||"object"!==typeof C)&&!C.$type;g.depth=e;var B=f(h,b,p,w,C,A,!1,g,m,v,x,d,r,E,F);g[e]=w;g.index=e;var G=B[0],D=B[1],B=B[2];B[B.index++]=w;G&&(A?c(C,e+1,h,D,G,k,t,g,B,v,x,d,r,E,F):(k.push(g.slice(0,g.index+
1)),t.push(B.slice(0,B.index))));if(++u>=q)break;m.index=y}while(1)}}function f(a,c,h,b,n,w,t,C,d,r,z,H,D,E,F){for(var l=h.$type;l===k;){a:{c=n;d=a;var l=C,u,q=r,y=z,A=H,B=D,G=E,I=F,J,S=h.value;u=S.slice(0);if(g(h,I))m(h,y,A),h=void 0,J=d,u.index=S.length;else{var O=h;h=h["\u001e\u0192_context"];if(null!=h)J=h["\u001e\u0192_parent"]||d,u.index=S.length;else{var P=0,V=S.length-1;u.index=P;J=h=d;do{J=f(d,J,h,S[P],c,P<V,!0,l,u,q,y,A,B,G,I);h=J[0];u=J[2];if(!h||"object"!==typeof h){u.index=P;d=J;break a}J=
J[1]}while(P++<V);u.index=P;O["\u001e\u0192_context"]!==h&&p(O,h)}}e[0]=h;e[1]=J;e[2]=u;d=e}h=d[0];if(!h||"object"!==typeof h)return d;c=d[1];d=d[2];l=h&&h.$type}if(void 0===l){if(null==b){if(w)throw new v;h&&(b=h["\u001e\u0192_key"])}else c=h,h=c[b];h=x(c,h,b,n,w,t,C,d,r,z,H,D,E,F)}e[0]=h;e[1]=c;e[2]=d;return e}var e=Array(3),n=Array.isArray,k=a(0),g=a(1),m=a(3),p=a(6),r=a(11),z=a(20),v=a(8),x=a(47);b.exports=function(a,l,h,f,b){var n=a._root,u=n.expired,p=n.version++,q=a._path,k=n.cache,g=r(k,q),
y=g["\u001e\u0192_parent"]||k;a=k["\u001e\u0192_version"];for(var m=[],v=[],d=[],x=q.length,z=-1,L=l.length;++z<L;){var M=l[z],T=q.slice(0);T.index=x;c(M.json,0,k,y,g,v,d,m,T,p,u,n,f,h,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;l=k["\u001e\u0192_version"];(n=n.onChange)&&a!==l&&n();return[v,d]}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(34)},function(b,d){function a(c,f,e){e=e||[];f=f||[];for(var b=[],k=c.$keys,g=k.length,m=-1;++m<g;){var p=c[m],d=k[m];p?a(p,f,e.concat([d])):
b.push(d)}1===b.length?f.push(e.concat(b)):1<b.length&&f.push(e.concat([b]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,d){function a(a,e){var c=e.from=a.from||0;a=e.to=a.to||"number"===typeof a.length&&e.from+a.length-1||0;e.rangeOffset=e.from;e.loaded=!0;c>a&&(e.empty=!0)}var c=Array.isArray;b.exports=function(f,e){if(void 0===e.isArray){e.done=!1;var b=e.isObject=!(!f||"object"!==typeof f);e.isArray=
b&&c(f);e.arrayOffset=0}if(e.isArray){var k;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=f.length){e.done=!0;break}b=f[e.arrayOffset];"object"===typeof b?(e.loaded||a(b,e),e.empty||(k=e.rangeOffset++)):(++e.arrayOffset,k=b)}while(void 0===k);return k}if(e.isObject){e.loaded||a(f,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=!0;return f}},function(b,d,a){b.exports=a(41)},function(b,d,a){b.exports=a(44)},function(b,d){b.exports=function(a,
c,f,e,b){var n=0,g;g=e.jsonGraph;g||(e.jsonGraph=g={});do{e=c[n++];if(n>=f){g=g[e]=!0!==b?a:g[e]||{};break}g=g[e]||(g[e]={})}while(1);return g}},function(b,d,a){var c=Array.isArray,f=a(40).pathToTree,e=a(5);b.exports=function(a,b,g,m,p,d,z,v,x,y,l,h){if(x||l){for(var n,q=-1,k=(d=p-b)&&Array(d)||void 0;++q<d;){n=a[q+b];var t;t=n;if("object"!==typeof t||null===t)t=!1;else if(c(t))t=0===t.length;else{var C=t.to,r=t.from||0;"number"!==typeof C&&(C=r+(t.length||0));t=r>=C}if(t)return;k[q]=n}var B;a=null===
n;n=x;var G;x?(t=p,C=m,G=g.requested||(g.requested=[])):(b=v,C=z,t=v+d-Number(a));do{if(d<p||!n){m=-1;q=b;for(B=Array(t);++m<q;)B[m]=C[m];for(q=-1;m<t;)B[m++]=k[++q]}if(n=!n){x&&(G[G.length]=B);break}G[G.length]=B||k;b=v;C=z;G=g.missing||(g.missing=[]);t=v+d-Number(a)}while(1);if(l)return 0===d?e:f(y,B,b,t,e,h)}}},function(b,d,a){var c=a(1),f=a(3),e=a(13);b.exports=function(a,b,g,m,p,d,z,v,x,y,l,h,u,q,w,t,C,A,B,G,H,D){var n=A;if(!a||!b)return A&&(n=!0,d&&(z.hasValue=!0)),D(m,p,z,v,x,h,y,l,B,g,n,t);
if(c(a,w))return a["\u001e\u0192_invalidated"]||f(a,q,u),D(m,p,z,v,x,h,y,l,B,g,n,t);e(u,a);if(d)return h&&(v[p]=null),H(a,b,p,d,z,v,y,l,h,C,A,G)}},function(b,d,a){function c(a,h,b,n,p,t,g,k,m){var l={},u=h<a.length-1,q=a[h],d=v(q,l);do{e=f(b,n,p,d,u,!1,t,g,k,m);var C=e[0],w=e[1];C&&(u?c(a,h+1,b,w,C,t,g,k,m):y(C,w,d,k)&&x(w,r(C),k,t));d=v(q,l)}while(!l.done)}function f(a,c,b,q,k,t,d,y,v,x){for(t=b.$type;t===n;){a:{c=a;t=d;var h=y,l=v,u=x;if(g(b,u))m(b,h,l),e[0]=void 0,e[1]=c;else{p(l,b);var C=b,w=
b.value,r;b=b["\u001e\u0192_context"];if(null!=b)r=b["\u001e\u0192_parent"]||c;else{var A=0,B=w.length-1;r=b=c;do{e=f(c,r,b,w[A],A<B,!0,t,h,l,u);b=e[0];if(!b&&"object"!==typeof b)break a;r=e[1]}while(A++<B);C["\u001e\u0192_context"]!==b&&z(C,b)}e[0]=b;e[1]=r}}b=e[0];if(!b&&"object"!==typeof b)return e;c=e[1];t=b.$type}if(void 0!==t)return[b,c];if(null==q){if(k)throw Error("`null` is not allowed in branch key positions.");}else c=b,b=c[q];e[0]=b;e[1]=c;return e}var e=Array(2),n=a(0),k=a(17),g=a(1),
m=a(3),p=a(13),r=a(9),z=a(6),v=a(23),x=a(12),y=a(31);b.exports=function(a,b,f){var h=a._root,l=h.expired,n=h.version++,p=h.cache,g=k(a),d=g["\u001e\u0192_parent"]||p;a=p["\u001e\u0192_version"];for(var u=-1,y=b.length;++u<y;)c(b[u],0,p,d,g,n,l,h,f);e[0]=void 0;e[1]=void 0;b=p["\u001e\u0192_version"];(h=h.onChange)&&a!==b&&h()}},function(b,d,a){var c=a(0),f=a(55),e=a(86),n=a(87);b.exports=function(a,b,d,p){if(a&&"object"===typeof a){var g=a.$type;g&&(g===c&&n(a),f(p,a));e(a);b[d]=a["\u001e\u0192_parent"]=
void 0;return!0}return!1}},function(b,d,a){var c=a(30),f=a(20);b.exports=function n(a,b,d,p){if(c(a,b,d,p)){if(null==a.$type)for(var g in a)f(g)||n(a[g],a,g,p);return!0}return!1}},function(b,d,a){function c(a,e,b,h,n,p,g,t,d,k,m,v,r,D,E,F){var l={},q=b<e.length-1,u=e[b],y=z(u,l),x=k.index;do{d.depth=b;d[b]=y;d.index=b;var w=f(h,n,p,y,a,q,!1,d,k,m,v,r,D,E,F);d[b]=y;d.index=b;var C=w[0],A=w[1],w=w[2];w[w.index++]=y;C&&(q?c(a,e,b+1,h,A,C,g,t,d,w,m,v,r,D,E,F):(g.push(d.slice(0,d.index+1)),t.push(w.slice(0,
w.index))));y=z(u,l);if(l.done)break;k.index=x}while(1)}function f(a,c,b,h,p,q,d,t,C,z,B,G,H,D,E){for(var l=b.$type;l===n;){a:{c=p;C=a;var l=t,u,y=z,w=B,x=G,A=H,X=D,R=E,I,J=b.value;u=J.slice(0);if(k(b,R))g(b,w,x),b=void 0,I=C,u.index=J.length;else{var S=b;b=b["\u001e\u0192_context"];if(null!=b)I=b["\u001e\u0192_parent"]||C,u.index=J.length;else{var O=0,P=J.length-1;I=b=C;do{var V=J[O],ba=O<P;u.index=O;I=f(C,I,b,V,c,ba,!0,l,u,y,w,x,A,X,R);b=I[0];u=I[2];if(!b||"object"!==typeof b){u.index=O;C=I;break a}I=
I[1]}while(O++<P);u.index=O;S["\u001e\u0192_context"]!==b&&m(S,b)}}e[0]=b;e[1]=I;e[2]=u;C=e}b=C[0];if(!b||"object"!==typeof b)return C;c=C[1];C=C[2];l=b.$type}if(!q||void 0===l){if(null==h){if(q)throw new r;b&&(h=b["\u001e\u0192_key"])}else c=b,b=c[h];b=v(c,b,h,p,q,d,t,C,z,B,G,H,D,E)}e[0]=b;e[1]=c;e[2]=C;return e}var e=Array(3),n=a(0),k=a(1),g=a(3),m=a(6),p=a(11),r=a(8),z=a(23),v=a(47);b.exports=function(a,b,f,h,n){var l=a._root,g=l.expired,t=l.version++,d=a._path,u=l.cache,k=p(u,d),m=k["\u001e\u0192_parent"]||
u;a=u["\u001e\u0192_version"];for(var v=[],y=[],x=[],z=d.length,r=-1,N=b.length;++r<N;){var L=b[r],M=L.path,L=L.value,T=d.slice(0);T.index=z;c(L,M,0,u,m,k,y,x,v,T,t,g,l,h,f,n)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=u["\u001e\u0192_version"];(l=l.onChange)&&a!==b&&l();return[y,x]}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,b){this.mesage="The KeySet "+JSON.stringify(b)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,
d,a){d=a(94);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var c=Array.isArray,f=a(21);b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,b){var c=b.length;a[c]||(a[c]=[]);a[c].push(b);return a},b||{})}},function(b,d,a){var c=a(40);b.exports=function(a,
b){return Object.keys(a).reduce(function(b,e){b[e]=c(a[e],b[e]);return b},b||{})}},function(b,d,a){function c(a,b,f){var g,l=Object.create(null),h=""+p(""+b),d=[],q=-1,k=0,t=[],m=0,v,x,r,z,D,E;r=[];z=-1;if(b<f-1){for(D=e(a,r);++z<D;)g=r[z],v=c(a[g],b+1,f),x=v.code,l[x]?v=l[x]:(d[k++]=x,v=l[x]={keys:[],sets:v.sets}),h=""+p(h+g+x),n(g)&&v.keys.push(parseInt(g,10))||v.keys.push(g);for(;++q<k;)if(g=d[q],v=l[g],r=v.keys,D=r.length,0<D)for(a=v.sets,b=-1,f=a.length,z=r[0];++b<f;){g=a[b];v=-1;x=g.length;
E=Array(x+1);for(E[0]=1<D&&r||z;++v<x;)E[v+1]=g[v];t[m++]=E}}else for(D=e(a,r),1<D?t[m++]=[r]:t[m++]=r;++z<D;)h=""+p(h+r[z]);return{code:h,sets:t}}function f(a,b){return a-b}function e(a,b,c){var e=0;if(a===r)b[e++]=null;else{for(var f in a)b[e++]=f;1<e&&b.sort(c)}return e}function n(a){var b=a,c=typeof a;if("string"===c){b=a.length;if(0===b||17<b||!m.test(a))return!1;if(16>b)return!0;b=+a}else if("number"!==c)return!1;return 0===b%1&&9007199254740991>=g(b)}var k=Array.isArray,g=Math.abs,m=/^(0|(\-?[1-9][0-9]*))$/,
p=a(22),r=a(5);b.exports=function(a){var b,e=[],p=0,l;for(l in a){var h;if(h=n(l))h=b=a[l],h=null!==h&&"object"===typeof h;if(h){h=c(b,0,parseInt(l,10)).sets;for(var g=-1,d=h.length;++g<d;){for(var m=p++,t=h[g],r=-1,z=t.length;++r<z;){var B=t[r];if(k(B)){var G=t,H=r;for(var D=-1,E=B.length-1,F=0<E;++D<=E;){var K=B[D];if(!n(K)){F=!1;break}B[D]=parseInt(K,10)}!0===F&&(B.sort(f),D=B[0],F=B[E],F-D<=E&&(B={from:D,to:F}));G[H]=B}}e[m]=t}}}return e};b.exports._isSafeNumber=n},function(b,d,a){function c(a,
b,g,d,p,r){if(g===d)return!0;var n,m,k=-1,y=0,l,h=g+1,u,q,w;m=b[g];if(null===m)return e;n=m;a=a?a:r?r(b,g,a):{};a:do{if("object"!==typeof m)r=m,q=void 0,u=!1;else if(f(m)){if(void 0!==w)break a;k=0;w=m;y=m.length;if(0===y)break a;m=w[k];continue a}else{q=m.to;r=m.from||0;"number"!==typeof q&&(q=r+(m.length||0)-1);if(0>q-r)break a;u=!0}do h===d?a[r]=p:(m=a[b[g]=r],(l=c(m,b,h,d,p))?m||(a[r]=l):a[r]=p);while(u&&++r<=q);if(++k===y)break a;m=w[k]}while(1);b[g]=n;return a}var f=Array.isArray,e=a(5);b.exports=
function(a,b){return a.reduce(function(a,b){return c(a,b,0,b.length,null)},b||{})};b.exports.pathToTree=c},function(b,d,a){var c=a(75),f=a(74),e=a(17),n=a(92),k=a(67),g=a(65);b.exports=function(a,b,d,z,v){var p,m;z=a._path;var l=a._root,h=l.cache,u,q,w,t=z&&z.length||0;if(t){if((p=e(a))&&p.$type)return{error:new n(z,z)};w=[];for(m=0;m<t;++m)w[m]=z[m];m=a._referenceContainer}else p=h,w=[];u=[];var r=!1,A=d&&d.json,B={data:d},G=a._boxed,H=l.expired;q=a._recycleJSON;var D=a._materialized,E=!!a._source,
F=l.branchSelector,K=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var N,L=0,M=b.length;if(0<M)if(q){M=1;r=!0;b[0].$keys||(b=[g(k(b,{}))]);do N=b[L],q=f(h,p,A,N,0,d,B,u,w,t,!1,m,l,H,v,F,G,D,E,K,a),A=q[0],q[0]=void 0,q[1]=void 0;while(++L<M)}else{do N=b[L],q=N.length,A=c(h,p,A,N,0,d,B,u,q,w,t,!1,m,l,H,v,F,G,D,E,K,a);while(++L<M)}v=B.requested;B.args=r&&b||v;if(v&&v.length&&(B.relative=B.args,t)){b=[];m=0;for(t=v.length;m<t;++m)b[m]=z.concat(v[m]);B.requested=b}B.hasValue&&(d.json=A);return B}},
function(b,d,a){var c=Array(3),f=a(0),e=a(13),n=a(1),k=a(6),g=a(52);b.exports=function(a,b,d,z){e(d,b);var p,m,y=0,l=a,h=b.value,u=h,q=h.length;do{if(0===y&&void 0!==(p=b["\u001e\u0192_context"]))l=p,y=q;else if(m=h[y++],void 0===(l=l[m]))break;if(y===q){m=l.$type;if(void 0!==m&&n(l,z))break;else{if(l===b)throw new g(h);l!==p&&k(b,l)}if(m===f)e(d,l),y=0,b=l,l=a,h=u=b.value,q=h.length;else break}else if(void 0!==l.$type)break}while(1);y<q&&void 0!==l&&(q=y);y=-1;for(h=Array(q);++y<q;)h[y]=u[y];c[0]=
l;c[1]=h;c[2]=b;return c}},function(b,d,a){var c=a(10),f=a(73),e=a(16),n=a(5);b.exports=function(a,b,d,p,r,z,v,x,y,l,h,u){if(e===b&&!u)return f(a,d,r,z,y,l);d=a&&a.value;if(b&&void 0===d){if(h)return r.hasValue=!0,n}else return r.hasValue=!0,l?c(a):d}},function(b,d,a){var c=a(78),f=a(90);b.exports=function(a,b,d,g,m){var e,n;e=a._path;g=a._root;var k,v,x=e&&e.length||0;if(x)return{error:new f};v=[];n=e=g.cache;k=[];for(var y=a._boxed,l=g.expired,h=a._materialized,u=!!a._source,q=a._treatErrorsAsValues,
w={data:d},t=-1,C=b.length;++t<C;){var A=b[t];a=A.length;c(n,e,A,0,d,w,k,a,v,x,!1,g,l,m,y,h,u,q)}w.args=w.relative=w.requested;return w}},function(b,d,a){b.exports=function(a,b,e,n,d){a["\u001e\u0192_key"]=e;a["\u001e\u0192_parent"]=b;void 0!==n&&(a["\u001e\u0192_version"]=n);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=d.slice(0,d.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,b,e,n,d,g,p,k,r,B){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!z(h)){var l=a[h],t=
!(!l||"object"!==typeof l)&&!l.$type,u=f(e,n,d,h,l,t,!1,g,p,k,r,B),q=u[0],u=u[1];q&&(t?c(l,b+1,e,u,q,g,p,k,r,B):x(q,u,h,k)&&v(u,m(q),k,g))}}function f(a,b,c,d,q,m,t,v,r,x,z,H){for(t=c.$type;t===e;){a:{b=q;t=a;var h=v,l=r,u=x,w=z,y=H;if(n(c,y))k(c,l,u),b=[void 0,t];else{g(u,c);var C=c,B=c.value,A;c=c["\u001e\u0192_context"];if(null!=c)A=c["\u001e\u0192_parent"]||t;else{var G=0,R=B.length-1;A=c=t;do{A=f(t,A,c,B[G],b,G<R,!0,h,l,u,w,y);c=A[0];if(!c||"object"!==typeof c){b=A;break a}A=A[1]}while(G++<R);
C["\u001e\u0192_context"]!==c&&p(C,c)}b=[c,A]}}c=b[0];if(!c&&"object"!==typeof c)return b;b=b[1];t=c&&c.$type}if(void 0!==t)return[c,b];if(null==d){if(m)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[d];return[c,b]}var e=a(0),n=a(1),k=a(3),g=a(13),m=a(9),p=a(6),r=a(17),z=a(20),v=a(12),x=a(31);b.exports=function(a,b,e){var h=a._root,f=h.expired,l=h.version++,d=h._comparator,n=h.cache,g=r(a),p=g["\u001e\u0192_parent"]||n;a=n["\u001e\u0192_version"];for(var m=-1,k=b.length;++m<
k;)c(b[m].json,0,n,p,g,l,f,h,d,e);b=n["\u001e\u0192_version"];(h=h.onChange)&&a!==b&&h()}},function(b,d,a){var c=a(0),f=a(16),e=a(35),n=a(103),k=a(9),g=a(58),m=a(51),p=a(1),r=a(3),z=a(45),v=a(49),x=a(48),y=a(12);b.exports=function(a,b,d,q,w,t,C,A,B,G,H,D,E,F){F=n(b,t);if(w||t){if(F&&p(b,!0)&&(r(b,G,H),F=b.$expires===e?F:"expired"),F&&F!==c||!b||"object"!==typeof b)b=v(b,{},a,d,H,B),b=z(b,a,d,B,A)}else w=n(q),t=!1===g(q)<g(b),(F||w)&&D&&(t=!D(b,q,A.slice(0,A.index))),t&&(E&&w===f&&(q=E(x(C,d),q)),
q=m(q,w,w?q.value:q),C=k(b)-k(q),b=v(b,q,a,d,H,B),a=y(a,C,H,B),b=z(b,a,d,B,A));return b}},function(b,d){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,d,a){var c=a(85),f=a(31),e=a(50);b.exports=function(a,b,d,m,p,r){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,m,p),e(b,r));return d[m]=b}},function(b,d,a){b.exports=function(a,b){var c=[a],f=0;do{var d=c[f];if(d&&d["\u001e\u0192_version"]!==b){d["\u001e\u0192_version"]=b;c[f++]=d["\u001e\u0192_parent"];for(var g=
-1,m=d["\u001e\u0192_refs_length"]||0;++g<m;)c[f++]=d["\u001e\u0192_ref"+g]}}while(-1<--f);return a}},function(b,d,a){var c=Array.isArray,f=a(61),e=a(35),n=a(106),k=a(101),g=a(9),m=a(102);b.exports=function(a,b,d){var p=0;if(b){var r=a["\u001e\u0192_wrapped_value"];a=k(a);p=g(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=r||!1}else a={$type:n,value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==
d)p=51;else if(null==p||0>=p)switch(typeof d){case "object":p=c(d)?50+d.length:51;break;case "string":p=50+d.length;break;default:p=51}b=m(a);"number"===typeof b&&b<e&&(a.$expires=f()+-1*b);a.$size=p;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,
d,a){var c=a(30),f=a(12);b.exports=function(a,b,d,g,m,p){var e=m;"number"!==typeof e&&(e=.75);m="number"===typeof p;var e=g*e,n,k,x;for(k=b.pop();k;)x=k.$size||0,d-=x,!0===m?f(k,x,a,p):(n=k["\u001e\u0192_parent"])&&c(k,n,k["\u001e\u0192_key"],a),k=b.pop();if(d>=g){for(k=b=a["\u001e\u0192_tail"];d>=e&&k;)b=b["\u001e\u0192_prev"],x=k.$size||0,d-=x,!0===m&&f(k,x,a,p),k=b;a["\u001e\u0192_tail"]=a["\u001e\u0192_prev"]=k;null==k?a["\u001e\u0192_head"]=a["\u001e\u0192_next"]=void 0:k["\u001e\u0192_next"]=
void 0}}},function(b,d,a){b.exports=function(a,b){var c=b["\u001e\u0192_prev"],f=b["\u001e\u0192_next"];f&&(f["\u001e\u0192_prev"]=c);c&&(c["\u001e\u0192_next"]=f);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=f);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=c)}},function(b,d,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(14),d=a(15),k=a(107).default;
b.exports=f;f.prototype[k]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.subscribe=function(a,b,c){return new d([this.operator.call(this.source,a instanceof e?a:new e(a,b,c))])};f.prototype.then=function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],f=!1;e.subscribe({next:function(a){c[c.length]=a},error:function(a){f=!0;b(a)},complete:function(){!f&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(d,
a(36))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},
function(b,d){b.exports=1},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(68);d=a(7);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){var c=a(39),f=a(37),e=a(38);b.exports=function(a){return c(e(f(a)))}},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=a.$keys,d=-1,m=e.length;++d<m;){var p=e[d];if(null===p)b=""+f(""+b+"null");else{"object"===typeof p&&(p="{from:"+p.from+
",length:"+p.length+"}");var r=c(a[d]),b=void 0===r?""+f(""+b+p):""+f(""+b+p+r.$code)}}a.$code=b;return a}}var f=a(22);b.exports=c},function(b,d,a){function c(a,b,d,m){if(d===m)return!0;var p,n=-1,g=0,k=d+1,x,y,l;p=b[d];if(null===p)return a===e;a:do{if("object"!==typeof p)d=p,y=void 0,x=!1;else if(f(p)){if(void 0!==l)break a;n=0;l=p;g=p.length;if(0===g)break a;p=l[n];continue a}else{y=p.to;d=p.from||0;"number"!==typeof y&&(y=d+(p.length||0)-1);if(0>y-d)break a;x=!0}do if(k===m){if(null!==a[d])return!1}else if(p=
a[d],null===p||void 0===p||!1===c(p,b,k,m))return!1;while(x&&++d<=y);if(++n===g)break a;p=l[n]}while(1);return!0}var f=Array.isArray,e=a(5);b.exports=c},function(b,d,a){function c(a,b){return a.reduce(function(a,b){return e(b)?f(a,b,0,b.length):c(k(b),a)},b||{})}function f(a,b,c,d){if(c!==d){a=a||{};var m=a.$keys||(a.$keys=[]),p=a.$keysMap||(a.$keysMap={}),g,k=-1,l=0,h,u=c+1,q;g=b[c];if(null===g)return n;a:do{if("object"!==typeof g)h=g,"undefined"===typeof(c=p[h])&&(c=m.length),m[c]=h,p[h]=c,g=f(a[c],
b,u,d),void 0!==g&&(a[c]=g);else if(e(g)){if(void 0!==q)break a;k=0;q=g;l=g.length;if(0===l)break a;g=q[k];continue a}else{c=g.to;h=g.from||0;"number"!==typeof c&&(c=h+(g.length||0)-1);if(0>c-h)break a;g={from:h,length:c-h+1};h="{from:"+h+",length:"+(c-h+1)+"}";"undefined"===typeof(c=p[h])&&(c=m.length);m[c]=g;p[h]=c;g=f(a[c],b,u,d);void 0!==g&&(a[c]=g)}if(++k===l)break a;g=q[k]}while(1);return a}}var e=Array.isArray,n={$keys:[null],$keysMap:{"null":0}},k=a(21);b.exports=c},function(b,d,a){function c(a){a=
a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new m;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={__proto__:n.prototype});this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=
!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(95),e=a(70),n=a(7),k=a(69),g=a(99),m=a(57),p=a(54),r=a(9),z=a(2),v=a(59),x=a(11),y=a(60),l=a(19),h=a(18),u=a(24),q=a(79),w=a(25);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(this._seed||{__proto__:n.prototype},[])};c.prototype.set=
function(){return(new f("set",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:n.prototype},[])};c.prototype.preload=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,[])};c.prototype.call=function(){return(new f("call",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:n.prototype},[])};c.prototype.invalidate=function(){return(new f("invalidate",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,null).then()};c.prototype.deref=
a(89);c.prototype._hasValidParentReference=a(88);c.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({__proto__:n.prototype},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var d=a.length;c&&!c.$type&&++e<d;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return(new f("set",this,[b]))._toJSON({__proto__:n.prototype},
[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var d=a.length;c&&!c.$type&&++e<d;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,e=this._path;this._path=[];this._node=this._root.cache={};"undefined"!==typeof b&&(p(c,c.expired,r(b),0),this._recycleJSON&&(this._seed={__proto__:n.prototype}));var d;y(a)?d=h(this,[a])[0]:v(a)?d=l(this,[a])[0]:
z(a)&&(d=l(this,[{json:a}])[0]);d&&u(this,d,null,!1,!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return q(this._root.cache);var b={},c=this._path;this._path=[];w(this,a,b);this._path=c;return b.jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=
this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var d=a[e];"delete"===d?delete b[e]:"_path"===e?(b[e]=d,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=d}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new g(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new g(1);return this._clone({_scheduler:b})};c.prototype.unbatch=
function(){return this._clone({_scheduler:new m})};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new k(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=
function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=x(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(80);c.prototype._getPathValuesAsPathMap=u;c.prototype._getPathValuesAsJSONG=
w;c.prototype._setPathValues=a(32);c.prototype._setPathMaps=a(19);c.prototype._setJSONGs=a(18);c.prototype._setCache=a(19);c.prototype._invalidatePathValues=a(29);c.prototype._invalidatePathMaps=a(46)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,
[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.syncRefCount=this.version=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new e(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(104),e=a(96);c.prototype.errorSelector=function(a,b){return b};c.prototype.comparator=function(a,b){return f(a,"value")&&f(b,"value")?a.value===b.value&&a.$type===
b.$type&&a.$expires===b.$expires:a===b};b.exports=c},function(b,d,a){var c=a(24),f=a(25);b.exports={json:function(a,b,d,f){var e=!1;if(!b)return{missing:!1,hasValue:!1};var g=[].concat(b[1]||[]),n=[].concat(b[2]||[]),k=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);f&&k&&k.length&&(e=c(a,k,d,f,!0).hasValue);return{data:d,missing:!0,hasValue:e,fragments:[b,g,n,k]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var g=[].concat(b[1]||[]),k=[].concat(b[2]||[]),n=[].concat(b[3]||
[]);b=(a._path||[]).concat(b[0]||[]);d&&n&&n.length&&(e=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},n,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,g,k,n]}}}},function(b,d,a){b.exports={json:a(41),jsonGraph:a(44)}},function(b,d,a){var c=a(10);b.exports=function(a,b,d,k,g,m){var e=-1;b+=!!g;g=Array(b);for(a=m?c(a):a.value;++e<b;)g[e]=k[e];(d.errors||(d.errors=[])).push({path:g,value:a})}},function(b,d,a){function c(a,
b,e,d,h,n,v,G,H,D,E,F,K,N,L,M,T,X,R,I,J){var q,u;if(void 0===b||void 0!==(q=b.$type)||void 0===d)return k[1]=!1,k[0]=r(b,q,e,d,h,n,v,G,h,H,D,E,K,N,L,M,T,X,R,I,g,f),k;var t,w,C;q="";var B,A,Q,Z=d.$keys,ha=h+1,U,Y,ca,aa,ea,ia=D+1,da,la;J&&F&&(la=F.value,da=F["\u001e\u0192_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(t=e["\u001e\u0192_meta"]){if(!(M||e instanceof p))w={},e=(w["\u001e\u0192_meta"]=t,w.__proto__=p.prototype,w);else if(t.version===b["\u001e\u0192_version"]&&t.$code===d.$code&&
t.abs_path===b["\u001e\u0192_abs_path"])return v.hasValue=!0,k[0]=e,k[1]=!1,k;w=t.keys;t.version=b["\u001e\u0192_version"];t.abs_path=b["\u001e\u0192_abs_path"];t.deref_to=la;t.deref_from=da}C={};var ma=-1,na=Z.length,fa,ka,ga=!1;a:for(;++ma<na;)if(Q=Z[ma],fa=d[ma],null===Q){if(void 0!==fa)throw new y;q=""+l(""+q+"null")}else{if("object"!==typeof Q)A=Q,U=void 0,Q=!1,ka=A;else{U=Q.to;A=Q.from||0;"number"!==typeof U&&(U=A+(Q.length||0)-1);if(0>U-A)break a;Q=!0;ka="{from:"+A+",length:"+(U-A+1)+"}"}do E=
!1,Y=e&&e[A],ea=H,aa=ia,ca=F,B=b[A],G[h]=A,H[D]=A,B&&void 0!==fa&&B.$type===m&&!z(B,L)&&(u=x(a,B,K,L),B=u[0],E=!0,ea=u[1],ca=u[2],aa=ea.length,u[0]=u[1]=u[2]=void 0),k=c(a,B,Y,fa,ha,n,v,G,ea,aa,E,ca,K,N,L,M,T,X,R,I,J),Y=k[0],ga=ga||k[1],n&&(void 0!==Y?(void 0===t&&(t={},t.version=b["\u001e\u0192_version"],t.abs_path=b["\u001e\u0192_abs_path"],t.deref_to=la,t.deref_from=da,e={},E={},e=M&&M((e["\u001e\u0192_meta"]=t,e.__proto__=p.prototype,e))||(E["\u001e\u0192_meta"]=t,E.__proto__=p.prototype,E)),
C[A]=!0,w&&w.hasOwnProperty(A)&&(w[A]=!1),e[A]=Y):(ga=!0,e&&e.hasOwnProperty(A)&&delete e[A]));while(Q&&++A<=U);ga||(q=void 0===fa?""+l(""+q+ka):""+l(""+q+ka+fa.$code))}ga&&(q="__incomplete__");if(t&&(t.$code=q,t.keys=C,w))for(A in w)w[A]&&delete e[A];k[0]=e;k[1]=ga;return k}function f(a,b,c,d,f,l,g,m,p,k,y,r){a=a?h(a):[[]];var q=d.slice(0,f),u=r?e(r):n;return a.reduce(function(a,e){f=b+e.length;return v(q.concat(e),b,c,d,f,l,g,m,p,a,y,u)},k)}function e(a){return function(b,c,e){return a(e=n(b,c,
e))||e}}function n(a,b,c){c={version:0};c.abs_path=a.slice(0,b);a={};return a["\u001e\u0192_meta"]=c,a.__proto__=p.prototype,a}var k=Array(2),g=a(43),m=a(0),p=a(7),r=a(28),z=a(1),v=a(27),x=a(42),y=a(8);a(33);var l=a(22),h=a(21);b.exports=c},function(b,d,a){function c(a,b,e,d,n,v,A,B,G,H,D,E,F,K,N,L,M,T,X,R,I,J){var h,q;if(void 0===b||(h=b.$type)||n===G)return r(b,h,e,d,n,v,A,B,G,H,D,E,K,N,L,M,T,X,R,I,g,f);var u,t,w,C=n+1,W,Q,Z,ha,U=-1,Y=0,ca,aa,ea=D+1,ia,da;w=d[n];if(null===w){if(C<G)throw new y;
return e}J&&F&&(da=F.value,ia=F["\u001e\u0192_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(u=e["\u001e\u0192_meta"])u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],u.deref_to=da,u.deref_from=ia;a:do{if("object"!==typeof w)h=w,W=void 0,w=!1;else if(k(w)){if(void 0!==Q)throw new l(d,Q);U=0;Q=w;Y=w.length;if(0===Y)break a;w=Q[U];continue a}else{W=w.to;h=w.from||0;"number"!==typeof W&&(W=h+(w.length||0)-1);if(0>W-h)break a;w=!0}do E=!1,Z=e&&e[h],aa=H,ca=ea,ha=F,t=
b[h],B[n]=h,H[D]=h,t&&C<G&&t.$type===m&&!z(t,L)&&(q=x(a,t,K,L),t=q[0],E=!0,aa=q[1],ha=q[2],ca=aa.length,q[0]=q[1]=q[2]=void 0),Z=c(a,t,Z,d,C,v,A,B,G,aa,ca,E,ha,K,N,L,M,T,X,R,I,J),void 0!==Z&&(void 0===u&&(u={},u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],u.deref_to=da,u.deref_from=ia,e={},E={},e=M&&M((e["\u001e\u0192_meta"]=u,e.__proto__=p.prototype,e))||(E["\u001e\u0192_meta"]=u,E.__proto__=p.prototype,E)),e[h]=Z);while(w&&++h<=W);if(++U===Y)break a;w=Q[U]}while(1);return e}
function f(a,b,c,d,f,l,g,m,p,k,y,r){r=r?e(r):n;return v(a,b,c,d,f,l,g,m,p,k,y,r)}function e(a){return function(b,c,e){return a(e=n(b,c,e))||e}}function n(a,b,c){c={version:0};c.abs_path=a.slice(0,b);a={};return a["\u001e\u0192_meta"]=c,a.__proto__=p.prototype,a}var k=Array.isArray,g=a(43),m=a(0),p=a(7),r=a(28),z=a(1),v=a(27),x=a(42),y=a(8),l=a(33);b.exports=c},function(b,d,a){var c=Array(2),f=a(10),e=a(0),n=a(26),k=a(13),g=a(1),m=a(6),p=a(52);b.exports=function(a,b,d,x,y){k(d,b);var l,h,u=0,q=a,w=
b.value,t=w,r=w.length;do{if(0===u&&void 0!==(l=b["\u001e\u0192_context"]))q=l,u=r;else if(h=w[u++],void 0===(q=q[h]))break;if(u===r){h=q.$type;if(void 0!==h&&g(q,y))break;else{if(q===b)throw new p(w);q!==l&&m(b,q)}if(h===e)k(d,q),x&&n(f(q),w,r,x),u=0,b=q,q=a,w=t=b.value,r=w.length;else break}else if(void 0!==q.$type)break}while(1);u<r&&void 0!==q&&(r=u);u=-1;for(w=Array(r);++u<r;)w[u]=t[u];c[0]=q;c[1]=w;return c}},function(b,d,a){var c=a(10),f=a(0),e=a(16),n=a(26),k=a(5);b.exports=function(a,b,d,
r,z,v,x,y,l,h,u){var g=a&&a.value;if(b&&void 0===g)if(u)g=k;else return;else if(h||f===b||e===b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof g)g=c(a);r&&(z.hasValue=!0,n(g,x,y,r),(r.paths||(r.paths=[])).push(v.slice(0,d+!!l)));return g}},function(b,d,a){function c(a,b,d,l,t,z,A,B,G,H,D,E,F,K,N,L,M,T){var h,u;if(void 0===b||(h=b.$type)||l===B)return p(b,h,t,d,l,t,z,A,B,G,H,D,E,F,K,void 0,N,L,M,T,g,f);var q,w,C=l+1,O,P,V=-1,ba=0,ja,W,Q=H+1;D=d[l];if(null===D){if(C<B)throw new x;}else{a:do{if("object"!==
typeof D)h=D,O=void 0,w=!1;else if(e(D)){if(void 0!==P)throw new y(d,P);V=0;P=D;ba=D.length;if(0===ba)break a;D=P[V];continue a}else{O=D.to;h=D.from||0;"number"!==typeof O&&(O=h+(D.length||0)-1);if(0>O-h)break a;w=!0}do D=!1,W=G,ja=Q,q=b[h],A[l]=h,G[H]=h,q&&C<B&&q.$type===k&&!r(q,K)&&(t&&m(n(q),G,ja,t),u=v(a,q,E,t,K),q=u[0],D=!0,W=u[1],ja=W.length,u[0]=u[1]=void 0),c(a,q,d,C,t,z,A,B,W,ja,D,E,F,K,N,L,M,T);while(w&&++h<=O);if(++V===ba)break a;D=P[V]}while(1)}}function f(a,b,c,e,d,f,g,p,n,k,y,r){var h;
k&&y&&((k.paths||(k.paths=[])).push((r=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),h=m(r&&l||void 0,g,p,k,!r));return z(a,b,c,e,d,f,g,p,n,h,y)}var e=Array.isArray,n=a(10),k=a(0),g=a(77),m=a(26),p=a(28),r=a(1),z=a(27),v=a(76),x=a(8),y=a(33),l=a(5);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(e){var d=a[e],g=b[e];g||(g=b[e]={});if(d.$type){g=!d["\u001e\u0192_wrapped_value"];
if(d.value&&"object"===typeof d.value||g){var g={},k=Object.keys(d),n,v,x;v=0;for(x=k.length;v<x;v++)n=k[v],"$type"!==n&&f(n)||(g[n]=d[n]);d=g}else d=d.value;b[e]=d}else c(d,g,e)})}var f=a(20);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(17);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){var c=Array.isArray,f=a(105),e=a(59),n=a(60);b.exports=function(a){for(var b=[],d=-1,k=a.length,r,z,v,x;++d<k;)v=a[d],c(v)?(v={path:v},
x="PathValues"):f(v)?x="PathValues":n(v)?x="JSONGraphs":e(v)&&(x="PathMaps"),z!==x&&(z=x,b.push(r={arguments:[],inputType:x})),r.arguments.push(v);return b}},function(b,d,a){function c(a,b,c,d,m){f(a,b,m);return{}}var f=a(29);a(46);b.exports={json:c,jsonGraph:c}},function(b,d,a){var c=a(0),f=a(16),e=a(9),n=a(58),k=a(51),g=a(1),m=a(45),p=a(3),r=a(49),z=a(48),v=a(12);b.exports=function(a,b,d,h,u,q,w,t,C,A,B,G){var l,x,y,F,K,N;if(b===d){if(null===d)return b=k(d,void 0,d),a=v(a,-b.$size,C,w),b=m(b,a,
h,void 0,q);if(void 0===d)return d;if(y=!(!b||"object"!==typeof b))if(l=b.$type,null==l)return null==b["\u001e\u0192_parent"]&&m(b,a,h,w,q),b}else if(y=!(!b||"object"!==typeof b))l=b.$type;if(l!==c){if(F=!(!d||"object"!==typeof d))x=d.$type;if(y&&!l&&(null==d||F&&!x))return b}else{if(null==d){if(g(b,G)){p(b,t,C);return}return b}if(F=!(!d||"object"!==typeof d))if(x=d.$type,x===c)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(K=b.$timestamp,N=d.$timestamp,!g(b,G)&&!g(d,G)&&N<K)return}if(l&&
F&&!x)return m(r(b,d,a,h,C,w),a,h,void 0,q);x||!F?(x===f&&B&&(d=B(z(u,h),d)),x&&b===d?null==b["\u001e\u0192_parent"]&&(b=k(b,l,b.value),a=v(a,-b.$size,C,w),b=m(b,a,h,w,q)):(u=!0,(l&&!g(b,G)||!y)&&(u=!1===n(d)<n(b))&&(l||x)&&A&&(u=!A(b,d,q.slice(0,q.index))),u&&(d=k(d,x,x?d.value:d),A=e(b)-e(d),b=r(b,d,a,h,C,w),a=v(a,A,C,w),b=m(b,a,h,w,q))),g(b,!0)&&p(b,t,C)):null==b&&(b=m(d,a,h,void 0,q));return b}},function(b,d,a){function c(a,c){for(var e=-1,d=c.length,g=[],n=[],p=a._root.errorSelector;++e<d;){var l=
c[e],h=l.inputType,l=l.arguments;if(0<l.length){var u=(0,b.exports["set"+h])(a,l,p,null,!1);n.push.apply(n,u[1]);"PathValues"===h?g.push.apply(g,l.map(f)):"JSONGraphs"===h?g.push.apply(g,k(l,f)):g.push.apply(g,u[0])}}return{optimized:n,relative:g}}function f(a){return a.path||a.paths}var e=a(24),n=a(25),k=a(100),g=a(81);b.exports={json:function(a,b,d,f,k){b=g(b);var p=c(a,b),m=f&&e(a,p.relative,d,f,k);a=n({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},
p.optimized,{},f,k);return{args:b,data:d,fragments:a.data,missing:a.data.paths,relative:p.relative,error:m&&m.error,errors:m&&m.errors,requested:a.requested,hasValue:m&&m.hasValue}},jsonGraph:function(a,b,e,d,f){b=g(b);var k=c(a,b);a=n({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},k.optimized,e,d,f);return{args:b,data:e,error:a.error,fragments:a.data,missing:a.data.paths,relative:k.relative,hasValue:a.hasValue,requested:a.requested}},setPathMaps:a(19),
setPathValues:a(32),setJSONGraphs:a(18)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||0,d=b["\u001e\u0192_refs_length"]||0,f=-1;++f<c;){var g=a["\u001e\u0192_ref"+f];void 0!==g&&(g["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(d+f)]=g,a["\u001e\u0192_ref"+f]=void 0)}b["\u001e\u0192_refs_length"]=c+d;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var d=a["\u001e\u0192_ref"+
b];null!=d&&(d["\u001e\u0192_context"]=d["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,d=(b["\u001e\u0192_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=d;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=
this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(0),f=a(7),e=a(11),n=a(91);b.exports=function(a){if(!a||"object"!==typeof a)throw new n;var b,d,k,r;k=a&&a["\u001e\u0192_meta"];if(!k||"object"!==typeof k)return this._clone({_node:void 0});var z=this._recycleJSON,v=k.abs_path;if(!v)return this._clone({_node:void 0,_seed:z&&{json:a,__proto__:f.prototype}||void 0});if(0===
v.length)return this._clone({_path:v,_node:this._root.cache,_referenceContainer:!0,_seed:z&&{json:a,__proto__:f.prototype}||void 0});var x=k.deref_to;d=k.deref_from;var y=this._root.cache,l=e(y,v),h="e";if(d){h=!1;k=-1;r=d.length;for(b=y;++k<r&&(b=b[d[k]],b&&!b.$type););if(x&&b&&b.$type===c){k=0;r=x.length;d=b.value;for(h=!0;h&&k<r;++k)d[k]!==x[k]&&(h=!1);!1===h&&(l=void 0)}}h?"e"===h&&(b=!0):b=!1;return this._clone({_node:l,_path:v,_referenceContainer:b,_seed:z&&{json:a,__proto__:f.prototype}||void 0})}},
function(b,d,a){d=a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";
this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",function(a,b,d,k){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(k&&"optimized: [\n\t"+c(k)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){function c(a,b,c){m.call(this,a);b&&
c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function e(a,b,c,d,e,f){p.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=d;this.progressive=e;this.maxRetryCount=f}function n(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=v(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(w){throw w;}finally{--c.syncRefCount}}function k(a,b){try{throw b;
}catch(u){p.prototype.onError.call(a,u)}}function g(a,b){for(var c,d,e,h=Object.keys(b),f=-1,l=h.length;++f<l;)e=h[f],"\u001e\u0192_meta"===e?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:(d=b[e],c=a[e],c!==d&&(d&&"object"===typeof d?void 0===c?a[e]=d:g(c,d):void 0===c&&(a[e]=d)));return a}var m=a(56),p=a(14),r=a(54),z=a(7),v=a(64),x=a(53),y=a(93);b.exports=c;c.prototype=Object.create(m.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;
b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,
b){a=void 0===a?{__proto__:z.prototype}:a;return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=function(a,b){a=void 0===a?{__proto__:z.prototype}:a;return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,
a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,this.operation,this.progressive))};e.prototype=Object.create(p.prototype);e.prototype.operations={get:a(72),set:a(84),call:a(71),invalidate:a(82)};e.prototype.next=e.prototype.onNext=function(a){if(this.started){var b,c=a.type;a=a.args||
a.paths;var d=this.data,e=this.model,f=this.errors,l,p=this.hasValue,m=this.operation,r=this.progressive,v=r&&d;v&&(d={__proto__:z.prototype});if(a&&a.length){l=this.operations[c][m](e,a,d,r||!e._source,-1===this.retryCount);if(l.error)return k(this,l.error);f&&l.errors&&f.push.apply(f,l.errors);if(b=l.fragments)a=l.args,this.fragments=b;this.relative=l.relative;this.requested=l.requested;this.missing=b=l.missing;this.hasValue=p||(p=l.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=
a,v&&(this.data=g(d,this.data)));r&&p&&d&&(d.json||d.jsonGraph)&&n(d,m,e._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount};e.prototype.error=e.prototype.onError=function(a){if(a instanceof x)return p.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);
else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&n(b,this.operation,this.model._root,this.destination),b=this.errors,c||a||b&&b.length?k(this,b.length&&b||a):p.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return k(this,new y(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,
this.relative,this.fragments).subscribe(this)};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;p.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&r(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,
d,a){function c(a){g.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var e=a(56),n=a(97),k=a(14),g=a(15),m=a(57);b.exports=c;c.prototype=Object.create(g.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=new n("set",f,a._source,new m);e=g.subscribe(new k(e,g));f.add(g);g.data=d.jsonGraph;g.requested.push(c);g.optimized.push(b);g.connect();return e})};c.prototype.call=function(a,
b,c,d){var f=this;return new e(function(b){var c=new n("call",f,a._source,new m);b=c.subscribe(new k(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,f=this.scheduler,l=-1,h=b.subscriptions,m=h.length,q=new g([],a);++l<m;){var p=h[l];if("get"===p.type&&((p=p.batch(d,e,d=[],e=[]))&&q.add(p.subscribe(new k(a,
p))),!e.length))break}e.length&&(p=h[l]=(new n("get",b,c,f)).batch(d,e),q.add(p.subscribe(new k(a,p))),p.connect());return q}},function(b,d,a){function c(a,b,c,d){k.call(this,[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){this.active=!0;var a,b=this.paths=v(this.tree=y(this.optimized.reduce(function(a,b){return x(b,a)},{})));try{switch(this.type){case "get":a=
this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=a.subscribe(this)}catch(q){this.disposable={},k.prototype.onError.call(this,new m(q))}}function e(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,h,g=-1,k=b.length;a:for(;++g<k;)if(h=b[g],h.length>c){f=0;do if(h[f]!==a[f])continue a;while(++f<c);d[++e]=h.slice(c)}return d}var n=Array.isArray,k=a(98),g=a(16);
a(14);a(15);var m=a(53),p=a(18),r=a(32),z=a(29),v=a(39),x=a(37),y=a(38),l=a(66);b.exports=c;c.prototype=Object.create(k.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=this.parent;if(b){var c=a,d=0,f=0;if(n(a)){if(0>=(f=a.length))return;c=a[0]}!1===this.responded&&(this.responded=!0,b.remove(this));var h=this.boundPath;do{var g=c.jsonGraph,k=this.requested,l=b.modelRoot,m=c.invalidated,r=c.paths||this.paths;m&&m.length&&z({_root:l,_path:[]},m,!1);r&&r.length&&g&&"object"===typeof g&&
(r=p({_root:l},[{paths:r,jsonGraph:g}],l.errorSelector,l.comparator,!1)[0])}while(++d<f&&(c=a[d]));this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:k[b]||e(h,r)})})}};c.prototype.error=c.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:g,value:{message:a.message}}:a.$type===g&&a||{$type:g,value:a};var b=b.modelRoot,c=v(y(this.requested.reduce(function(a,b){return x(b,a)},{}))).map(function(b){return{path:b,
value:a}});c.length&&r({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);k.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});k.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=
c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();k.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=
function(a,b,c,d){if(this.active){for(var e=[],f=[],g=this.tree,h=-1,k=-1,n=-1,p=b.length,m=a.length-1;++h<p;){var q=b[h],r=q.length,u=g[r];u&&l(u,q,0,r)?(f[++n]=q,e[n]=a[h<m?h:m]):(d[++k]=q,c[k]=a[h<m?h:m])}return~n?(this.requested.push(e),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),e=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=
this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,
this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d){b.exports=function(a,b){for(var c=-1,d=-1,n=a.length,k=[];++d<n;)for(var g=b(a[d],d,a),m=-1,p=g.length;++m<p;)k[++c]=g[m];return k}},function(b,d,a){var c=Array.isArray,f=a(34);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&
a.$expires||void 0}},function(b,d,a){var c=a(2);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=a(2),f=Object.prototype.hasOwnProperty;b.exports=function(a,b){return c(a)&&f.call(a,b)}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d){b.exports="atom"},function(b,d,a){b.exports=a(108)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=
a(109),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(36),a(110)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=
[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d,a){b.exports=a(63)}])});
//# sourceMappingURL=falcor.all.min.js.map
