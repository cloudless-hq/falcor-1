/*!
 * 
 * Copyright 2015 Netflix, Inc
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(e){if(a[e])return a[e].exports;var f=a[e]={i:e,l:!1,exports:{}};b[e].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,c){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:c})};
d.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(e,"a",e);return e};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=107)}([function(b,d,a){var e=a(59),f=a(34),c=a(60);b.exports=function(a,b){a=a.$expires;return void 0===a||null===a||a===c?!1:a===f?b:a<e()}},function(b,d,a){var e=a(54);b.exports=function(a,c,n){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,c.push(a),e(n,a));return a}},function(b,
d,a){(function(a){function e(a){a?(this["\u001e\u0192_meta"]=a["\u001e\u0192_meta"])||(this["\u001e\u0192_meta"]=a):this["\u001e\u0192_meta"]={}}function c(c){var g=typeof c,e=arguments.length;if(0===e)c=this;else if(g!==l){if(!c||g!==v)return c}else{if(1!==e)return c;c=this}return c===a?void 0:c}function n(){return q(c.apply(this,arguments),n)}function w(a,g){return JSON.stringify(q(c.call(this,this),q,!0===a,!1,!0===g))}function m(a){a=c.apply(this,arguments);var g,e,h=0,f=q(a,m,!0,!0);a&&(g=a["\u001e\u0192_meta"])&&
(h=g.version);f&&typeof f===v&&(e=f["\u001e\u0192_meta"])&&(e.version=h);return f}function q(a,c,f,n,l){if(!a||typeof a!==v)return a;var g,h,k,q,p,m;if(r(a))m=a;else{g=-1;q=Object.keys(a);h=q.length;m={};n&&(m.__proto__=e.prototype);if(f&&(k=a["\u001e\u0192_meta"])){var y=k.$code,b=k.status,z=k.abs_path,w=k.deref_to,t=k.deref_from;k={};y&&(k.$code=y);z&&(k.abs_path=z);w&&(k.deref_to=w);t&&(k.deref_from=t);l&&b&&(k.status=b);m["\u001e\u0192_meta"]=k;n&&(k={},k.__proto__=m,m=k)}for(;++g<h;)"\u001e\u0192_meta"!==
(p=q[g])&&(m[p]=c(a[p],c,f,n,l))}return m}var p={length:!0,toString:!0,constructor:!0,toLocaleString:!0},t={toJSON:{enumerable:!1,value:n},toProps:{enumerable:!1,value:m},toString:{enumerable:!1,value:w},toLocaleString:{enumerable:!1,value:w},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__path:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.abs_path||[]}},$__status:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];
return a&&a.status||"resolved"}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}};Object.defineProperties(e.prototype,Object.getOwnPropertyNames(Array.prototype).reduce(function(a,c){if(!p.hasOwnProperty(c)){var g=Array.prototype[c];"function"===typeof g&&(g=(new Function("fn","return function "+c+" () {return fn.apply(this, arguments);};"))(g),a[c]={value:g,writable:!0,enumerable:!1})}return a},t));var r=Array.isArray,v="object",l="string";b.exports=
e}).call(d,a(35))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d){b.exports=function(a,e){function f(a){this.message=a;e&&e.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Object.create(Error.prototype);f.prototype.name=a;f.prototype.constructor=f;f.is=function(c){return c.name===a};return f}},function(b,d){b.exports=function(a){return null!==
a&&"object"===typeof a}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){var e=a(32);b.exports=function(a){for(var c,f=Object.keys(a),b={},m=-1,q=f.length;++m<q;)c=f[m],e(c)||(b[c]=a[c]);return b}},function(b,d,a){b.exports=function(a,f){var c=f["\u001e\u0192_refs_length"]||0;f["\u001e\u0192_ref"+c]=a;f["\u001e\u0192_refs_length"]=c+1;a["\u001e\u0192_ref_index"]=c;a["\u001e\u0192_context"]=f}},function(b,d,a){var e=a(5);b.exports=function(a){return e(a)&&a.$size||0}},function(b,d,a){function e(a,
c){var f=a,b,m=0,q=c.length;if(0<q){do for(f=f[c[m]];f&&"ref"===(b=f.$type);)f=e(a,f.value);while(++m<q&&f&&!b)}return f}b.exports=e},function(b,d,a){var e=a(29),f=a(31);b.exports=function(a,n,b,m){var c=a,p;do 0<(c.$size=(c.$size||0)-n)?(p=c["\u001e\u0192_parent"])?c["\u001e\u0192_version"]!==m&&f(c,m):c["\u001e\u0192_version"]=m:(p=c["\u001e\u0192_parent"])&&e(c,p,c["\u001e\u0192_key"],b,m);while(c=p);return a}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,f){this.mesage="The KeySet "+
JSON.stringify(f)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,d,a){var e=a(60);b.exports=function(a,c){if(c.$expires!==e){var f=a["\u001e\u0192_head"];if(!f)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=c;else if(f!==c){var b=c["\u001e\u0192_prev"],m=c["\u001e\u0192_next"];m&&(m["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=m);c["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=c;c["\u001e\u0192_next"]=f;f["\u001e\u0192_prev"]=c;
c===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,d,a){function e(a,e,b){"function"===typeof a||"function"===typeof e||"function"===typeof b?(f.call(this,[]),this.destination={error:e,onError:e,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],e),this.parent=e,this.destination=a)}var f=a(15);b.exports=e;e.prototype=Object.create(f.prototype);e.prototype.next=e.prototype.onNext=function(a){var c=this.destination;if(c)if(c.onNext)c.onNext(a);else c.next&&c.next(a)};e.prototype.error=
e.prototype.onError=function(a){var c=!1,e=this.destination;e&&(e.onError?(c=!0,e.onError(a)):e.error&&(c=!0,e.error(a)),this.dispose());if(!c)throw a;};e.prototype.complete=e.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};e.prototype.dispose=e.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=
a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d,a){var e=a(0),f=a(1),c=a(13);b.exports=function(a,b,m,q,p,t,r,v,l,h,g,k,y,z,u,x,B,D,d,E,C,A,F){var n=d;if(b)if(e(a,
u))a["\u001e\u0192_invalidated"]||f(a,z,y);else if(c(y,a),void 0===a.value)d=!1,n=D;else{if(t)return k&&(v[p]=null),C(a,b,p,t,r,v,h,g,k,B,D,E);return}if(D)t&&(r.hasValue=!0);else if(!n)return;return A(q,p,r,v,l,k,h,g,d,D,m,x,B,F,y)}},function(b,d,a){var e=a(10);b.exports=function(a,c){c=c||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=null,0===c.length?f=a._root.cache:(f=e(a._root.cache,c),c===a._path&&(a._node=f));return f}},function(b,d,a){function e(a,
c,n,h,g,k,b,m,u,x,p,q,w,d,C,A,F,H){var l={},v=c<a.length-1,y=a[c],z=t(y,l),B=q.index;do{p.depth=c;var r=f(n,h,g,k,b,m,z,v,!1,p,q,w,d,C,A,F,H);p[c]=z;p.index=c;var D=r[0],E=r[1],G=r[4];G[G.index++]=z;D&&(v?e(a,c+1,n,E,D,k,r[3],r[2],u,x,p,G,w,d,C,A,F,H):(u.push(p.slice(0,p.index+1)),x.push(G.slice(0,G.index))));z=t(y,l);if(l.done)break;q.index=B}while(1)}function f(a,e,l,h,g,k,b,z,u,x,B,t,d,E,C,A,F){for(u=l.$type;"ref"===u;){a:{e=a;g=h;B=x;var y=t,v=d,r=E,D=C,G=A,O=F,Q,J,P=l.value;u=P.slice(0);if(n(l,
O))w(l,v,r),l=void 0,Q=e,J=g,u.index=P.length;else{var U=0,X=l,M=P.length-1;Q=l=e;J=k=g;do{var T=P[U],W=U<M;u.index=U;J=f(e,Q,l,g,J,k,T,W,!0,B,u,y,v,r,D,G,O);l=J[0];u=J[4];if(!l||"object"!==typeof l){u.index=U;B=J;break a}Q=J[1];k=J[2];J=J[3]}while(U++<M);u.index=U;X["\u001e\u0192_context"]!==l&&m(X,l)}c[0]=l;c[1]=Q;c[2]=k;c[3]=J;c[4]=u;B=c}l=B[0];if(!l||"object"!==typeof l)return B;e=B[1];k=B[2];g=B[3];B=B[4];u=l.$type}if(void 0===u){if(null==b){if(z)throw new p;l&&(b=l["\u001e\u0192_key"])}else e=
l,g=k,l=e[b],k=g&&g[b];l=q(e,l,k,b,x,B,t,d,E,C,A,F)}c[0]=l;c[1]=e;c[2]=k;c[3]=g;c[4]=B;return c}var c=Array(5),n=a(0),w=a(1),m=a(8),q=a(81),p=a(3),t=a(23);b.exports=function(a,f,n,h,g){a=a._root;for(var k=a.expired,l=a.version+1,b=a.cache,u=[],p=[],m=[],q=[],v=-1,t=f.length;++v<t;)for(var r=f[v],w=r.paths,r=r.jsonGraph,d=-1,H=w.length;++d<H;){var K=w[d];p.index=0;e(K,0,b,b,b,r,r,r,m,q,u,p,l,k,a,h,n,g)}c[0]=void 0;c[1]=void 0;c[2]=void 0;c[3]=void 0;c[4]=void 0;return b["\u001e\u0192_version"]===l?
(a.version=l,[m,q,!0]):[m,q,!1]}},function(b,d,a){function e(a,c,g,k,b,p,u,m,q,v,r,w,d,A,F){var h;if(a&&"object"===typeof a&&!a.$type){h=[];var l=0;n(a)&&(h[l++]="length");for(var x in a)t(x)||(h[l++]=x)}else h=void 0;if(h&&h.length){l=0;x=h.length;var y=q.index;do{var z=h[l],B=a[z],D=!(!B||"object"!==typeof B)&&!B.$type;m.depth=c;var G=f(g,k,b,z,B,D,!1,m,q,v,r,w,d,A,F);m[c]=z;m.index=c;var E=G[0],C=G[1],G=G[2];G[G.index++]=z;E&&(D?e(B,c+1,g,C,E,p,u,m,G,v,r,w,d,A,F):(p.push(m.slice(0,m.index+1)),
u.push(G.slice(0,G.index))));if(++l>=x)break;q.index=y}while(1)}}function f(a,e,g,k,n,b,u,p,B,t,d,E,C,A,F){for(var h=g.$type;"ref"===h;){a:{e=n;B=a;var h=p,l,x=t,y=d,z=E,D=C,G=A,J=F,P,U=g.value;l=U.slice(0);if(w(g,J))m(g,y,z),g=void 0,P=B,l.index=U.length;else{var X=g;g=g["\u001e\u0192_context"];if(null!=g)P=g["\u001e\u0192_parent"]||B,l.index=U.length;else{var M=0,T=U.length-1;l.index=M;P=g=B;do{P=f(B,P,g,U[M],e,M<T,!0,h,l,x,y,z,D,G,J);g=P[0];l=P[2];if(!g||"object"!==typeof g){l.index=M;B=P;break a}P=
P[1]}while(M++<T);l.index=M;X["\u001e\u0192_context"]!==g&&q(X,g)}}c[0]=g;c[1]=P;c[2]=l;B=c}g=B[0];if(!g||"object"!==typeof g)return B;e=B[1];B=B[2];h=g&&g.$type}if(!b||void 0===h){if(null==k){if(b)throw new r;g&&(k=g["\u001e\u0192_key"])}else e=g,g=e[k];g=v(e,g,k,n,b,u,p,B,t,d,E,C,A,F)}c[0]=g;c[1]=e;c[2]=B;return c}var c=Array(3),n=Array.isArray,w=a(0),m=a(1),q=a(8),p=a(10),t=a(20),r=a(3),v=a(48);b.exports=function(a,f,g,k,n){var h=a._root,l=h.expired,b=h.version+1;a=a._path;var m=h.cache,q=p(m,
a);if(!q)return[[],[],!1];for(var v=q["\u001e\u0192_parent"]||m,y=[],r=[],t=[],w=a.length,d=-1,K=f.length;++d<K;){var L=f[d],N=a.slice(0);N.index=w;e(L.json,0,m,v,q,r,t,y,N,b,l,h,k,g,n)}c[0]=void 0;c[1]=void 0;c[2]=void 0;return m["\u001e\u0192_version"]===b?(h.version=b,[r,t,!0]):[r,t,!1]}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||e(a)};var e=a(32)},function(b,d){function a(e,f,c){c=c||[];f=f||[];if(!e)return f;for(var n=[],b=e.$keys,m=b.length,q=-1;++q<m;){var p=e[q],t=b[q];p&&
"object"===typeof p?a(p,f,c.concat([t])):n.push(t)}1===n.length?f.push(c.concat(n)):1<n.length&&f.push(c.concat([n]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var e=5381,f=a.length;f;)e=33*e^a.charCodeAt(--f);return e>>>0}},function(b,d){function a(a,c){var e=c.from=a.from||0;a=c.to=a.to||"number"===typeof a.length&&c.from+a.length-1||0;c.rangeOffset=c.from;c.loaded=!0;e>a&&(c.empty=!0)}var e=Array.isArray;b.exports=function(f,c){if(void 0===c.isArray){c.done=!1;var n=c.isObject=
!(!f||"object"!==typeof f);c.isArray=n&&e(f);c.arrayOffset=0}if(c.isArray){var b;do{c.loaded&&c.rangeOffset>c.to&&(++c.arrayOffset,c.loaded=!1);if(c.arrayOffset>=f.length){c.done=!0;break}n=f[c.arrayOffset];"object"===typeof n?(c.loaded||a(n,c),c.empty||(b=c.rangeOffset++)):(++c.arrayOffset,b=n)}while(void 0===b);return b}if(c.isObject){c.loaded||a(f,c);if(c.rangeOffset>c.to){c.done=!0;return}return c.rangeOffset++}c.done=!0;return f}},function(b,d,a){b.exports=a(40)},function(b,d,a){b.exports=a(43)},
function(b,d){b.exports=function(a,e,f,c,n){var b=0,m;m=c.jsonGraph;m||(c.jsonGraph=m={});do{c=e[b++];if(b>=f){m=m[c]=!0!==n?a:m[c]||{};break}m=m[c]||(m[c]={})}while(1);return m}},function(b,d){var a=Array.isArray;b.exports=function(e,f,c,n,b,m,q,p,t,r,v,l,h,g,k){if(t||r){for(var y,z=-1,u=(m=b-f)&&Array(m)||void 0;++z<m;){y=e[z+f];var x;x=y;if("object"!==typeof x||null===x)x=!1;else if(a(x))x=0===x.length;else{var B=x.to,d=x.from||0;"number"!==typeof B&&(B=d+(x.length||0));x=d>=B}if(x)return;u[z]=
y}var w;e=null===y;y=t;var E;t?(x=b,B=n,E=c.requested||(c.requested=[])):(f=p,B=q,x=p+m-Number(e));do{if(m<b||!y){n=-1;z=f;for(w=Array(x);++n<z;)w[n]=B[n];for(z=-1;n<x;)w[n++]=u[++z]}if(y=!y){t&&(E[E.length]=w);break}E[E.length]=w||u;f=p;B=q;E=c.missing||(c.missing=[]);x=p+m-Number(e)}while(1);if(r)return g(v,w,f,x,l,h,k)}}},function(b,d,a){function e(a,h,g,k,n,b,u,m,p){var l={},x=h<a.length-1,y=a[h],z=v(y,l);do{c=f(g,k,n,z,x,!1,b,u,m,p);var z=c[0],t=c[1];z&&(x?e(a,h+1,g,t,z,b,u,m,p):r(z,q(z),m,b));
z=v(y,l)}while(!l.done)}function f(a,e,g,k,b,q,u,x,v,r){for(q=g.$type;"ref"===q;){a:{e=a;q=u;var h=x,l=v,y=r;if(n(g,y))w(g,h,l),c[0]=void 0,c[1]=e;else{m(l,g);var z=g,t=g.value,B;g=g["\u001e\u0192_context"];if(null!=g)B=g["\u001e\u0192_parent"]||e;else{var d=0,D=t.length-1;B=g=e;do{c=f(e,B,g,t[d],d<D,!0,q,h,l,y);g=c[0];if(!g&&"object"!==typeof g)break a;B=c[1]}while(d++<D);z["\u001e\u0192_context"]!==g&&p(z,g)}c[0]=g;c[1]=B}}g=c[0];if(!g&&"object"!==typeof g)return c;e=c[1];q=g.$type}if(void 0===
q)if(null==k){if(b)throw Error("`null` is not allowed in branch key positions.");}else e=g,g=e[k];c[0]=g;c[1]=e;return c}var c=Array(2),n=a(0),w=a(1),m=a(13),q=a(9),p=a(8),t=a(17),r=a(11),v=a(23);b.exports=function(a,f,g){var h=a._root,n=h.expired,b=h.version+1,l=h.cache;a=t(a);if(!a)return!1;for(var m=-1,p=f.length,q=a["\u001e\u0192_parent"]||l;++m<p;)e(f[m],0,l,q,a,b,n,h,g);c[0]=void 0;c[1]=void 0;return l["\u001e\u0192_version"]===b?(h.version=b,!0):!1}},function(b,d,a){function e(a,b,t,r,v){if(a&&
"object"===typeof a){var l=a.$type;if(void 0===l)for(var h in a)c(h)||e(a[h],a,h,r,v);else"ref"===l&&w(a),f(r,a);n(m(a,v));b[t]=a["\u001e\u0192_parent"]=void 0;return!0}return!1}var f=a(54),c=a(20),n=a(84),w=a(85),m=a(31);b.exports=e},function(b,d,a){function e(a,c,h,g,n,b,m,u,p,q,r,d,w,C,A,F){var k={},l=h<c.length-1,v=c[h],y=t(v,k),x=q.index;do{p.depth=h;p[h]=y;p.index=h;var z=f(g,n,b,y,a,l,!1,p,q,r,d,w,C,A,F);p[h]=y;p.index=h;var B=z[0],D=z[1],z=z[2];z[z.index++]=y;B&&(l?e(a,c,h+1,g,D,B,m,u,p,z,
r,d,w,C,A,F):(m.push(p.slice(0,p.index+1)),u.push(z.slice(0,z.index))));y=t(v,k);if(k.done)break;q.index=x}while(1)}function f(a,e,h,g,b,q,z,u,x,t,d,G,E,C,A){for(var k=h.$type;"ref"===k;){a:{e=b;x=a;var k=u,l,v=t,y=d,B=G,D=E,O=C,Q=A,J,P=h.value;l=P.slice(0);if(n(h,Q))w(h,y,B),h=void 0,J=x,l.index=P.length;else{var U=h;h=h["\u001e\u0192_context"];if(null!=h)J=h["\u001e\u0192_parent"]||x,l.index=P.length;else{var X=0,M=P.length-1;J=h=x;do{var T=P[X],W=X<M;l.index=X;J=f(x,J,h,T,e,W,!0,k,l,v,y,B,D,O,
Q);h=J[0];l=J[2];if(!h||"object"!==typeof h){l.index=X;x=J;break a}J=J[1]}while(X++<M);l.index=X;U["\u001e\u0192_context"]!==h&&m(U,h)}}c[0]=h;c[1]=J;c[2]=l;x=c}h=x[0];if(!h||"object"!==typeof h)return x;e=x[1];x=x[2];k=h.$type}if(!q||void 0===k){if(null==g){if(q)throw new p;h&&(g=h["\u001e\u0192_key"])}else e=h,h=e[g];h=r(e,h,g,b,q,z,u,x,t,d,G,E,C,A)}c[0]=h;c[1]=e;c[2]=x;return c}var c=Array(3),n=a(0),w=a(1),m=a(8),q=a(10),p=a(3),t=a(23),r=a(48);b.exports=function(a,f,h,g,n){var b=a._root,k=b.expired,
l=b.version+1;a=a._path;var m=b.cache,p=q(m,a);if(!p)return[[],[],!1];for(var v=p["\u001e\u0192_parent"]||m,t=[],r=[],d=[],w=a.length,F=-1,H=f.length;++F<H;){var K=f[F],L=K.path,K=K.value,N=a.slice(0);N.index=w;e(K,L,0,m,v,p,r,d,t,N,l,k,b,g,h,n)}c[0]=void 0;c[1]=void 0;c[2]=void 0;return m["\u001e\u0192_version"]===l?(b.version=l,[r,d,!0]):[r,d,!1]}},function(b,d,a){b.exports=function(a,f){var c=a,e=[],b=0,m,q,p;do{q=-1;m=c["\u001e\u0192_parent"];c["\u001e\u0192_version"]=f;p=c["\u001e\u0192_refs_length"]||
0;do if(m&&m["\u001e\u0192_version"]!==f&&(e[b++]=m),++q<p)m=c["\u001e\u0192_ref"+q];else break;while(1)}while(c=e[--b]);return a}},function(b,d,a){d=a(92);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d,a){var e=a(5);b.exports=function(a){return e(a)&&a.$timestamp||void 0}},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var e=a(39),
f=a(37),c=a(38);b.exports=function(a){return e(c(f(a)))}},function(b,d,a){var e=Array.isArray,f=a(21);b.exports=function(a,b){if(a)e(a)||e(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,c){var e=c.length;a[e]||(a[e]=[]);a[e].push(c);return a},b||{})}},function(b,d,a){var e=a(65);b.exports=function(a,c){return Object.keys(a).reduce(function(c,f){c[f]=e(a[f],c[f]);return c},c||{})}},function(b,d,a){function e(a,f,b){var h,g=Object.create(null),k=""+p(""+f),l=[],m=-1,u=0,q=[],v=0,t,r,d,
w,A,F;d=[];w=-1;if(f<b-1){for(A=c(a,d);++w<A;)h=d[w],t=e(a[h],f+1,b),r=t.code,g[r]?t=g[r]:(l[u++]=r,t=g[r]={keys:[],sets:t.sets}),k=""+p(k+h+r),n(h)&&t.keys.push(parseInt(h,10))||t.keys.push(h);for(;++m<u;)if(h=l[m],t=g[h],d=t.keys,A=d.length,0<A)for(a=t.sets,f=-1,b=a.length,w=d[0];++f<b;){h=a[f];t=-1;r=h.length;F=Array(r+1);for(F[0]=1<A&&d||w;++t<r;)F[t+1]=h[t];q[v++]=F}}else for(A=c(a,d),1<A?q[v++]=[d]:q[v++]=d;++w<A;)k=""+p(k+d[w]);return{code:k,sets:q}}function f(a,c){return a-c}function c(a,
c,e){var f=0;if(a===t)c[f++]=null;else{for(var g in a)c[f++]=g;1<f&&c.sort(e)}return f}function n(a){var c=a,e=typeof a;if("string"===e){c=a.length;if(0===c||17<c||!q.test(a))return!1;if(16>c)return!0;c=+a}else if("number"!==e)return!1;return 0===c%1&&9007199254740991>=m(c)}var w=Array.isArray,m=Math.abs,q=/^(0|(\-?[1-9][0-9]*))$/,p=a(22),t=a(6);b.exports=function(a){var c,b=[],h=0,g;for(g in a){var k;if(k=n(g))k=c=a[g],k=null!==k&&"object"===typeof k;if(k){k=e(c,0,parseInt(g,10)).sets;for(var m=
-1,p=k.length;++m<p;){for(var u=h++,q=k[m],t=-1,d=q.length;++t<d;){var r=q[t];if(w(r)){var E=q,C=t;for(var A=-1,F=r.length-1,H=0<F;++A<=F;){var K=r[A];if(!n(K)){H=!1;break}r[A]=parseInt(K,10)}!0===H&&(r.sort(f),A=r[0],H=r[F],H-A<=F&&(r={from:A,to:H}));E[C]=r}}b[u]=q}}}return b};b.exports._isSafeNumber=n},function(b,d,a){var e=Array.isArray,f=a(73),c=a(72),n=a(17),w=a(90),m=a(64),q=a(62);b.exports=function(a,b,d,v,l){var h,g;v=a._path;var k=a._root,p=k.cache,t,u,x,r=v&&v.length||0;if(r){if((h=n(a))&&
h.$type)return{error:new w(v,v)};x=[];for(g=0;g<r;++g)x[g]=v[g];g=a._referenceContainer}else h=p,x=[];t=[];var D=!1,G=d&&d.json,E={data:d},C=a._boxed,A=k.expired;u=a._recycleJSON;var F=!!a._source,H=k.branchSelector,K=d&&a._materialized,L=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var N,S=0,O=b.length;if(0<O){u&&(D=!0,1<O||e(b[0]))&&(O=1,b=[q(m(b,{}))]);do N=b[S],D?u=c(p,h,G,b[0],0,d,E,t,x,r,!1,g,k,A,l,H,C,K,F,L,a):(u=N.length,u=f(p,h,G,N,0,d,E,t,u,x,r,!1,g,k,A,l,H,C,K,F,L,a)),G=u[0],u[0]=
void 0,u[1]=void 0;while(++S<O)}l=E.requested;E.args=D&&b||l;if(l&&l.length&&(E.relative=E.args,r)){b=[];g=0;for(r=l.length;g<r;++g)b[g]=v.concat(l[g]);E.requested=b}E.hasValue&&(d.json=G);return E}},function(b,d,a){var e=Array(3),f=a(13),c=a(0),n=a(8),w=a(52);b.exports=function(a,b,p,t){f(p,b);var m,q,l=0,h=a,g=b.value,k=g,d=g.length;do{if(0===l&&void 0!==(m=b["\u001e\u0192_context"]))h=m,l=d;else if(q=g[l++],void 0===(h=h[q]))break;if(l===d){q=h.$type;if(void 0!==q&&c(h,t))break;else{if(h===b)throw new w(g);
h!==m&&n(b,h)}if("ref"===q)f(p,h),l=0,b=h,h=a,g=k=b.value,d=g.length;else break}else if(void 0!==h.$type)break}while(1);l<d&&void 0!==h&&(d=l);l=-1;for(g=Array(d);++l<d;)g[l]=k[l];e[0]=h;e[1]=g;e[2]=b;return e}},function(b,d,a){var e=a(7),f=a(71);b.exports=function(a,b,d,m,q,p,t,r,v,l,h,g){if("error"===b&&!g)return f(a,d,q,p,v,l);q.hasValue=!0;return l?e(a):a.value}},function(b,d,a){var e=a(76),f=a(88);b.exports=function(a,b,d,m,q){var c,n;c=a._path;m=a._root;var r,v,l=c&&c.length||0;if(l)return{error:new f};
v=[];n=c=m.cache;r=[];for(var h=a._boxed,g=m.expired,k=a._materialized,y=!!a._source,z=a._treatErrorsAsValues,u={data:d},x=-1,w=b.length;++x<w;){var D=b[x];a=D.length;e(n,c,D,0,d,u,r,a,v,l,!1,m,g,q,h,k,y,z)}u.args=u.relative=u.requested;return u}},function(b,d,a){function e(a,b,d,r,v,l,h){if(d===r)return l?c(m):void 0;var g,k,p=d+1,q,u=-1,t=0;k=b[d];a&&"object"===typeof a?((g=a["\u001e\u0192_meta"])||(a["\u001e\u0192_meta"]=g={}),g.status="resolved",g.version=h.version,g.abs_path=b.slice(0,d)):(a=
{},a.__proto__=n.prototype,a["\u001e\u0192_meta"]=g={},g.status="resolved",g.version=h.version,g.abs_path=b.slice(0,d),v&&(a=v(a)));a:do{if("object"!==typeof k)d=k,g=void 0,k=!1;else if(f(k)){if(void 0!==q)throw new w(b,q);u=0;q=k;t=k.length;if(0===t)break a;k=q[u];continue a}else{g=k.to;d=k.from||0;"number"!==typeof g&&(g=d+(k.length||0)-1);if(0>g-d)break a;k=!0}do a[d]=e(a[d],b,p,r,v,l,h);while(k&&++d<=g);if(++u===t)break a;k=q[u]}while(1);return a}var f=Array.isArray,c=a(7),n=a(2);a(3);var w=a(12),
m=a(6);b.exports=e},function(b,d,a){var e=Array.isArray,f=a(102),c=a(57),n=a(58);b.exports=function(a){for(var b=[],d=-1,p=a.length,t,r,v,l;++d<p;)v=a[d],e(v)?(v={path:v},l="PathValues"):f(v)?l="PathValues":n(v)?l="JSONGraphs":c(v)&&(l="PathMaps"),r!==l&&(r=l,b.push(t={arguments:[],inputType:l})),t.arguments.push(v);return b}},function(b,d,a){b.exports=function(a,b,c,n,d){a["\u001e\u0192_key"]=c;a["\u001e\u0192_parent"]=b;void 0!==n&&(a["\u001e\u0192_version"]=n);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=
d.slice(0,d.index).concat(c));return b[c]=a}},function(b,d,a){function e(a,b,g,k,n,m,u,d,p,t){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!r(h)){var l=a[h],x=!(!l||"object"!==typeof l)&&!l.$type;c=f(g,k,n,h,l,x,!1,m,u,d,p,t);var y=c[0],z=c[1];y&&(x?e(l,b+1,g,z,y,m,u,d,p,t):v(y,q(y),d,m))}}function f(a,e,g,b,d,q,u,t,r,v,G,E){for(u=g.$type;"ref"===u;){a:{e=d;u=a;var h=t,k=r,l=v,y=G,x=E;if(n(g,x))w(g,k,l),c[0]=void 0,c[1]=u;else{m(l,g);var z=g,B=g.value,D;g=g["\u001e\u0192_context"];if(null!=
g)D=g["\u001e\u0192_parent"]||u;else{var O=0,Q=B.length-1;D=g=u;do{c=f(u,D,g,B[O],e,O<Q,!0,h,k,l,y,x);g=c[0];if(!g&&"object"!==typeof g)break a;D=c[1]}while(O++<Q);z["\u001e\u0192_context"]!==g&&p(z,g)}c[0]=g;c[1]=D}}g=c[0];if(!g&&"object"!==typeof g)return c;e=c[1];u=g.$type}if(void 0===u)if(null==b){if(q)throw Error("`null` is not allowed in branch key positions.");}else e=g,g=e[b];c[0]=g;c[1]=e;return c}var c=Array(2),n=a(0),w=a(1),m=a(13),q=a(9),p=a(8),t=a(17),r=a(20),v=a(11);b.exports=function(a,
b,g){var f=a._root,h=f.expired,n=f.version+1,m=f._comparator,l=f.cache;a=t(a);if(!a)return!1;for(var d=-1,p=a["\u001e\u0192_parent"]||l,q=b.length;++d<q;)e(b[d].json,0,l,p,a,n,h,f,m,g);c[0]=void 0;c[1]=void 0;return l["\u001e\u0192_version"]===n?(f.version=n,!0):!1}},function(b,d,a){var e=a(34),f=a(101),c=a(9),n=a(33),w=a(51),m=a(0),q=a(1),p=a(46),t=a(50),r=a(49),v=a(11);a(29);b.exports=function(a,b,g,k,d,z,u,x,B,D,G,E,C,A){A=f(b,z);if(d||z){if(A&&m(b,!0)&&(q(b,D,G),A=b.$expires===e?A:"expired"),
A&&"ref"!==A||!b||"object"!==typeof b)b=t(b,{},a,g,G,B),b=p(b,a,g,B,x)}else d=f(k),(A||d)&&(E?3>E.length?E(b,k):E(b,k,x.slice(0,x.index)):!1!==n(k)<n(b))||(C&&"error"===d&&(k=C(r(u,g),k)),u=c(b)-c(k=w(k,d,d?k.value:k)),b=t(b,k,a,g,G,B),a=v(a,u,G,B),b=p(b,a,g,B,x));return b}},function(b,d){b.exports=function(a,e){a=a.slice(0,a.depth);a[a.length]=e;return a}},function(b,d,a){var e=a(83),f=a(29),c=a(31);b.exports=function(a,b,m,d,p,t){if(a===b)return a;a&&"object"===typeof a&&(e(a,b),f(a,m,d,p),c(b,
t));return m[d]=b}},function(b,d,a){var e=Array.isArray,f=a(59),c=a(99),n=a(9),w=a(100),m=a(34);b.exports=function(a,b,d){var p=0;if(b){var q=a["\u001e\u0192_wrapped_value"];a=c(a);p=n(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=q||!1}else a={$type:"atom",value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==d)p=51;else if(null==p||0>=p)switch(typeof d){case "object":p=e(d)?50+d.length:51;
break;case "string":p=50+d.length;break;default:p=51}b=w(a);"number"===typeof b&&b<m&&(a.$expires=f()+-1*b);a.$size=p;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){b.exports=function(a,b){var c=b["\u001e\u0192_prev"],e=b["\u001e\u0192_next"];
e&&(e["\u001e\u0192_prev"]=c);c&&(c["\u001e\u0192_next"]=e);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=e);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=c)}},function(b,d,a){(function(e){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var c=a(14),n=a(15),d=a(103).default;b.exports=f;f.prototype[d]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};
f.prototype.subscribe=function(a,e,b){return new n([this.operator.call(this.source,a instanceof c?a:new c(a,e,b))])};f.prototype.then=function(a,c){var b=this;this._promise||(this._promise=new e.Promise(function(a,c){var e=[],f=!1;b.subscribe({next:function(a){e[e.length]=a},error:function(a){f=!0;c(a)},complete:function(){!f&&a(1>=e.length?e[0]:e)}})}));return this._promise.then(a,c)}}).call(d,a(35))},function(b,d){function a(){}var e={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=
function(a){a();return e};b.exports=a},function(b,d,a){var e=a(5);b.exports=function(a){return e(a)&&"json"in a}},function(b,d,a){var e=Array.isArray,f=a(5);b.exports=function(a){return f(a)&&e(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d,a){function e(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(66);d=a(2);e.prototype=Object.create(f.prototype);e.Model=f;e.FalcorJSON=d;e.toProps=
d.prototype.toProps;b.exports=e},function(b,d,a){function e(a){if(void 0!==a){for(var c="",b=a.$keys,d=-1,q=b.length;++d<q;){var p=b[d];if(null===p)c=""+f(""+c+"null");else{"object"===typeof p&&(p="["+p.from+".."+(p.from+p.length-1)+"]");var t=e(a[d]),c=void 0===t?""+f(""+c+p):""+f(""+c+p+t.$code)}}a.$code=c;return a}}var f=a(22);b.exports=e},function(b,d,a){function e(a,b,d,q){if(d===q)return!0;var n,m=-1,r=0,v=d+1,l,h,g;n=b[d];if(null===n)return a===c;a:do{if("object"!==typeof n)d=n,h=void 0,l=
!1;else if(f(n)){if(void 0!==g)break a;m=0;g=n;r=n.length;if(0===r)break a;n=g[m];continue a}else{h=n.to;d=n.from||0;"number"!==typeof h&&(h=d+(n.length||0)-1);if(0>h-d)break a;l=!0}do if(v===q){if(null!==a[d])return!1}else if(n=a[d],null===n||void 0===n||!1===e(n,b,v,q))return!1;while(l&&++d<=h);if(++m===r)break a;n=g[m]}while(1);return!0}var f=Array.isArray,c=a(6);b.exports=e},function(b,d,a){function e(a,b){return a.reduce(function(a,b){return c(b)?f(a,b,0,b.length):c(b.$keys)?e(w(b),a):a},b||
{})}function f(a,e,b,d){if(b!==d){a=a||{};var m=a.$keys||(a.$keys=[]),q=a.$keysMap||(a.$keysMap={}),l,h=-1,g=0,k,p=b+1,t;l=e[b];if(null===l)return n;a:do{if("object"!==typeof l)k=l,"undefined"===typeof(b=q[k])&&(b=m.length),m[b]=k,q[k]=b,l=f(a[b],e,p,d),void 0!==l&&(a[b]=l);else if(c(l)){if(void 0!==t)break a;h=0;t=l;g=l.length;if(0===g)break a;l=t[h];continue a}else{b=l.to;k=l.from||0;"number"!==typeof b&&(b=k+(l.length||0)-1);if(0>b-k)break a;l={from:k,length:b-k+1};k="["+k+".."+b+"]";"undefined"===
typeof(b=q[k])&&(b=m.length);m[b]=l;q[k]=b;l=f(a[b],e,p,d);void 0!==l&&(a[b]=l)}if(++h===g)break a;l=t[h]}while(1);return a}}var c=Array.isArray,n={$keys:[null],$keysMap:{"null":0}},w=a(21);b.exports=e},function(b,d,a){function e(a,b,d,q,p){if(d===q)return!0;a=a||{};var n,m=-1,v=0,l,h=d+1,g,k,y;n=b[d];if(null===n)return c;a:do{if("object"!==typeof n)d=n,k=void 0,g=!1;else if(f(n)){if(void 0!==y)break a;m=0;y=n;v=n.length;if(0===v)break a;n=y[m];continue a}else{k=n.to;d=n.from||0;"number"!==typeof k&&
(k=d+(n.length||0)-1);if(0>k-d)break a;g=!0}do h===q?a[d]=p:(n=a[d],(l=e(n,b,h,q,p))?n||(a[d]=l):a[d]=p);while(g&&++d<=k);if(++m===v)break a;n=y[m]}while(1);return a}var f=Array.isArray,c=a(6);b.exports=function(a,b){return a.reduce(function(a,b){return e(a,b,0,b.length,null)},b||{})}},function(b,d,a){function e(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new c(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=
a.scheduler||a._scheduler||new q;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={},this._seed.__proto__=n.prototype);this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}
var f=a(94),c=a(68),n=a(2),w=a(67),m=a(98),q=a(56),p=a(36);a(9);var t=a(5),r=a(57),v=a(10),l=a(58),h=a(19),g=a(18),k=a(24),y=a(78),z=a(25);b.exports=e;e.prototype.constructor=e;e.prototype.get=function(){var a=this._seed;a||(a={},a.__proto__=n.prototype);for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("get",this,c))._toJSON(a,[])};e.prototype.set=function(){var a={};a.__proto__=n.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("set",
this,c))._toJSON(a,[])};e.prototype.preload=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("get",this,b))._toJSON(null,[])};e.prototype.call=function(){var a={};a.__proto__=n.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("call",this,c))._toJSON(a,[])};e.prototype.invalidate=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("invalidate",this,b))._toJSON(null,null).then()};
e.prototype.deref=a(87);e.prototype._hasValidParentReference=a(86);e.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};e.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return(new f("set",this,[b]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=
-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};e.prototype.setCache=function(a){var b=this._root,c=b.cache;if(a!==c){var e={_path:[],_boxed:!1,_root:b,_materialized:!1,_treatErrorsAsValues:!1};b.cache=this._node={};"undefined"!==typeof c&&(b.expired=[],b["\u001e\u0192_head"]=void 0,b["\u001e\u0192_tail"]=void 0,this._recycleJSON&&(this._seed={},this._seed.__proto__=n.prototype));var f,d;l(a)?f=g(e,[a]):r(a)?
f=h(e,[a]):t(a)&&(f=h(e,[{json:a}]));f&&(f[0].length&&k(e,f[0],null,!1,!1),f[2]&&(d=b.onChange)&&d())}else"undefined"===typeof c&&(this._root.cache={});return this};e.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return y(this._root.cache);var b={};b.__proto__=n.prototype;b=z({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},a,b).data;b.paths=p(a);return b};e.prototype.getVersion=
function(a){a=a||[];if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};e.prototype._clone=function(a){var b=new e(this);if(a)for(var c in a){var g=a[c];"delete"===g?delete b[c]:"_path"===c?(b[c]=g,!1===a.hasOwnProperty("_node")&&delete b._node):b[c]=g}0<b._path.length&&(b.setCache=void 0);return b};e.prototype.batch=function(a){var b;"number"===typeof a?b=new m(Math.round(Math.abs(a))):
a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new m(1);return this._clone({_scheduler:b})};e.prototype.unbatch=function(){return this._clone({_scheduler:new q})};e.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};e.prototype.asDataSource=function(){return new w(this)};e.prototype._materialize=function(){return this._clone({_materialized:!0})};e.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};
e.prototype.boxValues=function(){return this._clone({_boxed:!0})};e.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};e.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};e.prototype.inspect=function(){return"{ v: "+this.getVersion()+" p: ["+this._path.join(", ")+"] }"};e.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};e.prototype.getPath=function(){return this._path.slice(0)};e.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===
a?!0:a})};e.prototype._optimizePath=function(a){a=v(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};e.prototype._getVersion=a(79);e.prototype._getPathValuesAsPathMap=k;e.prototype._getPathValuesAsJSONG=z;e.prototype._setPathValues=a(30);e.prototype._setPathMaps=a(19);e.prototype._setJSONGs=a(18);e.prototype._setCache=a(19);e.prototype._invalidatePathValues=a(28);e.prototype._invalidatePathMaps=a(47)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}
a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,c,d){return this._model.call.apply(this._model,[a,b,c].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function e(a,b){a=a||{};this.cache={};this.version=-1;this.syncRefCount=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,
53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&
(this.onChangesCompleted=a.onChangesCompleted)}var f=a(95),c=a(33);e.comparator=e.prototype.comparator=function(a,b){var e=a&&a.$type,f=b&&b.$type;return e?f?!0===c(b)<c(a)?!0:!(e!==f||a.value!==b.value||a.$expires!==b.$expires):a.value===b:f?!1:a===b};b.exports=e},function(b,d,a){var e=a(24),f=a(25);b.exports={json:function(a,b,f,d){var c=!1;if(!b)return{missing:!1,hasValue:!1};var n=[].concat(b[1]||[]),m=[].concat(b[2]||[]),r=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&r&&r.length&&
(c=e(a,r,f,d,!0).hasValue);return{data:f,missing:!0,hasValue:c,fragments:[b,n,m,r]}},jsonGraph:function(a,b,e,d){var c=!1;if(!b)return{missing:!1,hasValue:!1};var n=[].concat(b[1]||[]),m=[].concat(b[2]||[]),r=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&r&&r.length&&(c=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},r,e,!0,!0).hasValue);return{data:e,missing:!0,hasValue:c,fragments:[b,n,m,r]}}}},function(b,d,a){b.exports={json:a(40),
jsonGraph:a(43)}},function(b,d,a){var e=a(7);b.exports=function(a,b,d,w,m,q){var c=-1;b+=!!m;m=Array(b);for(a=q?e(a):a.value;++c<b;)m[c]=w[c];(d.errors||(d.errors=[])).push({path:m,value:a})}},function(b,d,a){function e(a,b,g,d,t,B,D,G,E,C,A,F,H,K,L,N,S,O,Q,J,P){var k,y;if(void 0===b||void 0!==(k=b.$type)||void 0===d)return n[1]=Q&&void 0===b,n[0]=p(b,k,g,d,t,B,D,G,t,E,C,A,H,K,L,N,S,O,Q,J,w,f,v),n;var u,z,x;k="";var R,I,V,da=d.$keys,fa=t+1,Z,aa,ca,ia,ba,ga=C+1,Y,ha;P&&F&&(ha=F.value,Y=F["\u001e\u0192_abs_path"]);
if(!g||"object"!==typeof g)g=void 0;else if(u=g["\u001e\u0192_meta"]){x=b["\u001e\u0192_abs_path"];z=u.abs_path;N||g instanceof m||(g.__proto__={},g.__proto__["\u001e\u0192_meta"]=u,g.__proto__.__proto__=m.prototype);if(!c(x,z)){u.$code="";u.status="pending";u.abs_path=x;u.version=b["\u001e\u0192_version"];ha&&(u.deref_to=ha);Y&&(u.deref_from=Y);if(z=u.keys)for(I in u.keys=Object.create(null),z)z[I]&&delete g[I];n[0]=g;n[1]=!0;return n}if(u.version===b["\u001e\u0192_version"]&&u.$code===d.$code)return D.hasValue=
!0,n[0]=g,n[1]=!1,n;z=u.keys;u.abs_path=x;u.version=b["\u001e\u0192_version"];ha&&(u.deref_to=ha);Y&&(u.deref_from=Y)}x=Object.create(null);var ka=-1,ma=da.length,ea,la,ja=!1;a:for(;++ka<ma;)if(A=da[ka],ea=d[ka],null===A){if(void 0!==ea)throw new l;k=""+h(""+k+"null")}else{if("object"!==typeof A)I=A,Z=void 0,V=!1,la=I;else{Z=A.to;I=A.from||0;"number"!==typeof Z&&(Z=I+(A.length||0)-1);if(0>Z-I)break a;V=!0;la="["+I+".."+Z+"]"}do{A=!1;aa=g&&g[I];ba=E;ia=ga;ca=F;R=b[I];G[t]=I;E[C]=I;if(void 0===ea){if(n=
e(a,R,aa,ea,fa,B,D,G,ba,ia,A,ca,H,K,L,N,S,O,Q,J,P),!0===n[1]&&(ja=!0),void 0===(aa=n[0])&&!O){g&&g.hasOwnProperty(I)&&delete g[I];continue}}else if(R&&"ref"===R.$type&&!q(R,L)&&(y=r(a,R,H,L),R=y[0],A=!0,ba=y[1],ca=y[2],ia=ba.length,y[0]=y[1]=y[2]=void 0),n=e(a,R,aa,ea,fa,B,D,G,ba,ia,A,ca,H,K,L,N,S,O,Q,J,P),!0===n[1]&&(ja=!0),void 0===(aa=n[0])){g&&g.hasOwnProperty(I)&&delete g[I];continue}void 0===u&&(u={},u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],ha&&(u.deref_to=ha),
Y&&(u.deref_from=Y),g={},g["\u001e\u0192_meta"]=u,g.__proto__=m.prototype,N?g=N(g):(A=g,g={},g.__proto__=A));x[I]=!0;z&&I in z&&(z[I]=!1);g[I]=aa}while(V&&++I<=Z);k=ja?""+h(""+k+(ea&&ea.$code||"")):""+h(""+k+la+(ea&&ea.$code||""))}if(u&&(u.$code=k,u.keys=x,u.status=ja&&"pending"||"resolved",z))for(I in z)z[I]&&delete g[I];n[0]=g;n[1]=ja;return n}function f(a,b,c,e,d,h,l,n,m,q,p,r,v,w,L){if(q)return w(p,a,b,b,r,v,L,c,e,l,n,h,m,f);a=a?g(a):[[]];var k=e.slice(0,d);return a.forEach(function(a){d=b+a.length;
return t(k.concat(a),b,c,e,d,h,l,n,m,!1,p,r,v,w,L)})}function c(a,b){if(a===b)return!0;var c=a.length;if(c!==b.length)return!1;for(;~--c;)if(a[c]!==b[c])return!1;return!0}var n=Array(2),w=a(42),m=a(2),q=a(0),p=a(16),t=a(27),r=a(41),v=a(77),l=a(3);a(12);var h=a(22),g=a(21);b.exports=e},function(b,d,a){function e(a,b,d,y,z,u,x,B,D,G,E,C,A,F,H,K,L,N,S,O,Q,J){var g,h;if(void 0===b||(g=b.$type)||z===D)return f[1]=O&&void 0===b,f[0]=q(b,g,d,y,z,u,x,B,D,G,E,C,F,H,K,L,N,S,O,Q,n,w,t),f;var k,M,T,W=z+1,R,I,
V,da,fa=-1,Z=0,aa,ca,ia=E+1,ba,ga;C=y[z];if(null===C){if(W<D)throw new v;f[0]=d;f[1]=!1;return f}J&&A&&(ga=A.value,ba=A["\u001e\u0192_abs_path"]);if(!d||"object"!==typeof d)d=void 0;else if(k=d["\u001e\u0192_meta"])k.version=b["\u001e\u0192_version"],k.abs_path=b["\u001e\u0192_abs_path"],ga&&(k.deref_to=ga),ba&&(k.deref_from=ba);var Y=!1;a:do{if("object"!==typeof C)g=C,R=void 0,T=!1;else if(c(C)){if(void 0!==I)throw new l(y,I);fa=0;I=C;Z=C.length;if(0===Z)break a;C=I[fa];continue a}else{R=C.to;g=
C.from||0;"number"!==typeof R&&(R=g+(C.length||0)-1);if(0>R-g)break a;T=!0}do{C=!1;V=d&&d[g];ca=G;aa=ia;da=A;M=b[g];B[z]=g;G[E]=g;if(W===D){if(f=e(a,M,V,y,W,u,x,B,D,ca,aa,C,da,F,H,K,L,N,S,O,Q,J),!0===f[1]&&(Y=!0),void 0===(V=f[0])&&!S)continue}else if(M&&"ref"===M.$type&&!p(M,K)&&(h=r(a,M,F,K),M=h[0],C=!0,ca=h[1],da=h[2],aa=ca.length,h[0]=h[1]=h[2]=void 0),f=e(a,M,V,y,W,u,x,B,D,ca,aa,C,da,F,H,K,L,N,S,O,Q,J),!0===f[1]&&(Y=!0),void 0===(V=f[0]))continue;void 0===k&&(k={},k.version=b["\u001e\u0192_version"],
k.abs_path=b["\u001e\u0192_abs_path"],ga&&(k.deref_to=ga),ba&&(k.deref_from=ba),d={},d["\u001e\u0192_meta"]=k,d.__proto__=m.prototype,L&&(d=L(d)));d[g]=V}while(T&&++g<=R);if(++fa===Z)break a;C=I[fa]}while(1);k&&(k.status=Y&&"pending"||"resolved");f[0]=d;f[1]=Y;return f}var f=Array(2),c=Array.isArray,n=a(42),w=a(27),m=a(2),q=a(16),p=a(0),t=a(44),r=a(41),v=a(3),l=a(12);a(6);b.exports=e},function(b,d,a){var e=Array(2),f=a(7),c=a(26),n=a(13),w=a(0),m=a(8),q=a(52);b.exports=function(a,b,d,v,l){n(d,b);
var h,g,k=0,p=a,r=b.value,u=r,t=r.length;do{if(0===k&&void 0!==(h=b["\u001e\u0192_context"]))p=h,k=t;else if(g=r[k++],void 0===(p=p[g]))break;if(k===t){g=p.$type;if(void 0!==g&&w(p,l))break;else{if(p===b)throw new q(r);p!==h&&m(b,p)}if("ref"===g)n(d,p),v&&c(f(p),r,t,v),k=0,b=p,p=a,r=u=b.value,t=r.length;else break}else if(void 0!==p.$type)break}while(1);k<t&&void 0!==p&&(t=k);k=-1;for(r=Array(t);++k<t;)r[k]=u[k];e[0]=p;e[1]=r;return e}},function(b,d,a){var e=a(7),f=a(26);b.exports=function(a,b,d,
m,q,p,t,r,v,l,h){h=a.value;if(l||"ref"===b||"error"===b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof h)h=e(a);q.hasValue=!0;f(h,t,r,m);(m.paths||(m.paths=[])).push(p.slice(0,d+!!v));return h}},function(b,d,a){function e(a,b,g,d,r,B,D,G,E,C,A,F,H,K,L,N,S,O){var k,u;if(void 0===b||(k=b.$type)||d===G)return p(b,k,r,g,d,r,B,D,G,E,C,A,F,H,K,void 0,L,N,S,O,w,f,t);var y,z,x=d+1,M,T,W=-1,R=0,I,V,da=C+1;A=g[d];if(null===A){if(x<G)throw new l;}else{a:do{if("object"!==typeof A)k=A,M=void 0,z=!1;else if(c(A)){if(void 0!==
T)throw new h(g,T);W=0;T=A;R=A.length;if(0===R)break a;A=T[W];continue a}else{M=A.to;k=A.from||0;"number"!==typeof M&&(M=k+(A.length||0)-1);if(0>M-k)break a;z=!0}do A=!1,V=E,I=da,y=b[k],D[d]=k,E[C]=k,y&&x<G&&"ref"===y.$type&&!q(y,K)&&(r&&m(n(y),E,I,r),u=v(a,y,F,r,K),y=u[0],A=!0,V=u[1],I=V.length,u[0]=u[1]=void 0),e(a,y,g,x,r,B,D,G,V,I,A,F,H,K,L,N,S,O);while(z&&++k<=M);if(++W===R)break a;A=T[W]}while(1)}}function f(a,b,c,e,d,f,h,l,p,q,v,t,w,K,L){var k,u;v&&q&&((v.paths||(v.paths=[])).push((u=0===d-
b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),k=m(u&&n(g)||void 0,h,l,v,!u));return r(a,b,c,e,d,f,h,l,p,!u&&q,k,t,!0,K,L)}var c=Array.isArray,n=a(7),w=a(75),m=a(26),q=a(0),p=a(16),t=a(44),r=a(27),v=a(74),l=a(3),h=a(12),g=a(6);b.exports=e},function(b,d,a){function e(a,b,d,r,v,l,h,g,k,y,z,u,x,B){if(void 0===b)return c(void 0,void 0,a,b,d,void 0,g,k,d,y,z,u,h,void 0,!1,v,l,!1,x,!1,void 0,B,void 0),l?f(m):void 0;var p,q,t,C,A=b.$keys,F=d+1,H,K=z+1;a&&"object"===typeof a?((p=a["\u001e\u0192_meta"])?
q=p.keys:a["\u001e\u0192_meta"]=p={},p.$code="",p.status="resolved",p.version=h.version,p.abs_path=y.slice(0,z)):(a={},a.__proto__=n.prototype,a["\u001e\u0192_meta"]=p={},p.$code="",p.status="resolved",p.version=h.version,p.abs_path=y.slice(0,z),v&&(a=v(a)));r=Object.create(null);var L,N=-1,S=A.length;a:for(;++N<S;)if(C=A[N],L=b[N],null===C){if(void 0!==L)throw new w;}else{if("object"!==typeof C)t=C,H=void 0,C=!1;else{H=C.to;t=C.from||0;"number"!==typeof H&&(H=t+(C.length||0)-1);if(0>H-t)break a;
C=!0}do k[d]=t,y[z]=t,r[t]=!0,q&&t in q&&(q[t]=!1),a[t]=e(a[t],L,F,F,v,l,h,g,k,y,K,u,x,B);while(C&&++t<=H)}p.keys=r;if(q)for(t in q)q[t]&&delete a[t];return a}var f=a(7),c=a(16),n=a(2),w=a(3);a(12);var m=a(6);b.exports=e},function(b,d,a){function e(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(c){var d=a[c],n=b[c];n||(n=b[c]={});if(d.$type){n=!d["\u001e\u0192_wrapped_value"];if(d.value&&"object"===typeof d.value||n){var n=
{},m=Object.keys(d),r,v,l;v=0;for(l=m.length;v<l;v++)r=m[v],"$type"!==r&&f(r)||(n[r]=d[r]);d=n}else d=d.value;b[c]=d}else e(d,n,c)})}var f=a(20);b.exports=function(a){var b={};e(a,b);return b}},function(b,d,a){var e=a(17);b.exports=function(a,b){a=(a=e(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){function e(a,e,d,q,p){e=c(e);d=!1;q=-1;for(var n=e.length;++q<n;){var m=e[q],v=m.inputType,m=m.arguments;0<m.length&&("PathValues"===v&&(m=m.map(f)),(0,b.exports["invalidate"+v])(a,
m,p)&&(d=!0))}d&&(a=a._root.onChange)&&a();return{}}function f(a){return a.path||a.paths}var c=a(45);b.exports={json:e,jsonGraph:e,invalidatePathMaps:a(47),invalidatePathValues:a(28)}},function(b,d,a){var e=a(51),f=a(0),c=a(46),n=a(1),w=a(50),m=a(9),q=a(49),p=a(33),t=a(11);b.exports=function(a,b,d,h,g,k,y,z,u,x,B,D){var l,r,v,A,F,H;if(b===d){if(void 0===d)return d;if(null===d)return b=e(d,void 0,d),a=t(a,-b.$size,u,y),b=c(b,a,h,void 0,k);if((v=!(!b||"object"!==typeof b))&&void 0===(l=b.$type))return void 0===
b["\u001e\u0192_parent"]&&c(b,a,h,y,k),b}else if(v=!(!b||"object"!==typeof b))l=b.$type;if("ref"!==l){if(A=!(!d||"object"!==typeof d))r=d.$type;if(v&&!l&&(null==d||A&&!r))return b}else{if(null==d){if(f(b,D)){n(b,z,u);return}return b}if(A=!(!d||"object"!==typeof d))if(r=d.$type,"ref"===r)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(F=b.$timestamp,H=d.$timestamp,!f(b,D)&&!f(d,D)&&H<F)return}if(l&&A&&!r)return c(w(b,d,a,h,u,y),a,h,void 0,k);r||!A?("error"===r&&B&&(d=B(q(g,h),d)),r&&b===
d?b["\u001e\u0192_parent"]||(b=e(b,l,b.value),a=t(a,-b.$size,u,y),b=c(b,a,h,y,k)):(g=!0,l||r?v&&f(b,D)||(g=x?!(3>x.length?x(b,d):x(b,d,k.slice(0,k.index))):!1===p(d)<p(b)):g=!0,g&&(x=m(b)-m(d=e(d,r,r?d.value:d)),b=w(b,d,a,h,u,y),a=t(a,x,u,y),b=c(b,a,h,y,k))),f(b,!0)&&n(b,z,u)):null==b&&(b=c(d,a,h,void 0,k));return b}},function(b,d,a){function e(a,e,d){var n=!1,m=-1,l=e.length,h=[],g=[],k=a._root,p=k.errorSelector;d=d&&!a._source;for(k=a._source?null:k.comparator;++m<l;){var q=e[m],u=q.inputType,q=
q.arguments;if(0<q.length){var t=(0,b.exports["set"+u])(a,q,p,k,d),n=n||t[2];g.push.apply(g,t[1]);"PathValues"===u?h.push.apply(h,q.map(f)):"JSONGraphs"===u?h.push.apply(h,c(q,f)):h.push.apply(h,t[0])}}return{changed:n,requested:h,optimized:g}}function f(a){return a.path||a.paths}function c(a,b){for(var c=-1,e=-1,d=a.length,f=[];++e<d;)for(var h=b(a[e],e,a),g=-1,k=h.length;++g<k;)f[++c]=h[g];return f}var n=a(24),w=a(25),m=a(45);b.exports={json:function(a,b,c,d,f){var l,h,g,k,p,q,u=m(b);l=e(a,u,f);
if((b=l.requested).length){if(!(k=l.changed)||d)h=n(a,b,c,d,f);k&&(g=w({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},l.optimized,{},d,f),q=g.data,p=q.paths,g=g.requested,(a=a._root.onChange)&&a())}return{args:u,data:c,missing:p,relative:b,fragments:q,requested:g,error:h&&h.error,errors:h&&h.errors,hasValue:h&&h.hasValue}},jsonGraph:function(a,b,c,d,f){var n,h,g,k,p,q,u=m(b);n=e(a,u,f);(b=n.requested).length&&(d||(g=n.changed))&&(h=w({_root:a._root,_boxed:a._boxed,
_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},n.optimized,c,d,f),p=h.data,k=p.paths,q=h.requested,g&&(a=a._root.onChange)&&a());return{args:u,data:c,missing:k,relative:b,fragments:p,requested:q,error:h&&h.error,hasValue:h&&h.hasValue}},setPathMaps:a(19),setPathValues:a(30),setJSONGraphs:a(18)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||0,e=b["\u001e\u0192_refs_length"]||0,d=-1;++d<c;){var f=a["\u001e\u0192_ref"+d];void 0!==f&&(f["\u001e\u0192_context"]=
b,b["\u001e\u0192_ref"+(e+d)]=f,a["\u001e\u0192_ref"+d]=void 0)}b["\u001e\u0192_refs_length"]=c+e;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var e=a["\u001e\u0192_ref"+b];null!=e&&(e["\u001e\u0192_context"]=e["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||
0)-1,e=(b["\u001e\u0192_refs_length"]||0)-1;++c<=e;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=e;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,d,a){var e=a(2),f=a(10);a(89);b.exports=function(a){var b,c;if(!a||"object"!==typeof a||
!(c=a["\u001e\u0192_meta"])||"object"!==typeof c)return null;var d=this._root.cache,q=this._recycleJSON,p=c.abs_path,t,r;if(!p)return q&&(b={json:a},b.__proto__=e.prototype),this._clone({_node:void 0,_seed:b});if(0===p.length)return q&&(b={json:a},b.__proto__=e.prototype),this._clone({_node:d,_path:p,_referenceContainer:!0,_seed:b});var v=c.deref_to,l=c.deref_from,h=f(d,p),g="e";if(l){g=!1;c=-1;r=l.length;for(t=d;++c<r&&(t=t[l[c]],t&&!t.$type););if(v&&t&&"ref"===t.$type)for(g=!0,r=v.length,d=t.value,
c=0;c<r;++c)if(d[c]!==v[c]){h=void 0;g=!1;break}}g?"e"===g&&(t=!0):t=!1;q&&(b={json:a},b.__proto__=e.prototype);return this._clone({_seed:b,_node:h,_path:p,_referenceContainer:t})}},function(b,d,a){d=a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},
function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,d,a){function e(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",function(a,b,d,w){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+e(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+
e(d)+"\n]\n"||"")+(w&&"optimized: [\n\t"+e(w)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){var e=a(11);b.exports=function(a,b,d,w,m,q){"number"!==typeof m&&(m=.75);for(var c,f=w*m;m=b.pop();)d-=c=m.$size||0,e(m,c,a,q);if(d>=w){for(b=a["\u001e\u0192_tail"];d>=f&&(m=b);)b=b["\u001e\u0192_prev"],d-=c=m.$size||0,e(m,c,a,q);a["\u001e\u0192_tail"]=m;null==m?a["\u001e\u0192_head"]=void 0:m["\u001e\u0192_next"]=void 0}}},function(b,d,a){function e(a,b,c){q.call(this,
a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,e,d){this.data=a;this.errors=b;this.operation=c;this.progressive=e;this.maxRetryCount=d}function c(a,b,c,e,d,f){p.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=e;this.progressive=d;this.maxRetryCount=f}function n(a,b,c,e){"jsonGraph"===b&&a.paths&&(a.paths=v(a.paths));try{++c.syncRefCount,e.onNext(a)}catch(u){throw u;}finally{--c.syncRefCount}}function w(a,
b){try{throw b;}catch(y){p.prototype.onError.call(a,y)}}function m(a,b){for(var c,e,d,g=Object.keys(b),f=-1,h=g.length;++f<h;)d=g[f],"\u001e\u0192_meta"===d?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:(e=b[d],c=a[d],c!==e&&(e&&"object"===typeof e?void 0===c?a[d]=e:m(c,e):void 0===c&&(a[d]=e)));return a}var q=a(55),p=a(14),t=a(93),r=a(2),v=a(36),l=a(53),h=a(91);b.exports=e;e.prototype=Object.create(q.prototype);e.prototype.lift=function(a,b){b=new e(b||this);b.type=this.type;b.model=this.model;b._args=
this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};e.prototype.operator=function(a){return this._subscribe(a)};e.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};e.prototype._toJSON=
function(a,b){void 0===a&&(a={},a.__proto__=r.prototype);return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};e.prototype._toJSONG=function(a,b){void 0===a&&(a={},a.__proto__=r.prototype);return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};e.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,
this.operator.progresive,a),this.source)};e.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new c(b,this.data,this.errors,this.operation,this.progressive))};c.prototype=Object.create(p.prototype);c.prototype.operations={get:a(70),set:a(82),call:a(69),invalidate:a(80)};c.prototype.next=c.prototype.onNext=function(a){if(!this.started)this.args=
a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount;else if(this.destination){var b,c=a.type;a=a.args||a.paths;var e=this.data,d=this.model,g=this.errors,f,h=this.hasValue,l=this.operation,p=this.progressive,q=p&&e;d._recycleJSON&&"get"===this.type&&(q=!1);q&&(e={},e.__proto__=r.prototype);if(a&&a.length){f=this.operations[c][l](d,a,e,p||!d._source,-1===this.retryCount);if(f.error)return w(this,f.error);g&&f.errors&&
g.push.apply(g,f.errors);if(b=f.fragments)a=f.args,this.fragments=b;this.relative=f.relative;this.requested=f.requested;this.missing=b=f.missing;this.hasValue=h||(h=f.hasValue)}this.completed=!b||!d._source;"set"!==c&&(this.args=a,q&&(this.data=m(e,this.data)));p&&h&&e&&(e.json||e.jsonGraph)&&n(e,l,d._root,this.destination)}};c.prototype.error=c.prototype.onError=function(a){if(a instanceof l)return p.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};c.prototype.complete=c.prototype.onCompleted=
function(a){if(this.destination){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&n(b,this.operation,this.model._root,this.destination),b=this.errors,c||a||b&&b.length?w(this,b.length&&b||a):p.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return w(this,new h(this.retryCount,this.requested,this.relative,
this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)}};c.prototype.dispose=c.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;p.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&t(a,a.expired,c.$size||0,a.maxSize,
a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function e(a){m.call(this,[]);this.modelRoot=a}function f(a,b,c,e,d){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=e;this.optimized=d}var c=a(55),n=a(96),w=a(14),m=a(15),q=a(56);b.exports=e;e.prototype=Object.create(m.prototype);e.prototype.set=function(a,b,e,d){var f=this;return new c(function(c){var g=new n("set",f,a._source,new q);c=g.subscribe(new w(c,g));f.add(g);g.data=d.jsonGraph;
g.requested.push(e);g.optimized.push(b);g.connect();return c})};e.prototype.call=function(a,b,e,d){var f=this;return new c(function(b){var c=new n("call",f,a._source,new q);b=c.subscribe(new w(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};e.prototype.get=function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,e=this.requested,d=this.optimized,f=this.scheduler,g=-1,k=b.subscriptions,p=k.length,q=new m([],
a);++g<p;){var u=k[g];if("get"===u.type&&((u=u.batch(e,d,e=[],d=[]))&&q.add(u.subscribe(new w(a,u))),!d.length))break}d.length&&(u=k[g]=(new n("get",b,c,f)).batch(e,d),q.add(u.subscribe(new w(a,u))),u.connect());return q}},function(b,d,a){function e(a,b,c,e){n.call(this,[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=e}function f(){this.active=!0;var a,b=this.paths=t(this.tree=
v(this.optimized.reduce(function(a,b){return r(b,a)},{})));try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=a.subscribe(this)}catch(k){this.disposable={},n.prototype.onError.call(this,new w(k))}}function c(a,b){var c;if(!a||0===(c=a.length))return b;var e=[],d=-1,f,g,h=-1,n=b.length;a:for(;++h<n;)if(g=b[h],g.length>c){f=0;do if(g[f]!==
a[f])continue a;while(++f<c);e[++d]=g.slice(c)}return e}var n=a(97);a(14);a(15);var w=a(53),m=a(18),q=a(30),p=a(28),t=a(39),r=a(37),v=a(38),l=a(63);b.exports=e;e.prototype=Object.create(n.prototype);e.prototype.next=e.prototype.onNext=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));var e=!1,d=a.jsonGraph,f=this.boundPath,b=b.modelRoot,h=a.invalidated,n=a.paths||this.paths,l=this.requested.slice(0);a=b.onChange;h&&h.length&&(e=p({_root:b,_path:[]},h,!1));
n&&n.length&&d&&"object"===typeof d&&(d=m({_root:b},[{paths:n,jsonGraph:d}],b.errorSelector,b.comparator,!1),n=d[0],e=e||d[2]);e&&a&&a();this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:l[b]||c(f,n)})})}};e.prototype.error=e.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:"error",value:{message:a.message}}:"error"===a.$type&&a||{$type:"error",value:a};var b=b.modelRoot,c=t(v(this.requested.reduce(function(a,
b){return r(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&q({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);n.prototype.onError.call(this,a)}};e.prototype.complete=e.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});n.prototype.onCompleted.call(this)};e.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&
this.dispose();return this};e.prototype.dispose=e.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();n.prototype.dispose.call(this)};e.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||
(this.disposable=a)}return this};e.prototype.batch=function(a,b,c,e){if(this.active){for(var d=[],f=[],g=this.tree,h=-1,n=-1,k=-1,m=b.length,p=a.length-1;++h<m;){var q=b[h],r=q.length,t=g[r];t&&l(t,q,0,r)?(f[++k]=q,d[k]=a[h<p?h:p]):(e[++n]=q,c[n]=a[h<p?h:p])}return~k?(this.requested.push(d),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function e(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),c=a(15);b.exports=e;e.prototype=
Object.create(f.prototype);e.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};e.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};e.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new c([a],this));return a};e.prototype.dispose=e.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var e=function(a){this.id=
a;this.disposed=!1};a.prototype.schedule=function(a){return new e(setTimeout(a,this.delay))};e.prototype.dispose=e.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d,a){var e=Array.isArray,f=a(32);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=e(a)?[]:{},c;for(c in a)f(c)||(b[c]=a[c])}return b}},function(b,d,a){var e=a(5);b.exports=function(a){return e(a)&&a.$expires||void 0}},function(b,d,a){var e=a(5);
b.exports=function(a,b){a=e(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var e=Array.isArray,f=a(5);b.exports=function(a){return f(a)&&(e(a.path)||"string"===typeof a.path)}},function(b,d,a){b.exports=a(104)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(105),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(35),a(106)(b))},
function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),
a.webpackPolyfill=1);return a}},function(b,d,a){b.exports=a(61)}])});
//# sourceMappingURL=falcor.all.min.js.map
