/*!
 * 
 * Copyright 2015 Netflix, Inc
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=109)}([function(b,d,a){var c=a(61),f=a(33),e=a(62);b.exports=function(a,b){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?b:a<c()}},function(b,d,a){var c=a(55);b.exports=function(a,e,r){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,e.push(a),c(r,a));return a}},function(b,
d,a){(function(a){function c(a){a?(this["\u001e\u0192_meta"]=a["\u001e\u0192_meta"])||(this["\u001e\u0192_meta"]=a):this["\u001e\u0192_meta"]={}}function e(a){function e(){return e.fn.apply(this,arguments)}return(e.fn=a)&&e}function r(e){var c=typeof e,f=arguments.length;if(0===f)e=this;else if(c!==x){if(!e||c!==u)return e}else{if(1!==f)return e;e=this}return e===a?void 0:e}function t(){return p(r.apply(this,arguments),t)}function l(a){a=r.apply(this,arguments);var e,c,h=0,f=p(a,l,!0,!0);a&&(e=a["\u001e\u0192_meta"])&&
(h=e.version);f&&typeof f===u&&(c=f["\u001e\u0192_meta"])&&(c.version=h);return f}function p(a,e,f,h){if(!a||typeof a!==u)return a;var m,r,g,y,n,v;if(k(a))v=a;else{m=-1;y=Object.keys(a);r=y.length;v={};h&&(v.__proto__=c.prototype);if(f&&(g=a["\u001e\u0192_meta"])){var b=g.$code,l=g.abs_path,p=g.deref_to,t=g.deref_from;g={};b&&(g.$code=b);l&&(g.abs_path=l);p&&(g.deref_to=p);t&&(g.deref_from=t);v["\u001e\u0192_meta"]=g;h&&(h={},h.__proto__=v,v=h)}for(;++m<r;)"\u001e\u0192_meta"!==(n=y[m])&&(v[n]=e(a[n],
e,f))}return v}Object.defineProperties(c.prototype,"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,c){a[c]={writable:!0,enumerable:!1,value:e(Array.prototype[c])};return a},{toJSON:{enumerable:!1,value:t},toProps:{enumerable:!1,value:l},toString:{enumerable:!1,value:function(a){return JSON.stringify(p(r.call(this,this),p,!0===
a))}},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__path:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.abs_path||[]}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}}));var k=Array.isArray,u="object",x="string";b.exports=c}).call(d,a(34))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,
d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Object.create(Error.prototype);f.prototype.name=a;f.prototype.constructor=f;f.is=function(e){return e.name===a};return f}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){var c=a(32);b.exports=function(a){for(var e,f=Object.keys(a),
b={},l=-1,p=f.length;++l<p;)e=f[l],c(e)||(b[e]=a[e]);return b}},function(b,d,a){b.exports=function(a,f){var e=f["\u001e\u0192_refs_length"]||0;f["\u001e\u0192_ref"+e]=a;f["\u001e\u0192_refs_length"]=e+1;a["\u001e\u0192_ref_index"]=e;a["\u001e\u0192_context"]=f}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){function c(a,e){var f=a,b,l=0,p=e.length;if(0<p){do for(f=f[e[l]];f&&"ref"===(b=f.$type);)f=c(a,f.value);while(++l<p&&f&&!b)}return f}b.exports=c},
function(b,d,a){var c=a(30),f=a(50);b.exports=function(a,r,b,l){var e=a;do{var k=e["\u001e\u0192_parent"];0>=(e.$size=(e.$size||0)-r)&&null!=k?c(e,k,e["\u001e\u0192_key"],b):e["\u001e\u0192_version"]!==l&&f(e,l);e=k}while(e);return a}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,f){this.mesage="The KeySet "+JSON.stringify(f)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,d,a){var c=a(62);b.exports=function(a,e){if(e.$expires!==
c){var f=a["\u001e\u0192_head"];if(!f)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=e;else if(f!==e){var b=e["\u001e\u0192_prev"],l=e["\u001e\u0192_next"];l&&(l["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=l);e["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=e;e["\u001e\u0192_next"]=f;f["\u001e\u0192_prev"]=e;e===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination=
{error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var e=this.destination;if(e)if(e.onNext)e.onNext(a);else e.next&&e.next(a)};c.prototype.error=c.prototype.onError=function(a){var e=!1,c=this.destination;c&&(c.onError?(e=!0,c.onError(a)):c.error&&(e=!0,c.error(a)),this.dispose());if(!e)throw a;};c.prototype.complete=c.prototype.onCompleted=
function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=
a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d,a){var c=a(0),f=a(1),e=a(13);b.exports=function(a,b,l,p,k,u,x,n,g,y,h,m,q,D,w,F,v,A,C,B,d,z,G){var r=C;if(b)if(c(a,w))a["\u001e\u0192_invalidated"]||f(a,D,q);else if(e(q,a),void 0===a.value)C=!1,r=A;else{if(u)return m&&(n[k]=null),d(a,b,k,u,x,n,y,h,m,v,A,B);return}if(A)u&&(x.hasValue=!0);else if(!r)return;return z(p,
k,x,n,g,m,y,h,C,A,l,F,v,G)}},function(b,d,a){var c=a(10);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){var c=a(30),f=a(21);b.exports=function r(a,b,p,k){if(c(a,b,p,k)){if(null==a.$type)for(var l in a)f(l)||r(a[l],a,l,k);return!0}return!1}},function(b,d,a){function c(a,e,g,y,h,m,r,b,k,l,v,p,C,t,d,z,G,H){var q=
{},n=e<a.length-1,x=a[e],A=u(x,q),w=p.index;do{v.depth=e;var B=f(g,y,h,m,r,b,A,n,!1,v,p,C,t,d,z,G,H);v[e]=A;v.index=e;var D=B[0],F=B[1],E=B[4];E[E.index++]=A;D&&(n?c(a,e+1,g,F,D,m,B[3],B[2],k,l,v,E,C,t,d,z,G,H):(k.push(v.slice(0,v.index+1)),l.push(E.slice(0,E.index))));A=u(x,q);if(q.done)break;p.index=w}while(1)}function f(a,c,g,y,h,m,b,u,w,d,v,A,C,B,E,z,G){for(w=g.$type;"ref"===w;){a:{c=a;h=y;v=d;var q=A,n=C,x=B,D=E,F=z,S=G,T,K,O=g.value;w=O.slice(0);if(r(g,S))t(g,n,x),g=void 0,T=c,K=h,w.index=O.length;
else{var W=0,Q=g,N=O.length-1;T=g=c;K=m=h;do{var U=O[W],M=W<N;w.index=W;K=f(c,T,g,h,K,m,U,M,!0,v,w,q,n,x,D,F,S);g=K[0];w=K[4];if(!g||"object"!==typeof g){w.index=W;v=K;break a}T=K[1];m=K[2];K=K[3]}while(W++<N);w.index=W;Q["\u001e\u0192_context"]!==g&&l(Q,g)}e[0]=g;e[1]=T;e[2]=m;e[3]=K;e[4]=w;v=e}g=v[0];if(!g||"object"!==typeof g)return v;c=v[1];m=v[2];h=v[3];v=v[4];w=g.$type}if(void 0===w){if(null==b){if(u)throw new k;g&&(b=g["\u001e\u0192_key"])}else c=g,h=m,g=c[b],m=h&&h[b];g=p(c,g,m,b,d,v,A,C,
B,E,z,G)}e[0]=g;e[1]=c;e[2]=m;e[3]=h;e[4]=v;return e}var e=Array(5),r=a(0),t=a(1),l=a(8),p=a(83),k=a(3),u=a(24);b.exports=function(a,f,g,y,h){a=a._root;for(var m=a.expired,r=a.version+1,b=a.cache,k=b["\u001e\u0192_version"],n=[],v=[],l=[],p=[],u=-1,t=f.length;++u<t;)for(var x=f[u],d=x.paths,x=x.jsonGraph,H=-1,J=d.length;++H<J;){var L=d[H];v.index=0;c(L,0,b,b,b,x,x,x,l,p,n,v,r,m,a,y,g,h)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=b["\u001e\u0192_version"];g=a.onChange;k!==f&&(a.version=
r,g&&g());return[l,p,k!==f]}},function(b,d,a){function c(a,e,h,m,b,k,l,n,v,p,t,x,d,z,G){var g;if(a&&"object"===typeof a&&!a.$type){g=[];var y=0;r(a)&&(g[y++]="length");for(var q in a)u(q)||(g[y++]=q)}else g=void 0;if(g&&g.length){y=0;q=g.length;var A=v.index;do{var C=g[y],w=a[C],B=!(!w||"object"!==typeof w)&&!w.$type;n.depth=e;var D=f(h,m,b,C,w,B,!1,n,v,p,t,x,d,z,G);n[e]=C;n.index=e;var F=D[0],E=D[1],D=D[2];D[D.index++]=C;F&&(B?c(w,e+1,h,E,F,k,l,n,D,p,t,x,d,z,G):(k.push(n.slice(0,n.index+1)),l.push(D.slice(0,
D.index))));if(++y>=q)break;v.index=A}while(1)}}function f(a,c,h,m,b,r,k,u,v,A,C,d,E,z,G){for(var g=h.$type;"ref"===g;){a:{c=b;v=a;var g=u,y,q=A,w=C,B=d,D=E,F=z,K=G,O,W=h.value;y=W.slice(0);if(t(h,K))l(h,w,B),h=void 0,O=v,y.index=W.length;else{var Q=h;h=h["\u001e\u0192_context"];if(null!=h)O=h["\u001e\u0192_parent"]||v,y.index=W.length;else{var N=0,U=W.length-1;y.index=N;O=h=v;do{O=f(v,O,h,W[N],c,N<U,!0,g,y,q,w,B,D,F,K);h=O[0];y=O[2];if(!h||"object"!==typeof h){y.index=N;v=O;break a}O=O[1]}while(N++<
U);y.index=N;Q["\u001e\u0192_context"]!==h&&p(Q,h)}}e[0]=h;e[1]=O;e[2]=y;v=e}h=v[0];if(!h||"object"!==typeof h)return v;c=v[1];v=v[2];g=h&&h.$type}if(void 0===g){if(null==m){if(r)throw new x;h&&(m=h["\u001e\u0192_key"])}else c=h,h=c[m];h=n(c,h,m,b,r,k,u,v,A,C,d,E,z,G)}e[0]=h;e[1]=c;e[2]=v;return e}var e=Array(3),r=Array.isArray,t=a(0),l=a(1),p=a(8),k=a(10),u=a(21),x=a(3),n=a(47);b.exports=function(a,f,h,m,b){var g=a._root,y=g.expired,r=g.version+1,v=a._path,q=g.cache,n=k(q,v);if(!n)return[[],[],!1];
var l=n["\u001e\u0192_parent"]||q;a=q["\u001e\u0192_version"];for(var p=[],u=[],t=[],x=v.length,d=-1,L=f.length;++d<L;){var P=f[d],R=v.slice(0);R.index=x;c(P.json,0,q,l,n,u,t,p,R,r,y,g,m,h,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;f=q["\u001e\u0192_version"];h=g.onChange;a!==f&&(g.version=r,h&&h());return[u,t,a!==f]}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(32)},function(b,d){function a(c,f,e){e=e||[];f=f||[];for(var b=[],t=c.$keys,l=t.length,p=-1;++p<l;){var k=c[p],
u=t[p];k&&"object"===typeof k?a(k,f,e.concat([u])):b.push(u)}1===b.length?f.push(e.concat(b)):1<b.length&&f.push(e.concat([b]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,d){function a(a,e){var c=e.from=a.from||0;a=e.to=a.to||"number"===typeof a.length&&e.from+a.length-1||0;e.rangeOffset=e.from;e.loaded=!0;c>a&&(e.empty=!0)}var c=Array.isArray;b.exports=function(f,e){if(void 0===e.isArray){e.done=!1;var b=
e.isObject=!(!f||"object"!==typeof f);e.isArray=b&&c(f);e.arrayOffset=0}if(e.isArray){var t;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=f.length){e.done=!0;break}b=f[e.arrayOffset];"object"===typeof b?(e.loaded||a(b,e),e.empty||(t=e.rangeOffset++)):(++e.arrayOffset,t=b)}while(void 0===t);return t}if(e.isObject){e.loaded||a(f,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=!0;return f}},function(b,d,a){b.exports=a(39)},function(b,d,a){b.exports=
a(42)},function(b,d){b.exports=function(a,c,f,e,b){var r=0,l;l=e.jsonGraph;l||(e.jsonGraph=l={});do{e=c[r++];if(r>=f){l=l[e]=!0!==b?a:l[e]||{};break}l=l[e]||(l[e]={})}while(1);return l}},function(b,d){var a=Array.isArray;b.exports=function(c,f,e,b,t,l,p,k,u,x,n,g,y,h){if(u||x){for(var m,q=-1,r=(l=t-f)&&Array(l)||void 0;++q<l;){m=c[q+f];var w;w=m;if("object"!==typeof w||null===w)w=!1;else if(a(w))w=0===w.length;else{var d=w.to,v=w.from||0;"number"!==typeof d&&(d=v+(w.length||0));w=v>=d}if(w)return;
r[q]=m}var A;c=null===m;m=u;var C;u?(w=t,d=b,C=e.requested||(e.requested=[])):(f=k,d=p,w=k+l-Number(c));do{if(l<t||!m){b=-1;q=f;for(A=Array(w);++b<q;)A[b]=d[b];for(q=-1;b<w;)A[b++]=r[++q]}if(m=!m){u&&(C[C.length]=A);break}C[C.length]=A||r;f=k;d=p;C=e.missing||(e.missing=[]);w=k+l-Number(c)}while(1);if(x)return h(n,A,f,w,g,y)}}},function(b,d,a){function c(a,h,m,b,r,k,l,v,u){var y={},q=h<a.length-1,t=a[h],d=g(t,y);do{e=f(m,b,r,d,q,!1,k,l,v,u);var w=e[0],A=e[1];w&&(q?c(a,h+1,m,A,w,k,l,v,u):n(w,A,d,v)&&
x(A,p(w),v,k));d=g(t,y)}while(!y.done)}function f(a,h,c,g,b,n,p,v,u,x){for(n=c.$type;"ref"===n;){a:{h=a;n=p;var m=v,y=u,q=x;if(r(c,q))t(c,m,y),e[0]=void 0,e[1]=h;else{l(y,c);var d=c,w=c.value,A;c=c["\u001e\u0192_context"];if(null!=c)A=c["\u001e\u0192_parent"]||h;else{var C=0,D=w.length-1;A=c=h;do{e=f(h,A,c,w[C],C<D,!0,n,m,y,q);c=e[0];if(!c&&"object"!==typeof c)break a;A=e[1]}while(C++<D);d["\u001e\u0192_context"]!==c&&k(d,c)}e[0]=c;e[1]=A}}c=e[0];if(!c&&"object"!==typeof c)return e;h=e[1];n=c.$type}if(void 0!==
n)return[c,h];if(null==g){if(b)throw Error("`null` is not allowed in branch key positions.");}else h=c,c=h[g];e[0]=c;e[1]=h;return e}var e=Array(2),r=a(0),t=a(1),l=a(13),p=a(9),k=a(8),u=a(17),x=a(11),n=a(18),g=a(24);b.exports=function(a,h,f){var g=a._root,b=g.expired,m=g.version++,y=g.cache,v=u(a);if(v){var r=v["\u001e\u0192_parent"]||y;a=y["\u001e\u0192_version"];for(var k=-1,n=h.length;++k<n;)c(h[k],0,y,r,v,m,b,g,f);e[0]=void 0;e[1]=void 0;h=y["\u001e\u0192_version"];(g=g.onChange)&&a!==h&&g()}}},
function(b,d,a){var c=a(55),f=a(86),e=a(87);b.exports=function(a,b,l,p){if(a&&"object"===typeof a){var r=a.$type;r&&("ref"===r&&e(a),c(p,a));f(a);b[l]=a["\u001e\u0192_parent"]=void 0;return!0}return!1}},function(b,d,a){function c(a,e,b,h,m,r,k,l,p,v,x,d,t,E,z,G){var g={},y=b<e.length-1,n=e[b],q=u(n,g),A=v.index;do{p.depth=b;p[b]=q;p.index=b;var w=f(h,m,r,q,a,y,!1,p,v,x,d,t,E,z,G);p[b]=q;p.index=b;var C=w[0],B=w[1],w=w[2];w[w.index++]=q;C&&(y?c(a,e,b+1,h,B,C,k,l,p,w,x,d,t,E,z,G):(k.push(p.slice(0,
p.index+1)),l.push(w.slice(0,w.index))));q=u(n,g);if(g.done)break;v.index=A}while(1)}function f(a,c,b,h,m,q,p,u,d,v,A,C,B,E,z){for(var g=b.$type;"ref"===g;){a:{c=m;d=a;var g=u,n,y=v,w=A,D=C,F=B,S=E,T=z,K,O=b.value;n=O.slice(0);if(r(b,T))t(b,w,D),b=void 0,K=d,n.index=O.length;else{var W=b;b=b["\u001e\u0192_context"];if(null!=b)K=b["\u001e\u0192_parent"]||d,n.index=O.length;else{var Q=0,N=O.length-1;K=b=d;do{var U=O[Q],M=Q<N;n.index=Q;K=f(d,K,b,U,c,M,!0,g,n,y,w,D,F,S,T);b=K[0];n=K[2];if(!b||"object"!==
typeof b){n.index=Q;d=K;break a}K=K[1]}while(Q++<N);n.index=Q;W["\u001e\u0192_context"]!==b&&l(W,b)}}e[0]=b;e[1]=K;e[2]=n;d=e}b=d[0];if(!b||"object"!==typeof b)return d;c=d[1];d=d[2];g=b.$type}if(!q||void 0===g){if(null==h){if(q)throw new k;b&&(h=b["\u001e\u0192_key"])}else c=b,b=c[h];b=x(c,b,h,m,q,p,u,d,v,A,C,B,E,z)}e[0]=b;e[1]=c;e[2]=d;return e}var e=Array(3),r=a(0),t=a(1),l=a(8),p=a(10),k=a(3),u=a(24),x=a(47);b.exports=function(a,b,f,h,m){var g=a._root,r=g.expired,k=g.version+1,n=a._path,v=g.cache,
y=p(v,n);if(!y)return[[],[],!1];var l=y["\u001e\u0192_parent"]||v;a=v["\u001e\u0192_version"];for(var d=[],u=[],x=[],t=n.length,H=-1,J=b.length;++H<J;){var L=b[H],P=L.path,L=L.value,R=n.slice(0);R.index=t;c(L,P,0,v,l,y,u,x,d,R,k,r,g,h,f,m)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=v["\u001e\u0192_version"];f=g.onChange;a!==b&&(g.version=k,f&&f());return[u,x,a!==b]}},function(b,d,a){d=a(94);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d){b.exports=0},function(b,d){d=function(){return this}();
try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var c=a(38),f=a(36),e=a(37);b.exports=function(a){return c(e(f(a)))}},function(b,d,a){var c=Array.isArray,f=a(22);b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,e){var c=e.length;a[c]||(a[c]=[]);a[c].push(e);return a},b||{})}},function(b,d,a){var c=a(67);b.exports=function(a,e){return Object.keys(a).reduce(function(e,b){e[b]=
c(a[b],e[b]);return e},e||{})}},function(b,d,a){function c(a,b,f){var g,h=Object.create(null),m=""+k(""+b),n=[],l=-1,p=0,d=[],v=0,u,x,t,E,z,G;t=[];E=-1;if(b<f-1){for(z=e(a,t);++E<z;)g=t[E],u=c(a[g],b+1,f),x=u.code,h[x]?u=h[x]:(n[p++]=x,u=h[x]={keys:[],sets:u.sets}),m=""+k(m+g+x),r(g)&&u.keys.push(parseInt(g,10))||u.keys.push(g);for(;++l<p;)if(g=n[l],u=h[g],t=u.keys,z=t.length,0<z)for(a=u.sets,b=-1,f=a.length,E=t[0];++b<f;){g=a[b];u=-1;x=g.length;G=Array(x+1);for(G[0]=1<z&&t||E;++u<x;)G[u+1]=g[u];
d[v++]=G}}else for(z=e(a,t),1<z?d[v++]=[t]:d[v++]=t;++E<z;)m=""+k(m+t[E]);return{code:m,sets:d}}function f(a,e){return a-e}function e(a,e,c){var b=0;if(a===u)e[b++]=null;else{for(var h in a)e[b++]=h;1<b&&e.sort(c)}return b}function r(a){var e=a,c=typeof a;if("string"===c){e=a.length;if(0===e||17<e||!p.test(a))return!1;if(16>e)return!0;e=+a}else if("number"!==c)return!1;return 0===e%1&&9007199254740991>=l(e)}var t=Array.isArray,l=Math.abs,p=/^(0|(\-?[1-9][0-9]*))$/,k=a(23),u=a(6);b.exports=function(a){var e,
b=[],k=0,h;for(h in a){var m;if(m=r(h))m=e=a[h],m=null!==m&&"object"===typeof m;if(m){m=c(e,0,parseInt(h,10)).sets;for(var l=-1,p=m.length;++l<p;){for(var u=k++,d=m[l],v=-1,x=d.length;++v<x;){var C=d[v];if(t(C)){var B=d,E=v;for(var z=-1,G=C.length-1,H=0<G;++z<=G;){var J=C[z];if(!r(J)){H=!1;break}C[z]=parseInt(J,10)}!0===H&&(C.sort(f),z=C[0],H=C[G],H-z<=G&&(C={from:z,to:H}));B[E]=C}}b[u]=d}}}return b};b.exports._isSafeNumber=r},function(b,d,a){var c=Array.isArray,f=a(75),e=a(74),r=a(17),t=a(92),l=
a(66),p=a(64);b.exports=function(a,b,d,n,g){var k,h;n=a._path;var m=a._root,q=m.cache,u,x,F,v=n&&n.length||0;if(v){if((k=r(a))&&k.$type)return{error:new t(n,n)};F=[];for(var A=0;A<v;++A)F[A]=n[A];h=a._referenceContainer}else k=q,F=[];u=[];var A=!1,C=d&&d.json,B={data:d},E=a._boxed,z=m.expired;x=a._recycleJSON;var G=!!a._source,H=m.branchSelector,J=d&&a._materialized,L=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var P,R=0,S=b.length;if(0<S)if(x){A=!0;if(1<S||c(b[0]))b=[p(l(b,{}))];g=e(q,k,C,
b[0],0,d,B,u,F,v,!1,h,m,z,g,H,E,J,G,L,a);C=g[0];g[0]=void 0;g[1]=void 0}else{do P=b[R],x=P.length,C=f(q,k,C,P,0,d,B,u,x,F,v,!1,h,m,z,g,H,E,J,G,L,a);while(++R<S)}g=B.requested;B.args=A&&b||g;if(g&&g.length&&(B.relative=B.args,v)){b=[];A=0;for(v=g.length;A<v;++A)b[A]=n.concat(g[A]);B.requested=b}B.hasValue&&(d.json=C);return B}},function(b,d,a){var c=Array(3),f=a(13),e=a(0),r=a(8),t=a(52);b.exports=function(a,b,k,d){f(k,b);var l,n,g=0,p=a,h=b.value,m=h,q=h.length;do{if(0===g&&void 0!==(l=b["\u001e\u0192_context"]))p=
l,g=q;else if(n=h[g++],void 0===(p=p[n]))break;if(g===q){n=p.$type;if(void 0!==n&&e(p,d))break;else{if(p===b)throw new t(h);p!==l&&r(b,p)}if("ref"===n)f(k,p),g=0,b=p,p=a,h=m=b.value,q=h.length;else break}else if(void 0!==p.$type)break}while(1);g<q&&void 0!==p&&(q=g);g=-1;for(h=Array(q);++g<q;)h[g]=m[g];c[0]=p;c[1]=h;c[2]=b;return c}},function(b,d,a){var c=a(7),f=a(73);b.exports=function(a,b,d,l,p,k,u,x,n,g,y,h){if("error"===b&&!h)return f(a,d,p,k,n,g);p.hasValue=!0;return g?c(a):a.value}},function(b,
d,a){var c=a(78),f=a(90);b.exports=function(a,b,d,l,p){var e,r;e=a._path;l=a._root;var t,n,g=e&&e.length||0;if(g)return{error:new f};n=[];r=e=l.cache;t=[];for(var y=a._boxed,h=l.expired,m=a._materialized,q=!!a._source,D=a._treatErrorsAsValues,w={data:d},F=-1,v=b.length;++F<v;){var A=b[F];a=A.length;c(r,e,A,0,d,w,t,a,n,g,!1,l,h,p,y,m,q,D)}w.args=w.relative=w.requested;return w}},function(b,d,a){function c(a,b,d,x,n,g){if(d===x)return g?e(l):void 0;var k,h,m=d+1,q,p=-1,u=0;h=b[d];a&&"object"===typeof a?
((k=a["\u001e\u0192_meta"])||(a["\u001e\u0192_meta"]=k={}),k.version=0,k.abs_path=b.slice(0,d)):(a={},a.__proto__=r.prototype,a["\u001e\u0192_meta"]=k={},k.version=0,k.abs_path=b.slice(0,d),n&&(a=n(a)));a:do{if("object"!==typeof h)d=h,k=void 0,h=!1;else if(f(h)){if(void 0!==q)throw new t(b,q);p=0;q=h;u=h.length;if(0===u)break a;h=q[p];continue a}else{k=h.to;d=h.from||0;"number"!==typeof k&&(k=d+(h.length||0)-1);if(0>k-d)break a;h=!0}do a[d]=c(a[d],b,m,x,n,g);while(h&&++d<=k);if(++p===u)break a;h=
q[p]}while(1);return a}var f=Array.isArray,e=a(7),r=a(2);a(3);var t=a(12),l=a(6);b.exports=c},function(b,d,a){var c=Array.isArray,f=a(104),e=a(59),r=a(60);b.exports=function(a){for(var b=[],d=-1,k=a.length,u,t,n,g;++d<k;)n=a[d],c(n)?(n={path:n},g="PathValues"):f(n)?g="PathValues":r(n)?g="JSONGraphs":e(n)&&(g="PathMaps"),t!==g&&(t=g,b.push(u={arguments:[],inputType:g})),u.arguments.push(n);return b}},function(b,d,a){b.exports=function(a,b,e,d,t){a["\u001e\u0192_key"]=e;a["\u001e\u0192_parent"]=b;void 0!==
d&&(a["\u001e\u0192_version"]=d);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=t.slice(0,t.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,e,h,b,d,k,r,p,v,t){if(a&&"object"===typeof a&&!a.$type)for(var g in a)if(!u(g)){var m=a[g],q=!(!m||"object"!==typeof m)&&!m.$type,y=f(h,b,d,g,m,q,!1,k,r,p,v,t),w=y[0],y=y[1];w&&(q?c(m,e+1,h,y,w,k,r,p,v,t):n(w,y,g,p)&&x(y,l(w),p,k))}}function f(a,c,b,m,d,k,l,n,v,u,x,B){for(l=b.$type;"ref"===l;){a:{c=d;l=a;var h=n,g=v,q=u,y=x,w=B;if(e(b,
w))r(b,g,q),c=[void 0,l];else{t(q,b);var C=b,A=b.value,D;b=b["\u001e\u0192_context"];if(null!=b)D=b["\u001e\u0192_parent"]||l;else{var F=0,T=A.length-1;D=b=l;do{D=f(l,D,b,A[F],c,F<T,!0,h,g,q,y,w);b=D[0];if(!b||"object"!==typeof b){c=D;break a}D=D[1]}while(F++<T);C["\u001e\u0192_context"]!==b&&p(C,b)}c=[b,D]}}b=c[0];if(!b&&"object"!==typeof b)return c;c=c[1];l=b&&b.$type}if(void 0!==l)return[b,c];if(null==m){if(k)throw Error("`null` is not allowed in branch key positions.");}else c=b,b=c[m];return[b,
c]}var e=a(0),r=a(1),t=a(13),l=a(9),p=a(8),k=a(17),u=a(21),x=a(11),n=a(18);b.exports=function(a,e,b){var h=a._root,f=h.expired,g=h.version++,d=h._comparator,l=h.cache,v=k(a);if(v){var r=v["\u001e\u0192_parent"]||l;a=l["\u001e\u0192_version"];for(var p=-1,n=e.length;++p<n;)c(e[p].json,0,l,r,v,g,f,h,d,b);e=l["\u001e\u0192_version"];(h=h.onChange)&&a!==e&&h()}}},function(b,d,a){var c=a(33),f=a(103),e=a(9),r=a(58),t=a(51),l=a(0),p=a(1),k=a(45),u=a(49),x=a(48),n=a(11);a(18);b.exports=function(a,b,h,m,
d,D,w,F,v,A,C,B,E,z){z=f(b,D);if(d||D){if(z&&l(b,!0)&&(p(b,A,C),z=b.$expires===c?z:"expired"),z&&"ref"!==z||!b||"object"!==typeof b)b=u(b,{},a,h,C,v),b=k(b,a,h,v,F)}else d=f(m),(B?B(b,m,F.slice(0,F.index)):d?z&&!1!==r(m)<r(b)&&(z!==d||b.value!==m.value||b.$expires!==m.$expires):b&&b.value===m)||(E&&"error"===d&&(m=E(x(w,h),m)),w=e(b)-e(m=t(m,d,d?m.value:m)),b=u(b,m,a,h,C,v),a=n(a,w,C,v),b=k(b,a,h,v,F));return b}},function(b,d){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},
function(b,d,a){var c=a(85),f=a(18),e=a(50);b.exports=function(a,b,d,p,k,u){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,p,k),e(b,u));return d[p]=b}},function(b,d,a){b.exports=function(a,b){var e=[a],c=0;do{var f=e[c];if(f&&f["\u001e\u0192_version"]!==b){f["\u001e\u0192_version"]=b;e[c++]=f["\u001e\u0192_parent"];for(var d=-1,p=f["\u001e\u0192_refs_length"]||0;++d<p;)e[c++]=f["\u001e\u0192_ref"+d]}}while(-1<--c);return a}},function(b,d,a){var c=Array.isArray,f=a(61),e=a(101),r=a(9),t=a(102),
l=a(33);b.exports=function(a,b,d){var k=0;if(b){var n=a["\u001e\u0192_wrapped_value"];a=e(a);k=r(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=n||!1}else a={$type:"atom",value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==d)k=51;else if(null==k||0>=k)switch(typeof d){case "object":k=c(d)?50+d.length:51;break;case "string":k=50+d.length;break;default:k=51}b=t(a);"number"===typeof b&&b<l&&
(a.$expires=f()+-1*b);a.$size=k;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){var c=a(30),f=a(11);b.exports=function(a,b,d,l,p,k){var e=p;"number"!==typeof e&&(e=.75);p="number"===typeof k;var e=l*e,r,n,g;for(n=b.pop();n;)g=n.$size||0,d-=g,!0===
p?f(n,g,a,k):(r=n["\u001e\u0192_parent"])&&c(n,r,n["\u001e\u0192_key"],a),n=b.pop();if(d>=l){for(n=b=a["\u001e\u0192_tail"];d>=e&&n;)b=b["\u001e\u0192_prev"],g=n.$size||0,d-=g,!0===p&&f(n,g,a,k),n=b;a["\u001e\u0192_tail"]=a["\u001e\u0192_prev"]=n;null==n?a["\u001e\u0192_head"]=a["\u001e\u0192_next"]=void 0:n["\u001e\u0192_next"]=void 0}}},function(b,d,a){b.exports=function(a,b){var e=b["\u001e\u0192_prev"],c=b["\u001e\u0192_next"];c&&(c["\u001e\u0192_prev"]=e);e&&(e["\u001e\u0192_next"]=c);b["\u001e\u0192_prev"]=
b["\u001e\u0192_next"]=void 0;b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=c);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=e)}},function(b,d,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(14),d=a(15),t=a(105).default;b.exports=f;f.prototype[t]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.subscribe=function(a,b,c){return new d([this.operator.call(this.source,
a instanceof e?a:new e(a,b,c))])};f.prototype.then=function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],f=!1;e.subscribe({next:function(a){c[c.length]=a},error:function(a){f=!0;b(a)},complete:function(){!f&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(d,a(34))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(5);b.exports=
function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,f=a(5);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(68);d=a(2);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=
d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=a.$keys,d=-1,p=e.length;++d<p;){var k=e[d];if(null===k)b=""+f(""+b+"null");else{"object"===typeof k&&(k="["+k.from+".."+(k.from+k.length-1)+"]");var u=c(a[d]),b=void 0===u?""+f(""+b+k):""+f(""+b+k+u.$code)}}a.$code=b;return a}}var f=a(23);b.exports=c},function(b,d,a){function c(a,b,d,p){if(d===p)return!0;var k,l=-1,r=0,n=d+1,g,t,h;k=b[d];if(null===k)return a===e;a:do{if("object"!==typeof k)d=k,
t=void 0,g=!1;else if(f(k)){if(void 0!==h)break a;l=0;h=k;r=k.length;if(0===r)break a;k=h[l];continue a}else{t=k.to;d=k.from||0;"number"!==typeof t&&(t=d+(k.length||0)-1);if(0>t-d)break a;g=!0}do if(n===p){if(null!==a[d])return!1}else if(k=a[d],null===k||void 0===k||!1===c(k,b,n,p))return!1;while(g&&++d<=t);if(++l===r)break a;k=h[l]}while(1);return!0}var f=Array.isArray,e=a(6);b.exports=c},function(b,d,a){function c(a,b){return a.reduce(function(a,b){return e(b)?f(a,b,0,b.length):e(b.$keys)?c(t(b),
a):a},b||{})}function f(a,b,c,d){if(c!==d){a=a||{};var k=a.$keys||(a.$keys=[]),n=a.$keysMap||(a.$keysMap={}),g,p=-1,h=0,m,q=c+1,l;g=b[c];if(null===g)return r;a:do{if("object"!==typeof g)m=g,"undefined"===typeof(c=n[m])&&(c=k.length),k[c]=m,n[m]=c,g=f(a[c],b,q,d),void 0!==g&&(a[c]=g);else if(e(g)){if(void 0!==l)break a;p=0;l=g;h=g.length;if(0===h)break a;g=l[p];continue a}else{c=g.to;m=g.from||0;"number"!==typeof c&&(c=m+(g.length||0)-1);if(0>c-m)break a;g={from:m,length:c-m+1};m="["+m+".."+c+"]";
"undefined"===typeof(c=n[m])&&(c=k.length);k[c]=g;n[m]=c;g=f(a[c],b,q,d);void 0!==g&&(a[c]=g)}if(++p===h)break a;g=l[p]}while(1);return a}}var e=Array.isArray,r={$keys:[null],$keysMap:{"null":0}},t=a(22);b.exports=c},function(b,d,a){function c(a,b,d,p,k){if(d===p)return!0;a=a||{};var r,l=-1,n=0,g,t=d+1,h,m,q;r=b[d];if(null===r)return e;a:do{if("object"!==typeof r)d=r,m=void 0,h=!1;else if(f(r)){if(void 0!==q)break a;l=0;q=r;n=r.length;if(0===n)break a;r=q[l];continue a}else{m=r.to;d=r.from||0;"number"!==
typeof m&&(m=d+(r.length||0)-1);if(0>m-d)break a;h=!0}do t===p?a[d]=k:(r=a[d],(g=c(r,b,t,p,k))?r||(a[d]=g):a[d]=k);while(h&&++d<=m);if(++l===n)break a;r=q[l]}while(1);return a}var f=Array.isArray,e=a(6);b.exports=function(a,b){return a.reduce(function(a,b){return c(a,b,0,b.length,null)},b||{})}},function(b,d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=
a.scheduler||a._scheduler||new p;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={},this._seed.__proto__=r.prototype);this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}
var f=a(95),e=a(70),r=a(2),t=a(69),l=a(99),p=a(57),k=a(35),u=a(54),x=a(9),n=a(5),g=a(59),y=a(10),h=a(60),m=a(20),q=a(19),D=a(25),w=a(80),F=a(26);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){var a=this._seed;a||(a={},a.__proto__=r.prototype);for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("get",this,c))._toJSON(a,[])};c.prototype.set=function(){var a={};a.__proto__=r.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("set",
this,c))._toJSON(a,[])};c.prototype.preload=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("get",this,b))._toJSON(null,[])};c.prototype.call=function(){var a={};a.__proto__=r.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("call",this,c))._toJSON(a,[])};c.prototype.invalidate=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("invalidate",this,b))._toJSON(null,null).then()};
c.prototype.deref=a(89);c.prototype._hasValidParentReference=a(88);c.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var h=a.length;c&&!c.$type&&++e<h;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return(new f("set",this,[b]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=
-1;c=c.json;for(var h=a.length;c&&!c.$type&&++e<h;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root,c=b.cache;if(a!==c){var e={_path:[],_boxed:!1,_root:b,_materialized:!1,_treatErrorsAsValues:!1};b.cache=this._node={};"undefined"!==typeof c&&(u(b,b.expired,x(c),0),this._recycleJSON&&(this._seed={},this._seed.__proto__=r.prototype));var f;h(a)?f=q(e,[a])[0]:g(a)?f=m(e,[a])[0]:n(a)&&(f=m(e,[{json:a}])[0]);f&&D(e,
f,null,!1,!1)}else"undefined"===typeof c&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return w(this._root.cache);var b={};b.__proto__=r.prototype;b=F({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},a,b).data;b.paths=k(a);return b};c.prototype.getVersion=function(a){a=a||[];if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");
this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var h=a[e];"delete"===h?delete b[e]:"_path"===e?(b[e]=h,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=h}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new l(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new l(1);return this._clone({_scheduler:b})};
c.prototype.unbatch=function(){return this._clone({_scheduler:new p})};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new t(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};
c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=y(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(81);c.prototype._getPathValuesAsPathMap=D;c.prototype._getPathValuesAsJSONG=
F;c.prototype._setPathValues=a(31);c.prototype._setPathMaps=a(20);c.prototype._setJSONGs=a(19);c.prototype._setCache=a(20);c.prototype._invalidatePathValues=a(29);c.prototype._invalidatePathMaps=a(46)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,
[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.version=-1;this.syncRefCount=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(96);c.comparator=function(a,b){var c=a&&a.$type,e=b&&b.$type;return c?e?!(c!==e||a.value!==b.value||a.$expires!==b.$expires):a.value===b:e?!1:a===b};b.exports=
c},function(b,d,a){var c=a(25),f=a(26);b.exports={json:function(a,b,f,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var k=[].concat(b[1]||[]),r=[].concat(b[2]||[]),l=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&l&&l.length&&(e=c(a,l,f,d,!0).hasValue);return{data:f,missing:!0,hasValue:e,fragments:[b,k,r,l]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var k=[].concat(b[1]||[]),l=[].concat(b[2]||[]),r=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&
r&&r.length&&(e=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},r,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,k,l,r]}}}},function(b,d,a){b.exports={json:a(39),jsonGraph:a(42)}},function(b,d,a){var c=a(7);b.exports=function(a,b,d,t,l,p){var e=-1;b+=!!l;l=Array(b);for(a=p?c(a):a.value;++e<b;)l[e]=t[e];(d.errors||(d.errors=[])).push({path:l,value:a})}},function(b,d,a){function c(a,b,d,k,w,y,v,A,C,B,E,z,G,H,J,L,P,R,S,
T,K){var h,m;if(void 0===b||void 0!==(h=b.$type)||void 0===k)return e[1]=S&&void 0===b,e[0]=p(b,h,d,k,w,y,v,A,w,C,B,E,G,H,J,L,P,R,S,T,r,f,x),e;var q,D,F;h="";var M,I,V,Y=k.$keys,ba=w+1,Z,X,aa,fa,ca,ga=B+1,ha,ia;K&&z&&(ia=z.value,ha=z["\u001e\u0192_abs_path"]);if(!d||"object"!==typeof d)d=void 0;else if(q=d["\u001e\u0192_meta"]){F=b["\u001e\u0192_abs_path"];D=q.abs_path;L||d instanceof t||(d.__proto__={},d.__proto__["\u001e\u0192_meta"]=q,d.__proto__.__proto__=t.prototype);if(F!==D){q.$code="__incomplete__";
q.abs_path=F;q.version=b["\u001e\u0192_version"];q.deref_to=ia;q.deref_from=ha;if(D=q.keys)for(I in q.keys=Object.create(null),D)D[I]&&delete d[I];e[0]=d;e[1]=!0;return e}if(q.version===b["\u001e\u0192_version"]&&q.$code===k.$code)return v.hasValue=!0,e[0]=d,e[1]=!1,e;D=q.keys;q.abs_path=F;q.version=b["\u001e\u0192_version"];q.deref_to=ia;q.deref_from=ha}F=Object.create(null);var ja=-1,la=Y.length,ea,ka,da=!1;a:for(;++ja<la;)if(E=Y[ja],ea=k[ja],null===E){if(void 0!==ea)throw new n;h=""+g(""+h+"null")}else{if("object"!==
typeof E)I=E,Z=void 0,V=!1,ka=I;else{Z=E.to;I=E.from||0;"number"!==typeof Z&&(Z=I+(E.length||0)-1);if(0>Z-I)break a;V=!0;ka="["+I+".."+Z+"]"}do{E=!1;X=d&&d[I];ca=C;fa=ga;aa=z;M=b[I];A[w]=I;C[B]=I;if(void 0===ea){if(e=c(a,M,X,ea,ba,y,v,A,ca,fa,E,aa,G,H,J,L,P,R,S,T,K),X=e[0],da=da||e[1],void 0===X&&!R){da=!0;d&&d.hasOwnProperty(I)&&delete d[I];continue}}else if(M&&"ref"===M.$type&&!l(M,J)&&(m=u(a,M,G,J),M=m[0],E=!0,ca=m[1],aa=m[2],fa=ca.length,m[0]=m[1]=m[2]=void 0),e=c(a,M,X,ea,ba,y,v,A,ca,fa,E,aa,
G,H,J,L,P,R,S,T,K),X=e[0],da=da||e[1],void 0===X){da=!0;d&&d.hasOwnProperty(I)&&delete d[I];continue}void 0===q&&(q={},q.version=b["\u001e\u0192_version"],q.abs_path=b["\u001e\u0192_abs_path"],q.deref_to=ia,q.deref_from=ha,d={},d["\u001e\u0192_meta"]=q,d.__proto__=t.prototype,L?d=L(d):(E=d,d={},d.__proto__=E));F[I]=!0;D&&I in D&&(D[I]=!1);d[I]=X}while(V&&++I<=Z);da||(h=""+g(""+h+ka+(ea&&ea.$code||"")))}da&&(h="__incomplete__");if(q&&(q.$code=h,q.keys=F,D))for(I in D)D[I]&&delete d[I];e[0]=d;e[1]=
da;return e}function f(a,b,c,e,d,g,n,p,l,r,t,u,x,H){if(r)return H(t,a,b,b,u,x,c,e,n,p,g,l,f);a=a?y(a):[[]];var h=e.slice(0,d);return a.forEach(function(a){d=b+a.length;return k(h.concat(a),b,c,e,d,g,n,p,l,!1,t,u,x,H)})}var e=Array(2),r=a(41),t=a(2),l=a(0),p=a(16),k=a(28),u=a(40),x=a(79),n=a(3);a(12);var g=a(23),y=a(22);b.exports=c},function(b,d,a){function c(a,b,h,d,q,D,w,F,v,A,C,B,E,z,G,H,J,L,P,R,S,T){var g,m;if(void 0===b||(g=b.$type)||q===v)return l(b,g,h,d,q,D,w,F,v,A,C,B,z,G,H,J,L,P,R,S,e,r,
k);var y,Q,N,U=q+1,M,I,V,Y,ba=-1,Z=0,X,aa,fa=C+1,ca,ga;B=d[q];if(null===B){if(U<v)throw new x;return h}T&&E&&(ga=E.value,ca=E["\u001e\u0192_abs_path"]);if(!h||"object"!==typeof h)h=void 0;else if(y=h["\u001e\u0192_meta"])y.version=b["\u001e\u0192_version"],y.abs_path=b["\u001e\u0192_abs_path"],y.deref_to=ga,y.deref_from=ca;a:do{if("object"!==typeof B)g=B,M=void 0,N=!1;else if(f(B)){if(void 0!==I)throw new n(d,I);ba=0;I=B;Z=B.length;if(0===Z)break a;B=I[ba];continue a}else{M=B.to;g=B.from||0;"number"!==
typeof M&&(M=g+(B.length||0)-1);if(0>M-g)break a;N=!0}do{B=!1;V=h&&h[g];aa=A;X=fa;Y=E;Q=b[g];F[q]=g;A[C]=g;if(U===v){if(V=c(a,Q,V,d,U,D,w,F,v,aa,X,B,Y,z,G,H,J,L,P,R,S,T),void 0===V&&!P)continue}else if(Q&&"ref"===Q.$type&&!p(Q,H)&&(m=u(a,Q,z,H),Q=m[0],B=!0,aa=m[1],Y=m[2],X=aa.length,m[0]=m[1]=m[2]=void 0),void 0===(V=c(a,Q,V,d,U,D,w,F,v,aa,X,B,Y,z,G,H,J,L,P,R,S,T)))continue;void 0===y&&(y={},y.version=b["\u001e\u0192_version"],y.abs_path=b["\u001e\u0192_abs_path"],y.deref_to=ga,y.deref_from=ca,h=
{},h["\u001e\u0192_meta"]=y,h.__proto__=t.prototype,J&&(h=J(h)));h[g]=V}while(N&&++g<=M);if(++ba===Z)break a;B=I[ba]}while(1);return h}var f=Array.isArray,e=a(41),r=a(28),t=a(2),l=a(16),p=a(0),k=a(43),u=a(40),x=a(3),n=a(12);a(6);b.exports=c},function(b,d,a){var c=Array(2),f=a(7),e=a(27),r=a(13),t=a(0),l=a(8),p=a(52);b.exports=function(a,b,d,n,g){r(d,b);var k,h,m=0,q=a,u=b.value,w=u,x=u.length;do{if(0===m&&void 0!==(k=b["\u001e\u0192_context"]))q=k,m=x;else if(h=u[m++],void 0===(q=q[h]))break;if(m===
x){h=q.$type;if(void 0!==h&&t(q,g))break;else{if(q===b)throw new p(u);q!==k&&l(b,q)}if("ref"===h)r(d,q),n&&e(f(q),u,x,n),m=0,b=q,q=a,u=w=b.value,x=u.length;else break}else if(void 0!==q.$type)break}while(1);m<x&&void 0!==q&&(x=m);m=-1;for(u=Array(x);++m<x;)u[m]=w[m];c[0]=q;c[1]=u;return c}},function(b,d,a){var c=a(7),f=a(27);b.exports=function(a,b,d,l,p,k,u,x,n,g,y){y=a.value;if(g||"ref"===b||"error"===b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof y)y=c(a);p.hasValue=!0;f(y,u,x,l);(l.paths||
(l.paths=[])).push(k.slice(0,d+!!n));return y}},function(b,d,a){function c(a,b,h,d,x,v,A,C,B,E,z,G,H,J,L,P,R,S){var m,q;if(void 0===b||(m=b.$type)||d===C)return k(b,m,x,h,d,x,v,A,C,B,E,z,G,H,J,void 0,L,P,R,S,t,f,u);var w,D,F=d+1,N,U,M=-1,I=0,V,Y,ba=E+1;z=h[d];if(null===z){if(F<C)throw new g;}else{a:do{if("object"!==typeof z)m=z,N=void 0,D=!1;else if(e(z)){if(void 0!==U)throw new y(h,U);M=0;U=z;I=z.length;if(0===I)break a;z=U[M];continue a}else{N=z.to;m=z.from||0;"number"!==typeof N&&(N=m+(z.length||
0)-1);if(0>N-m)break a;D=!0}do z=!1,Y=B,V=ba,w=b[m],A[d]=m,B[E]=m,w&&F<C&&"ref"===w.$type&&!p(w,J)&&(x&&l(r(w),B,V,x),q=n(a,w,G,x,J),w=q[0],z=!0,Y=q[1],V=Y.length,q[0]=q[1]=void 0),c(a,w,h,F,x,v,A,C,Y,V,z,G,H,J,L,P,R,S);while(D&&++m<=N);if(++M===I)break a;z=U[M]}while(1)}}function f(a,b,c,e,d,f,g,k,n,p,t,u,y,J){var m,q;t&&p&&((t.paths||(t.paths=[])).push((q=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),m=l(q&&r(h)||void 0,g,k,t,!q));return x(a,b,c,e,d,f,g,k,n,!q&&p,m,u,!0,J)}
var e=Array.isArray,r=a(7),t=a(77),l=a(27),p=a(0),k=a(16),u=a(43),x=a(28),n=a(76),g=a(3),y=a(12),h=a(6);b.exports=c},function(b,d,a){function c(a,b,d,x,n,g,y,h,m,q,D,w,F){if(void 0===b)return e(void 0,void 0,a,b,d,void 0,y,h,d,m,q,D,void 0,void 0,!1,n,g,!1,w,!1,void 0,F,void 0),g?f(l):void 0;var k,p,u,B,E=b.$keys,z=d+1,G,H=q+1;a&&"object"===typeof a?((x=a["\u001e\u0192_meta"])?k=x.keys:(a["\u001e\u0192_meta"]=x={},x.version=0),x.abs_path=m.slice(0,q)):(a={},a.__proto__=r.prototype,a["\u001e\u0192_meta"]=
x={},x.version=0,x.abs_path=m.slice(0,q),n&&(a=n(a)));p={};var J,L=-1,P=E.length;a:for(;++L<P;)if(B=E[L],J=b[L],null===B){if(void 0!==J)throw new t;}else{if("object"!==typeof B)u=B,G=void 0,B=!1;else{G=B.to;u=B.from||0;"number"!==typeof G&&(G=u+(B.length||0)-1);if(0>G-u)break a;B=!0}do h[d]=u,m[q]=u,p[u]=!0,k&&u in k&&(k[u]=!1),a[u]=c(a[u],J,z,z,n,g,y,h,m,H,D,w,F);while(B&&++u<=G)}x.$code="__incomplete__";x.keys=p;if(k)for(u in k)k[u]&&delete a[u];return a}var f=a(7),e=a(16),r=a(2),t=a(3);a(12);var l=
a(6);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(e){var d=a[e],k=b[e];k||(k=b[e]={});if(d.$type){k=!d["\u001e\u0192_wrapped_value"];if(d.value&&"object"===typeof d.value||k){var k={},l=Object.keys(d),r,n,g;n=0;for(g=l.length;n<g;n++)r=l[n],"$type"!==r&&f(r)||(k[r]=d[r]);d=k}else d=d.value;b[e]=d}else c(d,k,e)})}var f=a(21);b.exports=function(a){var b={};c(a,b);return b}},function(b,
d,a){var c=a(17);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){function c(a,c,d,p,k){c=e(c);d=-1;for(p=c.length;++d<p;){var l=c[d],r=l.inputType,l=l.arguments;0<l.length&&("PathValues"===r&&(l=l.map(f)),b.exports["invalidate"+r](a,l,k))}return{}}function f(a){return a.path||a.paths}var e=a(44);b.exports={json:c,jsonGraph:c,invalidatePathMaps:a(46),invalidatePathValues:a(29)}},function(b,d,a){var c=a(51),f=a(0),e=a(45),r=a(1),t=a(49),l=a(9),p=
a(48),k=a(58),u=a(11);b.exports=function(a,b,d,y,h,m,q,D,w,F,v,A){var g,n,x,z,G,H;if(b===d){if(void 0===d)return d;if(null===d)return b=c(d,void 0,d),a=u(a,-b.$size,w,q),b=e(b,a,y,void 0,m);if((x=!(!b||"object"!==typeof b))&&void 0===(g=b.$type))return void 0===b["\u001e\u0192_parent"]&&e(b,a,y,q,m),b}else if(x=!(!b||"object"!==typeof b))g=b.$type;if("ref"!==g){if(z=!(!d||"object"!==typeof d))n=d.$type;if(x&&!g&&(null==d||z&&!n))return b}else{if(null==d){if(f(b,A)){r(b,D,w);return}return b}if(z=!(!d||
"object"!==typeof d))if(n=d.$type,"ref"===n)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(G=b.$timestamp,H=d.$timestamp,!f(b,A)&&!f(d,A)&&H<G)return}if(g&&z&&!n)return e(t(b,d,a,y,w,q),a,y,void 0,m);if(n||!z){"error"===n&&v&&(d=v(p(h,y),d));if(n&&b===d)null==b["\u001e\u0192_parent"]&&(b=c(b,g,b.value),a=u(a,-b.$size,w,q),b=e(b,a,y,q,m));else{h=!0;if(!x||g&&!f(b,A))h=F?!F(b,d,m.slice(0,m.index)):n?!g||!1===k(d)<k(b)||!(g!==n||b.value!==d.value||b.$expires!==d.$expires):!b||b.value!==
d;h&&(d=c(d,n,n?d.value:d),F=l(b)-l(d),b=t(b,d,a,y,w,q),a=u(a,F,w,q),b=e(b,a,y,q,m))}f(b,!0)&&r(b,D,w)}else null==b&&(b=e(d,a,y,void 0,m));return b}},function(b,d,a){function c(a,c){for(var e=!1,d=-1,k=c.length,g=[],l=[],h=a._root.errorSelector;++d<k;){var m=c[d],q=m.inputType,m=m.arguments;if(0<m.length){var r=(0,b.exports["set"+q])(a,m,h,null,!1),e=e||r[2];l.push.apply(l,r[1]);"PathValues"===q?g.push.apply(g,m.map(f)):"JSONGraphs"===q?g.push.apply(g,t(m,f)):g.push.apply(g,r[0])}}return{changed:e,
requested:g,optimized:l}}function f(a){return a.path||a.paths}var e=a(25),r=a(26),t=a(100),l=a(44);b.exports={json:function(a,b,d,f,n){var g,k,h,m,q,p,t=l(b);g=c(a,t);if((b=g.requested).length){if(!(h=g.changed)||f)k=e(a,b,d,f,n);h&&(a=r({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},g.optimized,{},f,n),q=a.data,m=q.paths,p=a.requested)}return{args:t,data:d,missing:m,relative:b,fragments:q,requested:p,error:k&&k.error,errors:k&&k.errors,hasValue:k&&k.hasValue}},
jsonGraph:function(a,b,e,d,f){var g,k,h,m,q,n=l(b);b=c(a,n);(k=b.requested).length&&(d||b.changed)&&(g=r({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},b.optimized,e,d,f),m=g.data,h=m.paths,q=g.requested);return{args:n,data:e,missing:h,relative:k,fragments:m,requested:q,error:g&&g.error,hasValue:g&&g.hasValue}},setPathMaps:a(20),setPathValues:a(31),setJSONGraphs:a(19)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||0,
d=b["\u001e\u0192_refs_length"]||0,f=-1;++f<c;){var l=a["\u001e\u0192_ref"+f];void 0!==l&&(l["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(d+f)]=l,a["\u001e\u0192_ref"+f]=void 0)}b["\u001e\u0192_refs_length"]=c+d;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var d=a["\u001e\u0192_ref"+b];null!=d&&(d["\u001e\u0192_context"]=d["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=
void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,d=(b["\u001e\u0192_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=d;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&
a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(2),f=a(10);a(91);b.exports=function(a){var b,d;if(!a||"object"!==typeof a||!(d=a["\u001e\u0192_meta"])||"object"!==typeof d)return null;var e=this._root.cache,p=this._recycleJSON,k=d.abs_path,u,x;if(!k)return p&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:void 0,_seed:b});if(0===k.length)return p&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:e,_path:k,_referenceContainer:!0,_seed:b});var n=d.deref_to,g=d.deref_from,
y=f(e,k),h="e";if(g){h=!1;d=-1;x=g.length;for(u=e;++d<x&&(u=u[g[d]],u&&!u.$type););if(n&&u&&"ref"===u.$type)for(h=!0,x=n.length,e=u.value,d=0;d<x;++d)if(e[d]!==n[d]){y=void 0;h=!1;break}}h?"e"===h&&(u=!0):u=!1;p&&(b={json:a},b.__proto__=c.prototype);return this._clone({_node:y,_path:k,_referenceContainer:u,_seed:b})}},function(b,d,a){d=a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},
function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",
function(a,b,d,t){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(t&&"optimized: [\n\t"+c(t)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){function c(a,b,c){p.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function e(a,
b,c,d,e,f){k.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=d;this.progressive=e;this.maxRetryCount=f}function r(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=n(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(w){throw w;}finally{--c.syncRefCount}}function t(a,b){try{throw b;}catch(q){k.prototype.onError.call(a,q)}}function l(a,b){for(var c,d,e,h=Object.keys(b),f=-1,g=h.length;++f<g;)e=h[f],"\u001e\u0192_meta"===e?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:
(d=b[e],c=a[e],c!==d&&(d&&"object"===typeof d?void 0===c?a[e]=d:l(c,d):void 0===c&&(a[e]=d)));return a}var p=a(56),k=a(14),u=a(54),x=a(2),n=a(35),g=a(53),y=a(93);b.exports=c;c.prototype=Object.create(p.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;
a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){void 0===a&&(a={},a.__proto__=x.prototype);return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=
function(a,b){void 0===a&&(a={},a.__proto__=x.prototype);return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),
this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,this.operation,this.progressive))};e.prototype=Object.create(k.prototype);e.prototype.operations={get:a(72),set:a(84),call:a(71),invalidate:a(82)};e.prototype.next=e.prototype.onNext=function(a){if(this.started){var b,c=a.type;a=a.args||a.paths;var d=this.data,e=this.model,h=this.errors,f,g=this.hasValue,k=this.operation,n=this.progressive,p=n&&d;p&&(d={},d.__proto__=x.prototype);if(a&&a.length){f=this.operations[c][k](e,
a,d,n||!e._source,-1===this.retryCount);if(f.error)return t(this,f.error);h&&f.errors&&h.push.apply(h,f.errors);if(b=f.fragments)a=f.args,this.fragments=b;this.relative=f.relative;this.requested=f.requested;this.missing=b=f.missing;this.hasValue=g||(g=f.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=a,p&&(this.data=l(d,this.data)));n&&g&&d&&(d.json||d.jsonGraph)&&r(d,k,e._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=
this.maxRetryCount||this.model._root.maxRetryCount};e.prototype.error=e.prototype.onError=function(a){if(a instanceof g)return k.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&r(b,this.operation,
this.model._root,this.destination),b=this.errors,c||a||b&&b.length?t(this,b.length&&b||a):k.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return t(this,new y(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=
this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;k.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&u(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function c(a){l.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var e=a(56),r=a(97),
t=a(14),l=a(15),p=a(57);b.exports=c;c.prototype=Object.create(l.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var h=new r("set",f,a._source,new p);e=h.subscribe(new t(e,h));f.add(h);h.data=d.jsonGraph;h.requested.push(c);h.optimized.push(b);h.connect();return e})};c.prototype.call=function(a,b,c,d){var f=this;return new e(function(b){var c=new r("call",f,a._source,new p);b=c.subscribe(new t(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=
function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,f=this.scheduler,h=-1,m=b.subscriptions,k=m.length,p=new l([],a);++h<k;){var w=m[h];if("get"===w.type&&((w=w.batch(d,e,d=[],e=[]))&&p.add(w.subscribe(new t(a,w))),!e.length))break}e.length&&(w=m[h]=(new r("get",b,c,f)).batch(d,e),p.add(w.subscribe(new t(a,w))),w.connect());return p}},function(b,d,a){function c(a,b,c,d){t.call(this,
[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){this.active=!0;var a,b=this.paths=x(this.tree=g(this.optimized.reduce(function(a,b){return n(b,a)},{})));try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=
a.subscribe(this)}catch(q){this.disposable={},t.prototype.onError.call(this,new l(q))}}function e(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,h,g=-1,k=b.length;a:for(;++g<k;)if(h=b[g],h.length>c){f=0;do if(h[f]!==a[f])continue a;while(++f<c);d[++e]=h.slice(c)}return d}var r=Array.isArray,t=a(98);a(14);a(15);var l=a(53),p=a(19),k=a(31),u=a(29),x=a(38),n=a(36),g=a(37),y=a(65);b.exports=c;c.prototype=Object.create(t.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=this.parent;
if(b){var c=a,d=0,f=0;if(r(a)){if(0>=(f=a.length))return;c=a[0]}!1===this.responded&&(this.responded=!0,b.remove(this));var h=this.boundPath;do{var g=c.jsonGraph,k=this.requested,l=b.modelRoot,n=c.invalidated,t=c.paths||this.paths;n&&n.length&&u({_root:l,_path:[]},n,!1);t&&t.length&&g&&"object"===typeof g&&(t=p({_root:l},[{paths:t,jsonGraph:g}],l.errorSelector,l.comparator,!1)[0])}while(++d<f&&(c=a[d]));this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:k[b]||e(h,t)})})}};c.prototype.error=
c.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:"error",value:{message:a.message}}:"error"===a.$type&&a||{$type:"error",value:a};var b=b.modelRoot,c=x(g(this.requested.reduce(function(a,b){return n(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&k({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);t.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===
this.responded)this.onNext({});t.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=
null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();t.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,d){if(this.active){for(var e=[],f=[],g=this.tree,h=-1,k=-1,l=-1,m=b.length,n=a.length-1;++h<m;){var p=b[h],r=p.length,q=g[r];q&&y(q,p,0,r)?(f[++l]=p,e[l]=a[h<n?
h:n]):(d[++k]=p,c[k]=a[h<n?h:n])}return~l?(this.requested.push(e),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),e=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};
c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d){b.exports=
function(a,b){for(var c=-1,d=-1,r=a.length,t=[];++d<r;)for(var l=b(a[d],d,a),p=-1,k=l.length;++p<k;)t[++c]=l[p];return t}},function(b,d,a){var c=Array.isArray,f=a(32);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(5);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=Array.isArray,
f=a(5);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d,a){b.exports=a(106)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(107),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(34),a(108)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;
"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d,a){b.exports=a(63)}])});
//# sourceMappingURL=falcor.all.min.js.map
