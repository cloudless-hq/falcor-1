/*!
 * 
 * Copyright 2015 Netflix, Inc
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=109)}([function(b,d,a){var c=a(61),f=a(34),e=a(62);b.exports=function(a,b){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?b:a<c()}},function(b,d,a){var c=a(56);b.exports=function(a,e,h){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,e.push(a),c(h,a));return a}},function(b,
d,a){(function(a){function c(a){a?(this["\u001e\u0192_meta"]=a["\u001e\u0192_meta"])||(this["\u001e\u0192_meta"]=a):this["\u001e\u0192_meta"]={}}function e(a){function e(){return e.fn.apply(this,arguments)}return(e.fn=a)&&e}function h(e){var c=typeof e,h=arguments.length;if(0===h)e=this;else if(c!==p){if(!e||c!==v)return e}else{if(1!==h)return e;e=this}return e===a?void 0:e}function y(){return q(h.apply(this,arguments),y)}function n(a){a=h.apply(this,arguments);var e,c,g=0,f=q(a,n,!0,!0);a&&(e=a["\u001e\u0192_meta"])&&
(g=e.version);f&&typeof f===v&&(c=f["\u001e\u0192_meta"])&&(c.version=g);return f}function q(a,e,h,g){if(!a||typeof a!==v)return a;var f,k,u,r,b,w;if(m(a))w=a;else{f=-1;r=Object.keys(a);k=r.length;w={};g&&(w.__proto__=c.prototype);if(h&&(u=a["\u001e\u0192_meta"])){var q=u.$code,y=u.abs_path,n=u.deref_to,p=u.deref_from;u={};q&&(u.$code=q);y&&(u.abs_path=y);n&&(u.deref_to=n);p&&(u.deref_from=p);w["\u001e\u0192_meta"]=u;g&&(g={},g.__proto__=w,w=g)}for(;++f<k;)"\u001e\u0192_meta"!==(b=r[f])&&(w[b]=e(a[b],
e,h))}return w}Object.defineProperties(c.prototype,"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,c){a[c]={writable:!0,enumerable:!1,value:e(Array.prototype[c])};return a},{toJSON:{enumerable:!1,value:y},toProps:{enumerable:!1,value:n},toString:{enumerable:!1,value:function(a){return JSON.stringify(q(h.call(this,this),q,!0===
a))}},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__path:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.abs_path||[]}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}}));var m=Array.isArray,v="object",p="string";b.exports=c}).call(d,a(35))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,
d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Object.create(Error.prototype);f.prototype.name=a;f.prototype.constructor=f;f.is=function(e){return e.name===a};return f}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){var c=a(32);b.exports=function(a){for(var e,h=Object.keys(a),
f={},b=-1,q=h.length;++b<q;)e=h[b],c(e)||(f[e]=a[e]);return f}},function(b,d,a){b.exports=function(a,f){var e=f["\u001e\u0192_refs_length"]||0;f["\u001e\u0192_ref"+e]=a;f["\u001e\u0192_refs_length"]=e+1;a["\u001e\u0192_ref_index"]=e;a["\u001e\u0192_context"]=f}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){function c(a,e){var h=a,f,b=0,q=e.length;if(0<q){do for(h=h[e[b]];h&&"ref"===(f=h.$type);)h=c(a,h.value);while(++b<q&&h&&!f)}return h}b.exports=c},
function(b,d,a){var c=a(30),f=a(51);b.exports=function(a,h,b,n){var e=a;do{var m=e["\u001e\u0192_parent"];0>=(e.$size=(e.$size||0)-h)&&null!=m?c(e,m,e["\u001e\u0192_key"],b):e["\u001e\u0192_version"]!==n&&f(e,n);e=m}while(e);return a}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,f){this.mesage="The KeySet "+JSON.stringify(f)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,d,a){var c=a(62);b.exports=function(a,e){if(e.$expires!==
c){var h=a["\u001e\u0192_head"];if(!h)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=e;else if(h!==e){var f=e["\u001e\u0192_prev"],b=e["\u001e\u0192_next"];b&&(b["\u001e\u0192_prev"]=f);f&&(f["\u001e\u0192_next"]=b);e["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=e;e["\u001e\u0192_next"]=h;h["\u001e\u0192_prev"]=e;e===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=f)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination=
{error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var e=this.destination;if(e)if(e.onNext)e.onNext(a);else e.next&&e.next(a)};c.prototype.error=c.prototype.onError=function(a){var e=!1,c=this.destination;c&&(c.onError?(e=!0,c.onError(a)):c.error&&(e=!0,c.error(a)),this.dispose());if(!e)throw a;};c.prototype.complete=c.prototype.onCompleted=
function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=
a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d,a){var c=a(0),f=a(1),e=a(13);b.exports=function(a,b,n,q,m,v,p,r,k,u,g,l,t,G,x,D,w,z,C,B,d,A,F){var h=C;if(b)if(c(a,x))a["\u001e\u0192_invalidated"]||f(a,G,t);else if(e(t,a),void 0===a.value)C=!1,h=z;else{if(v)return l&&(r[m]=null),d(a,b,m,v,p,r,u,g,l,w,z,B);return}if(z)v&&(p.hasValue=!0);else if(!h)return;return A(q,
m,p,r,k,l,u,g,C,z,n,D,w,F)}},function(b,d,a){var c=a(10);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){var c=a(30),f=a(21);b.exports=function h(a,b,q,m){if(c(a,b,q,m)){if(null==a.$type)for(var n in a)f(n)||h(a[n],a,n,m);return!0}return!1}},function(b,d,a){function c(a,e,h,u,g,l,b,m,q,n,w,y,C,B,d,A,F,H){var k=
{},t=e<a.length-1,r=a[e],p=v(r,k),x=y.index;do{w.depth=e;var z=f(h,u,g,l,b,m,p,t,!1,w,y,C,B,d,A,F,H);w[e]=p;w.index=e;var D=z[0],G=z[1],E=z[4];E[E.index++]=p;D&&(t?c(a,e+1,h,G,D,l,z[3],z[2],q,n,w,E,C,B,d,A,F,H):(q.push(w.slice(0,w.index+1)),n.push(E.slice(0,E.index))));p=v(r,k);if(k.done)break;y.index=x}while(1)}function f(a,c,k,u,g,l,b,v,x,D,w,z,C,B,d,A,F){for(x=k.$type;"ref"===x;){a:{c=a;g=u;w=D;var t=z,r=C,p=B,G=d,E=A,S=F,T,K,O=k.value;x=O.slice(0);if(h(k,S))y(k,r,p),k=void 0,T=c,K=g,x.index=O.length;
else{var W=0,Q=k,N=O.length-1;T=k=c;K=l=g;do{var U=O[W],M=W<N;x.index=W;K=f(c,T,k,g,K,l,U,M,!0,w,x,t,r,p,G,E,S);k=K[0];x=K[4];if(!k||"object"!==typeof k){x.index=W;w=K;break a}T=K[1];l=K[2];K=K[3]}while(W++<N);x.index=W;Q["\u001e\u0192_context"]!==k&&n(Q,k)}e[0]=k;e[1]=T;e[2]=l;e[3]=K;e[4]=x;w=e}k=w[0];if(!k||"object"!==typeof k)return w;c=w[1];l=w[2];g=w[3];w=w[4];x=k.$type}if(void 0===x){if(null==b){if(v)throw new m;k&&(b=k["\u001e\u0192_key"])}else c=k,g=l,k=c[b],l=g&&g[b];k=q(c,k,l,b,D,w,z,C,
B,d,A,F)}e[0]=k;e[1]=c;e[2]=l;e[3]=g;e[4]=w;return e}var e=Array(5),h=a(0),y=a(1),n=a(8),q=a(83),m=a(3),v=a(24);b.exports=function(a,f,h,u,g){a=a._root;for(var l=a.expired,k=a.version+1,b=a.cache,m=b["\u001e\u0192_version"],r=[],w=[],q=[],n=[],y=-1,v=f.length;++y<v;)for(var p=f[y],d=p.paths,p=p.jsonGraph,H=-1,J=d.length;++H<J;){var L=d[H];w.index=0;c(L,0,b,b,b,p,p,p,q,n,r,w,k,l,a,u,h,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=b["\u001e\u0192_version"];h=a.onChange;m!==f&&(a.version=
k,h&&h());return[q,n,m!==f]}},function(b,d,a){function c(a,e,g,l,b,m,r,q,w,n,y,p,d,A,F){var u;if(a&&"object"===typeof a&&!a.$type){u=[];var k=0;h(a)&&(u[k++]="length");for(var t in a)v(t)||(u[k++]=t)}else u=void 0;if(u&&u.length){k=0;t=u.length;var z=w.index;do{var x=u[k],C=a[x],B=!(!C||"object"!==typeof C)&&!C.$type;q.depth=e;var D=f(g,l,b,x,C,B,!1,q,w,n,y,p,d,A,F);q[e]=x;q.index=e;var G=D[0],E=D[1],D=D[2];D[D.index++]=x;G&&(B?c(C,e+1,g,E,G,m,r,q,D,n,y,p,d,A,F):(m.push(q.slice(0,q.index+1)),r.push(D.slice(0,
D.index))));if(++k>=t)break;w.index=z}while(1)}}function f(a,c,g,h,b,m,v,d,w,z,C,B,E,A,F){for(var l=g.$type;"ref"===l;){a:{c=b;w=a;var l=d,u,k=z,t=C,x=B,D=E,G=A,K=F,O,W=g.value;u=W.slice(0);if(y(g,K))n(g,t,x),g=void 0,O=w,u.index=W.length;else{var Q=g;g=g["\u001e\u0192_context"];if(null!=g)O=g["\u001e\u0192_parent"]||w,u.index=W.length;else{var N=0,U=W.length-1;u.index=N;O=g=w;do{O=f(w,O,g,W[N],c,N<U,!0,l,u,k,t,x,D,G,K);g=O[0];u=O[2];if(!g||"object"!==typeof g){u.index=N;w=O;break a}O=O[1]}while(N++<
U);u.index=N;Q["\u001e\u0192_context"]!==g&&q(Q,g)}}e[0]=g;e[1]=O;e[2]=u;w=e}g=w[0];if(!g||"object"!==typeof g)return w;c=w[1];w=w[2];l=g&&g.$type}if(void 0===l){if(null==h){if(m)throw new p;g&&(h=g["\u001e\u0192_key"])}else c=g,g=c[h];g=r(c,g,h,b,m,v,d,w,z,C,B,E,A,F)}e[0]=g;e[1]=c;e[2]=w;return e}var e=Array(3),h=Array.isArray,y=a(0),n=a(1),q=a(8),m=a(10),v=a(21),p=a(3),r=a(48);b.exports=function(a,f,g,h,b){var l=a._root,u=l.expired,k=l.version+1,w=a._path,t=l.cache,r=m(t,w);if(!r)return[[],[],!1];
var q=r["\u001e\u0192_parent"]||t;a=t["\u001e\u0192_version"];for(var n=[],y=[],p=[],v=w.length,d=-1,L=f.length;++d<L;){var P=f[d],R=w.slice(0);R.index=v;c(P.json,0,t,q,r,y,p,n,R,k,u,l,h,g,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;f=t["\u001e\u0192_version"];g=l.onChange;a!==f&&(l.version=k,g&&g());return[y,p,a!==f]}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(32)},function(b,d){function a(c,f,e){e=e||[];f=f||[];if(!c)return f;for(var h=[],b=c.$keys,n=b.length,q=-1;++q<
n;){var m=c[q],v=b[q];m&&"object"===typeof m?a(m,f,e.concat([v])):h.push(v)}1===h.length?f.push(e.concat(h)):1<h.length&&f.push(e.concat([h]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,d){function a(a,e){var c=e.from=a.from||0;a=e.to=a.to||"number"===typeof a.length&&e.from+a.length-1||0;e.rangeOffset=e.from;e.loaded=!0;c>a&&(e.empty=!0)}var c=Array.isArray;b.exports=function(f,e){if(void 0===e.isArray){e.done=
!1;var h=e.isObject=!(!f||"object"!==typeof f);e.isArray=h&&c(f);e.arrayOffset=0}if(e.isArray){var b;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=f.length){e.done=!0;break}h=f[e.arrayOffset];"object"===typeof h?(e.loaded||a(h,e),e.empty||(b=e.rangeOffset++)):(++e.arrayOffset,b=h)}while(void 0===b);return b}if(e.isObject){e.loaded||a(f,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=!0;return f}},function(b,d,a){b.exports=a(40)},function(b,
d,a){b.exports=a(43)},function(b,d){b.exports=function(a,c,f,e,h){var b=0,n;n=e.jsonGraph;n||(e.jsonGraph=n={});do{e=c[b++];if(b>=f){n=n[e]=!0!==h?a:n[e]||{};break}n=n[e]||(n[e]={})}while(1);return n}},function(b,d){var a=Array.isArray;b.exports=function(c,f,e,h,b,n,q,m,v,p,r,k,u,g){if(v||p){for(var l,t=-1,y=(n=b-f)&&Array(n)||void 0;++t<n;){l=c[t+f];var x;x=l;if("object"!==typeof x||null===x)x=!1;else if(a(x))x=0===x.length;else{var d=x.to,w=x.from||0;"number"!==typeof d&&(d=w+(x.length||0));x=w>=
d}if(x)return;y[t]=l}var z;c=null===l;l=v;var C;v?(x=b,d=h,C=e.requested||(e.requested=[])):(f=m,d=q,x=m+n-Number(c));do{if(n<b||!l){h=-1;t=f;for(z=Array(x);++h<t;)z[h]=d[h];for(t=-1;h<x;)z[h++]=y[++t]}if(l=!l){v&&(C[C.length]=z);break}C[C.length]=z||y;f=m;d=q;C=e.missing||(e.missing=[]);x=m+n-Number(c)}while(1);if(p)return g(r,z,f,x,k,u)}}},function(b,d,a){function c(a,g,h,b,m,n,v,w,y){var l={},u=g<a.length-1,t=a[g],d=k(t,l);do{e=f(h,b,m,d,u,!1,n,v,w,y);var x=e[0],z=e[1];x&&(u?c(a,g+1,h,z,x,n,v,
w,y):r(x,z,d,w)&&p(z,q(x),w,n));d=k(t,l)}while(!l.done)}function f(a,g,c,b,k,r,q,w,v,p){for(r=c.$type;"ref"===r;){a:{g=a;r=q;var u=w,l=v,t=p;if(h(c,t))y(c,u,l),e[0]=void 0,e[1]=g;else{n(l,c);var d=c,x=c.value,z;c=c["\u001e\u0192_context"];if(null!=c)z=c["\u001e\u0192_parent"]||g;else{var C=0,D=x.length-1;z=c=g;do{e=f(g,z,c,x[C],C<D,!0,r,u,l,t);c=e[0];if(!c&&"object"!==typeof c)break a;z=e[1]}while(C++<D);d["\u001e\u0192_context"]!==c&&m(d,c)}e[0]=c;e[1]=z}}c=e[0];if(!c&&"object"!==typeof c)return e;
g=e[1];r=c.$type}if(void 0!==r)return[c,g];if(null==b){if(k)throw Error("`null` is not allowed in branch key positions.");}else g=c,c=g[b];e[0]=c;e[1]=g;return e}var e=Array(2),h=a(0),y=a(1),n=a(13),q=a(9),m=a(8),v=a(17),p=a(11),r=a(18),k=a(24);b.exports=function(a,g,f){var h=a._root,b=h.expired,u=h.version++,l=h.cache,k=v(a);if(k){var m=k["\u001e\u0192_parent"]||l;a=l["\u001e\u0192_version"];for(var r=-1,q=g.length;++r<q;)c(g[r],0,l,m,k,u,b,h,f);e[0]=void 0;e[1]=void 0;g=l["\u001e\u0192_version"];
(h=h.onChange)&&a!==g&&h()}}},function(b,d,a){var c=a(56),f=a(86),e=a(87);b.exports=function(a,b,n,q){if(a&&"object"===typeof a){var h=a.$type;h&&("ref"===h&&e(a),c(q,a));f(a);b[n]=a["\u001e\u0192_parent"]=void 0;return!0}return!1}},function(b,d,a){function c(a,e,h,g,b,m,q,n,p,w,d,y,B,E,A,F){var l={},k=h<e.length-1,u=e[h],r=v(u,l),t=w.index;do{p.depth=h;p[h]=r;p.index=h;var z=f(g,b,m,r,a,k,!1,p,w,d,y,B,E,A,F);p[h]=r;p.index=h;var x=z[0],C=z[1],z=z[2];z[z.index++]=r;x&&(k?c(a,e,h+1,g,C,x,q,n,p,z,d,
y,B,E,A,F):(q.push(p.slice(0,p.index+1)),n.push(z.slice(0,z.index))));r=v(u,l);if(l.done)break;w.index=t}while(1)}function f(a,c,b,g,l,t,q,v,d,w,z,C,B,E,A){for(var k=b.$type;"ref"===k;){a:{c=l;d=a;var k=v,u,r=w,x=z,G=C,D=B,S=E,T=A,K,O=b.value;u=O.slice(0);if(h(b,T))y(b,x,G),b=void 0,K=d,u.index=O.length;else{var W=b;b=b["\u001e\u0192_context"];if(null!=b)K=b["\u001e\u0192_parent"]||d,u.index=O.length;else{var Q=0,N=O.length-1;K=b=d;do{var U=O[Q],M=Q<N;u.index=Q;K=f(d,K,b,U,c,M,!0,k,u,r,x,G,D,S,T);
b=K[0];u=K[2];if(!b||"object"!==typeof b){u.index=Q;d=K;break a}K=K[1]}while(Q++<N);u.index=Q;W["\u001e\u0192_context"]!==b&&n(W,b)}}e[0]=b;e[1]=K;e[2]=u;d=e}b=d[0];if(!b||"object"!==typeof b)return d;c=d[1];d=d[2];k=b.$type}if(!t||void 0===k){if(null==g){if(t)throw new m;b&&(g=b["\u001e\u0192_key"])}else c=b,b=c[g];b=p(c,b,g,l,t,q,v,d,w,z,C,B,E,A)}e[0]=b;e[1]=c;e[2]=d;return e}var e=Array(3),h=a(0),y=a(1),n=a(8),q=a(10),m=a(3),v=a(24),p=a(48);b.exports=function(a,b,h,g,f){var l=a._root,k=l.expired,
u=l.version+1,m=a._path,w=l.cache,r=q(w,m);if(!r)return[[],[],!1];var n=r["\u001e\u0192_parent"]||w;a=w["\u001e\u0192_version"];for(var d=[],p=[],v=[],y=m.length,H=-1,J=b.length;++H<J;){var L=b[H],P=L.path,L=L.value,R=m.slice(0);R.index=y;c(L,P,0,w,n,r,p,v,d,R,u,k,l,g,h,f)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=w["\u001e\u0192_version"];h=l.onChange;a!==b&&(l.version=u,h&&h());return[p,v,a!==b]}},function(b,d,a){d=a(94);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d,a){var c=a(5);
b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var c=a(39),f=a(37),e=a(38);b.exports=function(a){return c(e(f(a)))}},function(b,d,a){var c=Array.isArray,f=a(22);b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,c){var e=c.length;a[e]||(a[e]=[]);a[e].push(c);
return a},b||{})}},function(b,d,a){var c=a(67);b.exports=function(a,e){return Object.keys(a).reduce(function(e,b){e[b]=c(a[b],e[b]);return e},e||{})}},function(b,d,a){function c(a,b,f){var k,g=Object.create(null),l=""+m(""+b),r=[],q=-1,n=0,d=[],w=0,v,p,y,E,A,F;y=[];E=-1;if(b<f-1){for(A=e(a,y);++E<A;)k=y[E],v=c(a[k],b+1,f),p=v.code,g[p]?v=g[p]:(r[n++]=p,v=g[p]={keys:[],sets:v.sets}),l=""+m(l+k+p),h(k)&&v.keys.push(parseInt(k,10))||v.keys.push(k);for(;++q<n;)if(k=r[q],v=g[k],y=v.keys,A=y.length,0<A)for(a=
v.sets,b=-1,f=a.length,E=y[0];++b<f;){k=a[b];v=-1;p=k.length;F=Array(p+1);for(F[0]=1<A&&y||E;++v<p;)F[v+1]=k[v];d[w++]=F}}else for(A=e(a,y),1<A?d[w++]=[y]:d[w++]=y;++E<A;)l=""+m(l+y[E]);return{code:l,sets:d}}function f(a,e){return a-e}function e(a,e,c){var b=0;if(a===v)e[b++]=null;else{for(var g in a)e[b++]=g;1<b&&e.sort(c)}return b}function h(a){var e=a,c=typeof a;if("string"===c){e=a.length;if(0===e||17<e||!q.test(a))return!1;if(16>e)return!0;e=+a}else if("number"!==c)return!1;return 0===e%1&&9007199254740991>=
n(e)}var y=Array.isArray,n=Math.abs,q=/^(0|(\-?[1-9][0-9]*))$/,m=a(23),v=a(6);b.exports=function(a){var e,b=[],m=0,g;for(g in a){var l;if(l=h(g))l=e=a[g],l=null!==l&&"object"===typeof l;if(l){l=c(e,0,parseInt(g,10)).sets;for(var q=-1,n=l.length;++q<n;){for(var v=m++,d=l[q],w=-1,p=d.length;++w<p;){var C=d[w];if(y(C)){var B=d,E=w;for(var A=-1,F=C.length-1,H=0<F;++A<=F;){var J=C[A];if(!h(J)){H=!1;break}C[A]=parseInt(J,10)}!0===H&&(C.sort(f),A=C[0],H=C[F],H-A<=F&&(C={from:A,to:H}));B[E]=C}}b[v]=d}}}return b};
b.exports._isSafeNumber=h},function(b,d,a){var c=Array.isArray,f=a(75),e=a(74),h=a(17),y=a(92),n=a(66),q=a(64);b.exports=function(a,b,d,r,k){var m,g;r=a._path;var l=a._root,t=l.cache,v,p,D,w=r&&r.length||0;if(w){if((m=h(a))&&m.$type)return{error:new y(r,r)};D=[];for(var z=0;z<w;++z)D[z]=r[z];g=a._referenceContainer}else m=t,D=[];v=[];var z=!1,C=d&&d.json,B={data:d},E=a._boxed,A=l.expired;p=a._recycleJSON;var F=!!a._source,H=l.branchSelector,J=d&&a._materialized,L=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;
var P,R=0,S=b.length;if(0<S)if(p){z=!0;if(1<S||c(b[0]))b=[q(n(b,{}))];k=e(t,m,C,b[0],0,d,B,v,D,w,!1,g,l,A,k,H,E,J,F,L,a);C=k[0];k[0]=void 0;k[1]=void 0}else{do P=b[R],p=P.length,C=f(t,m,C,P,0,d,B,v,p,D,w,!1,g,l,A,k,H,E,J,F,L,a);while(++R<S)}k=B.requested;B.args=z&&b||k;if(k&&k.length&&(B.relative=B.args,w)){b=[];z=0;for(w=k.length;z<w;++z)b[z]=r.concat(k[z]);B.requested=b}B.hasValue&&(d.json=C);return B}},function(b,d,a){var c=Array(3),f=a(13),e=a(0),h=a(8),y=a(53);b.exports=function(a,b,m,d){f(m,
b);var q,n,k=0,u=a,g=b.value,l=g,t=g.length;do{if(0===k&&void 0!==(q=b["\u001e\u0192_context"]))u=q,k=t;else if(n=g[k++],void 0===(u=u[n]))break;if(k===t){n=u.$type;if(void 0!==n&&e(u,d))break;else{if(u===b)throw new y(g);u!==q&&h(b,u)}if("ref"===n)f(m,u),k=0,b=u,u=a,g=l=b.value,t=g.length;else break}else if(void 0!==u.$type)break}while(1);k<t&&void 0!==u&&(t=k);k=-1;for(g=Array(t);++k<t;)g[k]=l[k];c[0]=u;c[1]=g;c[2]=b;return c}},function(b,d,a){var c=a(7),f=a(73);b.exports=function(a,b,d,n,q,m,v,
p,r,k,u,g){if("error"===b&&!g)return f(a,d,q,m,r,k);q.hasValue=!0;return k?c(a):a.value}},function(b,d,a){var c=a(78),f=a(90);b.exports=function(a,b,d,n,q){var e,h;e=a._path;n=a._root;var p,r,k=e&&e.length||0;if(k)return{error:new f};r=[];h=e=n.cache;p=[];for(var u=a._boxed,g=n.expired,l=a._materialized,t=!!a._source,y=a._treatErrorsAsValues,x={data:d},D=-1,w=b.length;++D<w;){var z=b[D];a=z.length;c(h,e,z,0,d,x,p,a,r,k,!1,n,g,q,u,l,t,y)}x.args=x.relative=x.requested;return x}},function(b,d,a){function c(a,
b,d,p,r,k){if(d===p)return k?e(n):void 0;var m,g,l=d+1,t,q=-1,v=0;g=b[d];a&&"object"===typeof a?((m=a["\u001e\u0192_meta"])||(a["\u001e\u0192_meta"]=m={}),m.version=0,m.abs_path=b.slice(0,d)):(a={},a.__proto__=h.prototype,a["\u001e\u0192_meta"]=m={},m.version=0,m.abs_path=b.slice(0,d),r&&(a=r(a)));a:do{if("object"!==typeof g)d=g,m=void 0,g=!1;else if(f(g)){if(void 0!==t)throw new y(b,t);q=0;t=g;v=g.length;if(0===v)break a;g=t[q];continue a}else{m=g.to;d=g.from||0;"number"!==typeof m&&(m=d+(g.length||
0)-1);if(0>m-d)break a;g=!0}do a[d]=c(a[d],b,l,p,r,k);while(g&&++d<=m);if(++q===v)break a;g=t[q]}while(1);return a}var f=Array.isArray,e=a(7),h=a(2);a(3);var y=a(12),n=a(6);b.exports=c},function(b,d,a){var c=Array.isArray,f=a(104),e=a(59),h=a(60);b.exports=function(a){for(var b=[],d=-1,m=a.length,v,p,r,k;++d<m;)r=a[d],c(r)?(r={path:r},k="PathValues"):f(r)?k="PathValues":h(r)?k="JSONGraphs":e(r)&&(k="PathMaps"),p!==k&&(p=k,b.push(v={arguments:[],inputType:k})),v.arguments.push(r);return b}},function(b,
d,a){b.exports=function(a,b,e,h,d){a["\u001e\u0192_key"]=e;a["\u001e\u0192_parent"]=b;void 0!==h&&(a["\u001e\u0192_version"]=h);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=d.slice(0,d.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,e,g,b,h,d,m,q,w,y){if(a&&"object"===typeof a&&!a.$type)for(var l in a)if(!v(l)){var k=a[l],t=!(!k||"object"!==typeof k)&&!k.$type,u=f(g,b,h,l,k,t,!1,d,m,q,w,y),z=u[0],u=u[1];z&&(t?c(k,e+1,g,u,z,d,m,q,w,y):r(z,u,l,q)&&p(u,n(z),q,d))}}function f(a,
c,g,b,d,m,n,r,w,v,p,B){for(n=g.$type;"ref"===n;){a:{c=d;n=a;var l=r,k=w,t=v,u=p,z=B;if(e(g,z))h(g,k,t),c=[void 0,n];else{y(t,g);var C=g,x=g.value,G;g=g["\u001e\u0192_context"];if(null!=g)G=g["\u001e\u0192_parent"]||n;else{var D=0,T=x.length-1;G=g=n;do{G=f(n,G,g,x[D],c,D<T,!0,l,k,t,u,z);g=G[0];if(!g||"object"!==typeof g){c=G;break a}G=G[1]}while(D++<T);C["\u001e\u0192_context"]!==g&&q(C,g)}c=[g,G]}}g=c[0];if(!g&&"object"!==typeof g)return c;c=c[1];n=g&&g.$type}if(void 0!==n)return[g,c];if(null==b){if(m)throw Error("`null` is not allowed in branch key positions.");
}else c=g,g=c[b];return[g,c]}var e=a(0),h=a(1),y=a(13),n=a(9),q=a(8),m=a(17),v=a(21),p=a(11),r=a(18);b.exports=function(a,e,g){var b=a._root,h=b.expired,f=b.version++,k=b._comparator,d=b.cache,w=m(a);if(w){var n=w["\u001e\u0192_parent"]||d;a=d["\u001e\u0192_version"];for(var q=-1,r=e.length;++q<r;)c(e[q].json,0,d,n,w,f,h,b,k,g);e=d["\u001e\u0192_version"];(b=b.onChange)&&a!==e&&b()}}},function(b,d,a){var c=a(34),f=a(103),e=a(9),h=a(33),y=a(52),n=a(0),q=a(1),m=a(46),v=a(50),p=a(49),r=a(11);a(18);b.exports=
function(a,b,g,l,d,G,x,D,w,z,C,B,E,A){A=f(b,G);if(d||G){if(A&&n(b,!0)&&(q(b,z,C),A=b.$expires===c?A:"expired"),A&&"ref"!==A||!b||"object"!==typeof b)b=v(b,{},a,g,C,w),b=m(b,a,g,w,D)}else d=f(l),(A||d)&&(B?3>B.length?B(b,l):B(b,l,D.slice(0,D.index)):!1!==h(l)<h(b))||(E&&"error"===d&&(l=E(p(x,g),l)),x=e(b)-e(l=y(l,d,d?l.value:l)),b=v(b,l,a,g,C,w),a=r(a,x,C,w),b=m(b,a,g,w,D));return b}},function(b,d){b.exports=function(a,c){a=a.slice(0,a.depth);a[a.length]=c;return a}},function(b,d,a){var c=a(85),f=
a(18),e=a(51);b.exports=function(a,b,d,q,m,v){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,q,m),e(b,v));return d[q]=b}},function(b,d,a){b.exports=function(a,b){var e=[a],c=0;do{var f=e[c];if(f&&f["\u001e\u0192_version"]!==b){f["\u001e\u0192_version"]=b;e[c++]=f["\u001e\u0192_parent"];for(var d=-1,q=f["\u001e\u0192_refs_length"]||0;++d<q;)e[c++]=f["\u001e\u0192_ref"+d]}}while(-1<--c);return a}},function(b,d,a){var c=Array.isArray,f=a(61),e=a(101),h=a(9),y=a(102),n=a(34);b.exports=function(a,
b,d){var m=0;if(b){var r=a["\u001e\u0192_wrapped_value"];a=e(a);m=h(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=r||!1}else a={$type:"atom",value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==d)m=51;else if(null==m||0>=m)switch(typeof d){case "object":m=c(d)?50+d.length:51;break;case "string":m=50+d.length;break;default:m=51}b=y(a);"number"===typeof b&&b<n&&(a.$expires=f()+-1*b);a.$size=
m;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){var c=a(30),f=a(11);b.exports=function(a,b,d,n,q,m){var e=q;"number"!==typeof e&&(e=.75);q="number"===typeof m;var e=n*e,h,r,k;for(r=b.pop();r;)k=r.$size||0,d-=k,!0===q?f(r,k,a,m):(h=r["\u001e\u0192_parent"])&&
c(r,h,r["\u001e\u0192_key"],a),r=b.pop();if(d>=n){for(r=b=a["\u001e\u0192_tail"];d>=e&&r;)b=b["\u001e\u0192_prev"],k=r.$size||0,d-=k,!0===q&&f(r,k,a,m),r=b;a["\u001e\u0192_tail"]=a["\u001e\u0192_prev"]=r;null==r?a["\u001e\u0192_head"]=a["\u001e\u0192_next"]=void 0:r["\u001e\u0192_next"]=void 0}}},function(b,d,a){b.exports=function(a,b){var e=b["\u001e\u0192_prev"],c=b["\u001e\u0192_next"];c&&(c["\u001e\u0192_prev"]=e);e&&(e["\u001e\u0192_next"]=c);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;
b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=c);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=e)}},function(b,d,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(14),h=a(15),d=a(105).default;b.exports=f;f.prototype[d]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.subscribe=function(a,b,c){return new h([this.operator.call(this.source,a instanceof e?a:
new e(a,b,c))])};f.prototype.then=function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],f=!1;e.subscribe({next:function(a){c[c.length]=a},error:function(a){f=!0;b(a)},complete:function(){!f&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(d,a(35))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&
"json"in a}},function(b,d,a){var c=Array.isArray,f=a(5);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(68);d=a(2);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=
a.$keys,d=-1,q=e.length;++d<q;){var m=e[d];if(null===m)b=""+f(""+b+"null");else{"object"===typeof m&&(m="["+m.from+".."+(m.from+m.length-1)+"]");var v=c(a[d]),b=void 0===v?""+f(""+b+m):""+f(""+b+m+v.$code)}}a.$code=b;return a}}var f=a(23);b.exports=c},function(b,d,a){function c(a,b,d,q){if(d===q)return!0;var h,n=-1,p=0,r=d+1,k,u,g;h=b[d];if(null===h)return a===e;a:do{if("object"!==typeof h)d=h,u=void 0,k=!1;else if(f(h)){if(void 0!==g)break a;n=0;g=h;p=h.length;if(0===p)break a;h=g[n];continue a}else{u=
h.to;d=h.from||0;"number"!==typeof u&&(u=d+(h.length||0)-1);if(0>u-d)break a;k=!0}do if(r===q){if(null!==a[d])return!1}else if(h=a[d],null===h||void 0===h||!1===c(h,b,r,q))return!1;while(k&&++d<=u);if(++n===p)break a;h=g[n]}while(1);return!0}var f=Array.isArray,e=a(6);b.exports=c},function(b,d,a){function c(a,b){return a.reduce(function(a,b){return e(b)?f(a,b,0,b.length):e(b.$keys)?c(y(b),a):a},b||{})}function f(a,b,c,d){if(c!==d){a=a||{};var q=a.$keys||(a.$keys=[]),r=a.$keysMap||(a.$keysMap={}),
k,m=-1,g=0,l,t=c+1,n;k=b[c];if(null===k)return h;a:do{if("object"!==typeof k)l=k,"undefined"===typeof(c=r[l])&&(c=q.length),q[c]=l,r[l]=c,k=f(a[c],b,t,d),void 0!==k&&(a[c]=k);else if(e(k)){if(void 0!==n)break a;m=0;n=k;g=k.length;if(0===g)break a;k=n[m];continue a}else{c=k.to;l=k.from||0;"number"!==typeof c&&(c=l+(k.length||0)-1);if(0>c-l)break a;k={from:l,length:c-l+1};l="["+l+".."+c+"]";"undefined"===typeof(c=r[l])&&(c=q.length);q[c]=k;r[l]=c;k=f(a[c],b,t,d);void 0!==k&&(a[c]=k)}if(++m===g)break a;
k=n[m]}while(1);return a}}var e=Array.isArray,h={$keys:[null],$keysMap:{"null":0}},y=a(22);b.exports=c},function(b,d,a){function c(a,b,d,q,m){if(d===q)return!0;a=a||{};var h,n=-1,r=0,k,u=d+1,g,l,t;h=b[d];if(null===h)return e;a:do{if("object"!==typeof h)d=h,l=void 0,g=!1;else if(f(h)){if(void 0!==t)break a;n=0;t=h;r=h.length;if(0===r)break a;h=t[n];continue a}else{l=h.to;d=h.from||0;"number"!==typeof l&&(l=d+(h.length||0)-1);if(0>l-d)break a;g=!0}do u===q?a[d]=m:(h=a[d],(k=c(h,b,u,q,m))?h||(a[d]=k):
a[d]=m);while(g&&++d<=l);if(++n===r)break a;h=t[n]}while(1);return a}var f=Array.isArray,e=a(6);b.exports=function(a,b){return a.reduce(function(a,b){return c(a,b,0,b.length,null)},b||{})}},function(b,d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new q;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=
!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={},this._seed.__proto__=h.prototype);this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(95),e=a(70),h=a(2),y=a(69),n=a(99),q=a(58),m=a(36),v=a(55),p=a(9),r=a(5),k=a(59),u=a(10),g=
a(60),l=a(20),t=a(19),G=a(25),x=a(80),D=a(26);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){var a=this._seed;a||(a={},a.__proto__=h.prototype);for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("get",this,c))._toJSON(a,[])};c.prototype.set=function(){var a={};a.__proto__=h.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("set",this,c))._toJSON(a,[])};c.prototype.preload=function(){for(var a=arguments.length,
b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("get",this,b))._toJSON(null,[])};c.prototype.call=function(){var a={};a.__proto__=h.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("call",this,c))._toJSON(a,[])};c.prototype.invalidate=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("invalidate",this,b))._toJSON(null,null).then()};c.prototype.deref=a(89);c.prototype._hasValidParentReference=a(88);c.prototype.getValue=
function(a){return(new f("get",this,[a]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return(new f("set",this,[b]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=
a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root,c=b.cache;if(a!==c){var e={_path:[],_boxed:!1,_root:b,_materialized:!1,_treatErrorsAsValues:!1};b.cache=this._node={};"undefined"!==typeof c&&(v(b,b.expired,p(c),0),this._recycleJSON&&(this._seed={},this._seed.__proto__=h.prototype));var d;g(a)?d=t(e,[a])[0]:k(a)?d=l(e,[a])[0]:r(a)&&(d=l(e,[{json:a}])[0]);d&&G(e,d,null,!1,!1)}else"undefined"===
typeof c&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return x(this._root.cache);var b={};b.__proto__=h.prototype;b=D({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},a,b).data;b.paths=m(a);return b};c.prototype.getVersion=function(a){a=a||[];if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&
(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var g=a[e];"delete"===g?delete b[e]:"_path"===e?(b[e]=g,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=g}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new n(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new n(1);return this._clone({_scheduler:b})};c.prototype.unbatch=
function(){return this._clone({_scheduler:new q})};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new y(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=
function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=u(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(81);c.prototype._getPathValuesAsPathMap=G;c.prototype._getPathValuesAsJSONG=
D;c.prototype._setPathValues=a(31);c.prototype._setPathMaps=a(20);c.prototype._setJSONGs=a(19);c.prototype._setCache=a(20);c.prototype._invalidatePathValues=a(29);c.prototype._invalidatePathMaps=a(47)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,
[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.version=-1;this.syncRefCount=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(96),e=a(33);c.comparator=c.prototype.comparator=function(a,b){var c=a&&a.$type,d=b&&b.$type;return c?d?!0===e(b)<e(a)?!0:!(c!==d||a.value!==b.value||a.$expires!==
b.$expires):a.value===b:d?!1:a===b};b.exports=c},function(b,d,a){var c=a(25),f=a(26);b.exports={json:function(a,b,d,f){var e=!1;if(!b)return{missing:!1,hasValue:!1};var h=[].concat(b[1]||[]),n=[].concat(b[2]||[]),p=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);f&&p&&p.length&&(e=c(a,p,d,f,!0).hasValue);return{data:d,missing:!0,hasValue:e,fragments:[b,h,n,p]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var h=[].concat(b[1]||[]),n=[].concat(b[2]||[]),p=[].concat(b[3]||
[]);b=(a._path||[]).concat(b[0]||[]);d&&p&&p.length&&(e=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},p,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,h,n,p]}}}},function(b,d,a){b.exports={json:a(40),jsonGraph:a(43)}},function(b,d,a){var c=a(7);b.exports=function(a,b,d,y,n,q){var e=-1;b+=!!n;n=Array(b);for(a=q?c(a):a.value;++e<b;)n[e]=y[e];(d.errors||(d.errors=[])).push({path:n,value:a})}},function(b,d,a){function c(a,
b,d,m,u,D,w,z,C,B,E,A,F,H,J,L,P,R,S,T,K){var g,l;if(void 0===b||void 0!==(g=b.$type)||void 0===m)return e[1]=S&&void 0===b,e[0]=q(b,g,d,m,u,D,w,z,u,C,B,E,F,H,J,L,P,R,S,T,h,f,p),e;var t,x,G;g="";var M,I,V,Y=m.$keys,ba=u+1,Z,X,aa,fa,ca,ga=B+1,ha,ia;K&&A&&(ia=A.value,ha=A["\u001e\u0192_abs_path"]);if(!d||"object"!==typeof d)d=void 0;else if(t=d["\u001e\u0192_meta"]){G=b["\u001e\u0192_abs_path"];x=t.abs_path;L||d instanceof y||(d.__proto__={},d.__proto__["\u001e\u0192_meta"]=t,d.__proto__.__proto__=y.prototype);
if(G!==x){t.$code="__incomplete__";t.abs_path=G;t.version=b["\u001e\u0192_version"];t.deref_to=ia;t.deref_from=ha;if(x=t.keys)for(I in t.keys=Object.create(null),x)x[I]&&delete d[I];e[0]=d;e[1]=!0;return e}if(t.version===b["\u001e\u0192_version"]&&t.$code===m.$code)return w.hasValue=!0,e[0]=d,e[1]=!1,e;x=t.keys;t.abs_path=G;t.version=b["\u001e\u0192_version"];t.deref_to=ia;t.deref_from=ha}G=Object.create(null);var ja=-1,la=Y.length,ea,ka,da=!1;a:for(;++ja<la;)if(E=Y[ja],ea=m[ja],null===E){if(void 0!==
ea)throw new r;g=""+k(""+g+"null")}else{if("object"!==typeof E)I=E,Z=void 0,V=!1,ka=I;else{Z=E.to;I=E.from||0;"number"!==typeof Z&&(Z=I+(E.length||0)-1);if(0>Z-I)break a;V=!0;ka="["+I+".."+Z+"]"}do{E=!1;X=d&&d[I];ca=C;fa=ga;aa=A;M=b[I];z[u]=I;C[B]=I;if(void 0===ea){if(e=c(a,M,X,ea,ba,D,w,z,ca,fa,E,aa,F,H,J,L,P,R,S,T,K),X=e[0],da=da||e[1],void 0===X&&!R){da=!0;d&&d.hasOwnProperty(I)&&delete d[I];continue}}else if(M&&"ref"===M.$type&&!n(M,J)&&(l=v(a,M,F,J),M=l[0],E=!0,ca=l[1],aa=l[2],fa=ca.length,l[0]=
l[1]=l[2]=void 0),e=c(a,M,X,ea,ba,D,w,z,ca,fa,E,aa,F,H,J,L,P,R,S,T,K),X=e[0],da=da||e[1],void 0===X){da=!0;d&&d.hasOwnProperty(I)&&delete d[I];continue}void 0===t&&(t={},t.version=b["\u001e\u0192_version"],t.abs_path=b["\u001e\u0192_abs_path"],t.deref_to=ia,t.deref_from=ha,d={},d["\u001e\u0192_meta"]=t,d.__proto__=y.prototype,L?d=L(d):(E=d,d={},d.__proto__=E));G[I]=!0;x&&I in x&&(x[I]=!1);d[I]=X}while(V&&++I<=Z);da||(g=""+k(""+g+ka+(ea&&ea.$code||"")))}da&&(g="__incomplete__");if(t&&(t.$code=g,t.keys=
G,x))for(I in x)x[I]&&delete d[I];e[0]=d;e[1]=da;return e}function f(a,b,c,e,d,h,k,r,q,n,p,v,y,H){if(n)return H(p,a,b,b,v,y,c,e,k,r,h,q,f);a=a?u(a):[[]];var g=e.slice(0,d);return a.forEach(function(a){d=b+a.length;return m(g.concat(a),b,c,e,d,h,k,r,q,!1,p,v,y,H)})}var e=Array(2),h=a(42),y=a(2),n=a(0),q=a(16),m=a(28),v=a(41),p=a(79),r=a(3);a(12);var k=a(23),u=a(22);b.exports=c},function(b,d,a){function c(a,b,g,d,t,G,x,D,w,z,C,B,E,A,F,H,J,L,P,R,S,T){var l,k;if(void 0===b||(l=b.$type)||t===w)return n(b,
l,g,d,t,G,x,D,w,z,C,B,A,F,H,J,L,P,R,S,e,h,m);var u,Q,N,U=t+1,M,I,V,Y,ba=-1,Z=0,X,aa,fa=C+1,ca,ga;B=d[t];if(null===B){if(U<w)throw new p;return g}T&&E&&(ga=E.value,ca=E["\u001e\u0192_abs_path"]);if(!g||"object"!==typeof g)g=void 0;else if(u=g["\u001e\u0192_meta"])u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],u.deref_to=ga,u.deref_from=ca;a:do{if("object"!==typeof B)l=B,M=void 0,N=!1;else if(f(B)){if(void 0!==I)throw new r(d,I);ba=0;I=B;Z=B.length;if(0===Z)break a;B=I[ba];
continue a}else{M=B.to;l=B.from||0;"number"!==typeof M&&(M=l+(B.length||0)-1);if(0>M-l)break a;N=!0}do{B=!1;V=g&&g[l];aa=z;X=fa;Y=E;Q=b[l];D[t]=l;z[C]=l;if(U===w){if(V=c(a,Q,V,d,U,G,x,D,w,aa,X,B,Y,A,F,H,J,L,P,R,S,T),void 0===V&&!P)continue}else if(Q&&"ref"===Q.$type&&!q(Q,H)&&(k=v(a,Q,A,H),Q=k[0],B=!0,aa=k[1],Y=k[2],X=aa.length,k[0]=k[1]=k[2]=void 0),void 0===(V=c(a,Q,V,d,U,G,x,D,w,aa,X,B,Y,A,F,H,J,L,P,R,S,T)))continue;void 0===u&&(u={},u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],
u.deref_to=ga,u.deref_from=ca,g={},g["\u001e\u0192_meta"]=u,g.__proto__=y.prototype,J&&(g=J(g)));g[l]=V}while(N&&++l<=M);if(++ba===Z)break a;B=I[ba]}while(1);return g}var f=Array.isArray,e=a(42),h=a(28),y=a(2),n=a(16),q=a(0),m=a(44),v=a(41),p=a(3),r=a(12);a(6);b.exports=c},function(b,d,a){var c=Array(2),f=a(7),e=a(27),h=a(13),y=a(0),n=a(8),q=a(53);b.exports=function(a,b,d,r,k){h(d,b);var m,g,l=0,t=a,p=b.value,x=p,v=p.length;do{if(0===l&&void 0!==(m=b["\u001e\u0192_context"]))t=m,l=v;else if(g=p[l++],
void 0===(t=t[g]))break;if(l===v){g=t.$type;if(void 0!==g&&y(t,k))break;else{if(t===b)throw new q(p);t!==m&&n(b,t)}if("ref"===g)h(d,t),r&&e(f(t),p,v,r),l=0,b=t,t=a,p=x=b.value,v=p.length;else break}else if(void 0!==t.$type)break}while(1);l<v&&void 0!==t&&(v=l);l=-1;for(p=Array(v);++l<v;)p[l]=x[l];c[0]=t;c[1]=p;return c}},function(b,d,a){var c=a(7),f=a(27);b.exports=function(a,b,d,n,q,m,v,p,r,k,u){u=a.value;if(k||"ref"===b||"error"===b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof u)u=c(a);
q.hasValue=!0;f(u,v,p,n);(n.paths||(n.paths=[])).push(m.slice(0,d+!!r));return u}},function(b,d,a){function c(a,b,g,d,p,w,z,C,B,E,A,F,H,J,L,P,R,S){var l,t;if(void 0===b||(l=b.$type)||d===C)return m(b,l,p,g,d,p,w,z,C,B,E,A,F,H,J,void 0,L,P,R,S,y,f,v);var x,G,D=d+1,N,U,M=-1,I=0,V,Y,ba=E+1;A=g[d];if(null===A){if(D<C)throw new k;}else{a:do{if("object"!==typeof A)l=A,N=void 0,G=!1;else if(e(A)){if(void 0!==U)throw new u(g,U);M=0;U=A;I=A.length;if(0===I)break a;A=U[M];continue a}else{N=A.to;l=A.from||0;
"number"!==typeof N&&(N=l+(A.length||0)-1);if(0>N-l)break a;G=!0}do A=!1,Y=B,V=ba,x=b[l],z[d]=l,B[E]=l,x&&D<C&&"ref"===x.$type&&!q(x,J)&&(p&&n(h(x),B,V,p),t=r(a,x,F,p,J),x=t[0],A=!0,Y=t[1],V=Y.length,t[0]=t[1]=void 0),c(a,x,g,D,p,w,z,C,Y,V,A,F,H,J,L,P,R,S);while(G&&++l<=N);if(++M===I)break a;A=U[M]}while(1)}}function f(a,b,c,e,d,f,k,r,m,q,u,v,y,J){var l,t;u&&q&&((u.paths||(u.paths=[])).push((t=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),l=n(t&&h(g)||void 0,k,r,u,!t));return p(a,
b,c,e,d,f,k,r,m,!t&&q,l,v,!0,J)}var e=Array.isArray,h=a(7),y=a(77),n=a(27),q=a(0),m=a(16),v=a(44),p=a(28),r=a(76),k=a(3),u=a(12),g=a(6);b.exports=c},function(b,d,a){function c(a,b,d,p,r,k,u,g,l,t,G,x,D){if(void 0===b)return e(void 0,void 0,a,b,d,void 0,u,g,d,l,t,G,void 0,void 0,!1,r,k,!1,x,!1,void 0,D,void 0),k?f(n):void 0;var m,q,v,B,E=b.$keys,A=d+1,F,H=t+1;a&&"object"===typeof a?((p=a["\u001e\u0192_meta"])?m=p.keys:(a["\u001e\u0192_meta"]=p={},p.version=0),p.abs_path=l.slice(0,t)):(a={},a.__proto__=
h.prototype,a["\u001e\u0192_meta"]=p={},p.version=0,p.abs_path=l.slice(0,t),r&&(a=r(a)));q={};var J,L=-1,P=E.length;a:for(;++L<P;)if(B=E[L],J=b[L],null===B){if(void 0!==J)throw new y;}else{if("object"!==typeof B)v=B,F=void 0,B=!1;else{F=B.to;v=B.from||0;"number"!==typeof F&&(F=v+(B.length||0)-1);if(0>F-v)break a;B=!0}do g[d]=v,l[t]=v,q[v]=!0,m&&v in m&&(m[v]=!1),a[v]=c(a[v],J,A,A,r,k,u,g,l,H,G,x,D);while(B&&++v<=F)}p.$code="__incomplete__";p.keys=q;if(m)for(v in m)m[v]&&delete a[v];return a}var f=
a(7),e=a(16),h=a(2),y=a(3);a(12);var n=a(6);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(e){var d=a[e],h=b[e];h||(h=b[e]={});if(d.$type){h=!d["\u001e\u0192_wrapped_value"];if(d.value&&"object"===typeof d.value||h){var h={},n=Object.keys(d),p,r,k;r=0;for(k=n.length;r<k;r++)p=n[r],"$type"!==p&&f(p)||(h[p]=d[p]);d=h}else d=d.value;b[e]=d}else c(d,h,e)})}var f=a(21);b.exports=function(a){var b=
{};c(a,b);return b}},function(b,d,a){var c=a(17);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){function c(a,c,d,q,m){c=e(c);d=-1;for(q=c.length;++d<q;){var h=c[d],p=h.inputType,h=h.arguments;0<h.length&&("PathValues"===p&&(h=h.map(f)),b.exports["invalidate"+p](a,h,m))}return{}}function f(a){return a.path||a.paths}var e=a(45);b.exports={json:c,jsonGraph:c,invalidatePathMaps:a(47),invalidatePathValues:a(29)}},function(b,d,a){var c=a(52),f=a(0),
e=a(46),h=a(1),y=a(50),n=a(9),q=a(49),m=a(33),v=a(11);b.exports=function(a,b,d,u,g,l,t,G,x,D,w,z){var k,p,r,A,F,H;if(b===d){if(void 0===d)return d;if(null===d)return b=c(d,void 0,d),a=v(a,-b.$size,x,t),b=e(b,a,u,void 0,l);if((r=!(!b||"object"!==typeof b))&&void 0===(k=b.$type))return void 0===b["\u001e\u0192_parent"]&&e(b,a,u,t,l),b}else if(r=!(!b||"object"!==typeof b))k=b.$type;if("ref"!==k){if(A=!(!d||"object"!==typeof d))p=d.$type;if(r&&!k&&(null==d||A&&!p))return b}else{if(null==d){if(f(b,z)){h(b,
G,x);return}return b}if(A=!(!d||"object"!==typeof d))if(p=d.$type,"ref"===p)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(F=b.$timestamp,H=d.$timestamp,!f(b,z)&&!f(d,z)&&H<F)return}if(k&&A&&!p)return e(y(b,d,a,u,x,t),a,u,void 0,l);p||!A?("error"===p&&w&&(d=w(q(g,u),d)),p&&b===d?b["\u001e\u0192_parent"]||(b=c(b,k,b.value),a=v(a,-b.$size,x,t),b=e(b,a,u,t,l)):(g=!0,k||p?r&&f(b,z)||(g=D?!(3>D.length?D(b,d):D(b,d,l.slice(0,l.index))):!1===m(d)<m(b)):g=!0,g&&(D=n(b)-n(d=c(d,p,p?d.value:d)),
b=y(b,d,a,u,x,t),a=v(a,D,x,t),b=e(b,a,u,t,l))),f(b,!0)&&h(b,G,x)):null==b&&(b=e(d,a,u,void 0,l));return b}},function(b,d,a){function c(a,c,e){var d=!1,h=-1,k=c.length,m=[],g=[],l=a._root,t=l.errorSelector;e=e&&!a._source;for(l=a._source?null:l.comparator;++h<k;){var n=c[h],q=n.inputType,n=n.arguments;if(0<n.length){var v=(0,b.exports["set"+q])(a,n,t,l,e),d=d||v[2];g.push.apply(g,v[1]);"PathValues"===q?m.push.apply(m,n.map(f)):"JSONGraphs"===q?m.push.apply(m,y(n,f)):m.push.apply(m,v[0])}}return{changed:d,
requested:m,optimized:g}}function f(a){return a.path||a.paths}var e=a(25),h=a(26),y=a(100),n=a(45);b.exports={json:function(a,b,d,f,r){var k,m,g,l,t,p,q=n(b);k=c(a,q,r);if((b=k.requested).length){if(!(g=k.changed)||f)m=e(a,b,d,f,r);g&&(a=h({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},k.optimized,{},f,r),t=a.data,l=t.paths,p=a.requested)}return{args:q,data:d,missing:l,relative:b,fragments:t,requested:p,error:m&&m.error,errors:m&&m.errors,hasValue:m&&
m.hasValue}},jsonGraph:function(a,b,e,d,f){var k,m,g,l,t,p=n(b);b=c(a,p,f);(m=b.requested).length&&(d||b.changed)&&(k=h({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},b.optimized,e,d,f),l=k.data,g=l.paths,t=k.requested);return{args:p,data:e,missing:g,relative:m,fragments:l,requested:t,error:k&&k.error,hasValue:k&&k.hasValue}},setPathMaps:a(20),setPathValues:a(31),setJSONGraphs:a(19)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||
0,d=b["\u001e\u0192_refs_length"]||0,f=-1;++f<c;){var n=a["\u001e\u0192_ref"+f];void 0!==n&&(n["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(d+f)]=n,a["\u001e\u0192_ref"+f]=void 0)}b["\u001e\u0192_refs_length"]=c+d;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var d=a["\u001e\u0192_ref"+b];null!=d&&(d["\u001e\u0192_context"]=d["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=
void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,d=(b["\u001e\u0192_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=d;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&
a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(2),f=a(10);a(91);b.exports=function(a){var b,d;if(!a||"object"!==typeof a||!(d=a["\u001e\u0192_meta"])||"object"!==typeof d)return null;var e=this._root.cache,q=this._recycleJSON,m=d.abs_path,v,p;if(!m)return q&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:void 0,_seed:b});if(0===m.length)return q&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:e,_path:m,_referenceContainer:!0,_seed:b});var r=d.deref_to,k=d.deref_from,
u=f(e,m),g="e";if(k){g=!1;d=-1;p=k.length;for(v=e;++d<p&&(v=v[k[d]],v&&!v.$type););if(r&&v&&"ref"===v.$type)for(g=!0,p=r.length,e=v.value,d=0;d<p;++d)if(e[d]!==r[d]){u=void 0;g=!1;break}}g?"e"===g&&(v=!0):v=!1;q&&(b={json:a},b.__proto__=c.prototype);return this._clone({_seed:b,_node:u,_path:m,_referenceContainer:v})}},function(b,d,a){d=a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},
function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",
function(a,b,d,y){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(y&&"optimized: [\n\t"+c(y)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){function c(a,b,c){q.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function e(a,
b,c,d,e,f){m.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=d;this.progressive=e;this.maxRetryCount=f}function h(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=r(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(x){throw x;}finally{--c.syncRefCount}}function y(a,b){try{throw b;}catch(t){m.prototype.onError.call(a,t)}}function n(a,b){for(var c,d,e,g=Object.keys(b),f=-1,l=g.length;++f<l;)e=g[f],"\u001e\u0192_meta"===e?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:
(d=b[e],c=a[e],c!==d&&(d&&"object"===typeof d?void 0===c?a[e]=d:n(c,d):void 0===c&&(a[e]=d)));return a}var q=a(57),m=a(14),v=a(55),p=a(2),r=a(36),k=a(54),u=a(93);b.exports=c;c.prototype=Object.create(q.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;
a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){void 0===a&&(a={},a.__proto__=p.prototype);return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=
function(a,b){void 0===a&&(a={},a.__proto__=p.prototype);return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),
this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,this.operation,this.progressive))};e.prototype=Object.create(m.prototype);e.prototype.operations={get:a(72),set:a(84),call:a(71),invalidate:a(82)};e.prototype.next=e.prototype.onNext=function(a){if(this.started){var b,c=a.type;a=a.args||a.paths;var d=this.data,e=this.model,g=this.errors,f,k=this.hasValue,m=this.operation,r=this.progressive,q=r&&d;q&&(d={},d.__proto__=p.prototype);if(a&&a.length){f=this.operations[c][m](e,
a,d,r||!e._source,-1===this.retryCount);if(f.error)return y(this,f.error);g&&f.errors&&g.push.apply(g,f.errors);if(b=f.fragments)a=f.args,this.fragments=b;this.relative=f.relative;this.requested=f.requested;this.missing=b=f.missing;this.hasValue=k||(k=f.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=a,q&&(this.data=n(d,this.data)));r&&k&&d&&(d.json||d.jsonGraph)&&h(d,m,e._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=
this.maxRetryCount||this.model._root.maxRetryCount};e.prototype.error=e.prototype.onError=function(a){if(a instanceof k)return m.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&h(b,this.operation,
this.model._root,this.destination),b=this.errors,c||a||b&&b.length?y(this,b.length&&b||a):m.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return y(this,new u(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=
this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;m.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&v(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function c(a){n.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var e=a(57),h=a(97),
y=a(14),n=a(15),q=a(58);b.exports=c;c.prototype=Object.create(n.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=new h("set",f,a._source,new q);e=g.subscribe(new y(e,g));f.add(g);g.data=d.jsonGraph;g.requested.push(c);g.optimized.push(b);g.connect();return e})};c.prototype.call=function(a,b,c,d){var f=this;return new e(function(b){var c=new h("call",f,a._source,new q);b=c.subscribe(new y(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=
function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,f=this.scheduler,g=-1,l=b.subscriptions,m=l.length,q=new n([],a);++g<m;){var x=l[g];if("get"===x.type&&((x=x.batch(d,e,d=[],e=[]))&&q.add(x.subscribe(new y(a,x))),!e.length))break}e.length&&(x=l[g]=(new h("get",b,c,f)).batch(d,e),q.add(x.subscribe(new y(a,x))),x.connect());return q}},function(b,d,a){function c(a,b,c,d){y.call(this,
[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){this.active=!0;var a,b=this.paths=p(this.tree=k(this.optimized.reduce(function(a,b){return r(b,a)},{})));try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=
a.subscribe(this)}catch(t){this.disposable={},y.prototype.onError.call(this,new n(t))}}function e(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,g,h=-1,k=b.length;a:for(;++h<k;)if(g=b[h],g.length>c){f=0;do if(g[f]!==a[f])continue a;while(++f<c);d[++e]=g.slice(c)}return d}var h=Array.isArray,y=a(98);a(14);a(15);var n=a(54),q=a(19),m=a(31),v=a(29),p=a(39),r=a(37),k=a(38),u=a(65);b.exports=c;c.prototype=Object.create(y.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=this.parent;
if(b){var c=a,d=0,f=0;if(h(a)){if(0>=(f=a.length))return;c=a[0]}!1===this.responded&&(this.responded=!0,b.remove(this));var g=this.boundPath;do{var k=c.jsonGraph,m=this.requested,n=b.modelRoot,p=c.invalidated,r=c.paths||this.paths;p&&p.length&&v({_root:n,_path:[]},p,!1);r&&r.length&&k&&"object"===typeof k&&(r=q({_root:n},[{paths:r,jsonGraph:k}],n.errorSelector,n.comparator,!1)[0])}while(++d<f&&(c=a[d]));this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:m[b]||e(g,r)})})}};c.prototype.error=
c.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:"error",value:{message:a.message}}:"error"===a.$type&&a||{$type:"error",value:a};var b=b.modelRoot,c=p(k(this.requested.reduce(function(a,b){return r(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&m({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);y.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===
this.responded)this.onNext({});y.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=
null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();y.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,d){if(this.active){for(var e=[],f=[],g=this.tree,h=-1,k=-1,l=-1,m=b.length,n=a.length-1;++h<m;){var p=b[h],q=p.length,r=g[q];r&&u(r,p,0,q)?(f[++l]=p,e[l]=a[h<n?
h:n]):(d[++k]=p,c[k]=a[h<n?h:n])}return~l?(this.requested.push(e),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),e=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};
c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d){b.exports=
function(a,b){for(var c=-1,d=-1,h=a.length,y=[];++d<h;)for(var n=b(a[d],d,a),q=-1,m=n.length;++q<m;)y[++c]=n[q];return y}},function(b,d,a){var c=Array.isArray,f=a(32);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(5);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=Array.isArray,
f=a(5);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d,a){b.exports=a(106)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(107),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(35),a(108)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;
"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d,a){b.exports=a(63)}])});
//# sourceMappingURL=falcor.all.min.js.map
