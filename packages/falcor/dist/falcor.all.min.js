(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=111)}([function(b,d){b.exports="ref"},function(b,d,a){var c=a(61),f=a(35),e=a(62);b.exports=function(a,k){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?k:a<c()}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){var c=a(55);b.exports=function(a,e,
n){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,e.push(a),c(n,a));return a}},function(b,d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Error();f.prototype.name=a;f.prototype.constructor=f;f.is=function(e){return e.name===a};return f}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){b.exports=function(a,f){var e=f["\u001e\u0192_refs_length"]||
0;f["\u001e\u0192_ref"+e]=a;f["\u001e\u0192_refs_length"]=e+1;a["\u001e\u0192_ref_index"]=e;a["\u001e\u0192_context"]=f}},function(b,d,a){(function(a){function c(a){this["\u001e\u0192_meta"]=a||{}}function e(a){function e(){return e.fn.apply(this,arguments)}return(e.fn=a)&&e}function n(e){var c=typeof e,f=arguments.length;if(0===f)e=this;else if(c!==z){if(!e||c!==d)return e}else{if(1!==f)return e;e=this}return e===a?void 0:e}function k(){return p(n.apply(this,arguments),k)}function g(a){a=n.apply(this,
arguments);var e,c,l=0,h=p(a,g,!0,!0);a&&(e=a["\u001e\u0192_meta"])&&(l=e.version);h&&typeof h===d&&(c=h["\u001e\u0192_meta"])&&(c.version=l);return h}function p(a,e,f,l){if(!a||typeof a!==d)return a;var h,n,q,y,v,k;if(m(a))k=a;else{k={};h=-1;y=Object.keys(a);n=y.length;if(f&&(q=a["\u001e\u0192_meta"])){var b=q.$code,g=q.abs_path,u=q.deref_to,p=q.deref_from;q={};b&&(q.$code=b);g&&(q.abs_path=g);u&&(q.deref_to=u);p&&(q.deref_from=p);l?k.__proto__=new c(q):k["\u001e\u0192_meta"]=q}for(;++h<n;)"\u001e\u0192_meta"!==
(v=y[h])&&(k[v]=e(a[v],e,f))}return k}c.prototype.toJSON=k;c.prototype.toProps=g;c.prototype.toString=function(a){return JSON.stringify(p(n.call(this,this),p,!0===a))};c.prototype.constructor=c;Object.defineProperties(c.prototype,"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,c){a[c]={writable:!0,enumerable:!1,value:e(Array.prototype[c])};
return a},{$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}}));var m=Array.isArray,d="object",z="string";b.exports=c}).call(d,a(36))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){var c=
a(34);b.exports=function(a){for(var e,f=Object.keys(a),k={},b=-1,p=f.length;++b<p;)e=f[b],c(e)||(k[e]=a[e]);return k}},function(b,d,a){function c(a,n){var e=a,b,p=0,m=n.length;if(0<m){do for(e=e[n[p]];e&&(b=e.$type)===f;)e=c(a,e.value);while(++p<m&&e&&!b)}return e}var f=a(0);b.exports=c},function(b,d,a){var c=a(30),f=a(50);b.exports=function(a,n,b,g){var e=a;do{var m=e["\u001e\u0192_parent"];0>=(e.$size=(e.$size||0)-n)&&null!=m?c(e,m,e["\u001e\u0192_key"],b):e["\u001e\u0192_version"]!==g&&f(e,g);
e=m}while(e);return a}},function(b,d,a){var c=a(62);b.exports=function(a,e){if(e.$expires!==c){var f=a["\u001e\u0192_head"];if(!f)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=e;else if(f!==e){var b=e["\u001e\u0192_prev"],g=e["\u001e\u0192_next"];g&&(g["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=g);e["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=e;e["\u001e\u0192_next"]=f;f["\u001e\u0192_prev"]=e;e===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,d,a){function c(a,c,
b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination={error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var e=this.destination;if(e)if(e.onNext)e.onNext(a);else e.next&&e.next(a)};c.prototype.error=c.prototype.onError=function(a){var e=!1,c=this.destination;c&&(c.onError?(e=
!0,c.onError(a)):c.error&&(e=!0,c.error(a)),this.dispose());if(!e)throw a;};c.prototype.complete=c.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||
this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d){b.exports="error"},function(b,d,a){var c=a(11);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=
null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){function c(a,e,y,l,h,b,q,n,v,m,k,g,p,d,t,E,G,L){var r={},w=e<a.length-1,u=a[e],x=z(u,r),C=g.index;do{k.depth=e;var B=f(y,l,h,b,q,n,x,w,!1,k,g,p,d,t,E,G,L);k[e]=x;k.index=e;var A=B[0],F=B[1],D=B[4];D[D.index++]=x;A&&(w?c(a,e+1,y,F,A,b,B[3],B[2],v,m,k,D,p,d,t,E,G,L):(v.push(k.slice(0,k.index+1)),m.push(D.slice(0,D.index))));x=z(u,r);if(r.done)break;g.index=C}while(1)}function f(a,c,b,l,h,r,q,
w,v,C,B,d,z,H,D,E,G){for(v=b.$type;v===n;){a:{c=a;h=l;B=C;var y=d,u=z,x=H,A=D,F=E,X=G,Q,I,J=b.value;v=J.slice(0);if(k(b,X))g(b,u,x),b=void 0,Q=c,I=h,v.index=J.length;else{var R=0,O=b,P=J.length-1;Q=b=c;I=r=h;do{var U=J[R],ba=R<P;v.index=R;I=f(c,Q,b,h,I,r,U,ba,!0,B,v,y,u,x,A,F,X);b=I[0];v=I[4];if(!b||"object"!==typeof b){v.index=R;B=I;break a}Q=I[1];r=I[2];I=I[3]}while(R++<P);v.index=R;O["\u001e\u0192_context"]!==b&&p(O,b)}e[0]=b;e[1]=Q;e[2]=r;e[3]=I;e[4]=v;B=e}b=B[0];if(!b||"object"!==typeof b)return B;
c=B[1];r=B[2];h=B[3];B=B[4];v=b.$type}if(void 0===v){if(null==q){if(w)throw new t;b&&(q=b["\u001e\u0192_key"])}else c=b,h=r,b=c[q],r=h&&h[q];b=m(c,b,r,q,C,B,d,z,H,D,E,G)}e[0]=b;e[1]=c;e[2]=r;e[3]=h;e[4]=B;return e}var e=Array(5),n=a(0),k=a(1),g=a(3),p=a(6),m=a(83),t=a(8),z=a(23);b.exports=function(a,f,b,l,h){a=a._root;for(var n=a.expired,q=a.version,m=a.cache,v=m["\u001e\u0192_version"],y=[],k=[],g=[],p=[],u=-1,x=f.length;++u<x;)for(var d=f[u],t=d.paths,d=d.jsonGraph,z=-1,N=t.length;++z<N;){var K=
t[z];k.index=0;c(K,0,m,m,m,d,d,d,g,p,y,k,q,n,a,l,b,h)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=a.onChange;v!==m["\u001e\u0192_version"]&&(a.version=q+1,f&&f());return[g,p]}},function(b,d,a){function c(a,e,h,b,q,m,v,k,g,p,u,x,d,t,G){var l;if(a&&"object"===typeof a&&!a.$type){l=[];var r=0;n(a)&&(l[r++]="length");for(var y in a)z(y)||(l[r++]=y)}else l=void 0;if(l&&l.length){r=0;y=l.length;var w=g.index;do{var C=l[r],B=a[C],A=!(!B||"object"!==typeof B)&&!B.$type;k.depth=e;var F=f(h,
b,q,C,B,A,!1,k,g,p,u,x,d,t,G);k[e]=C;k.index=e;var E=F[0],D=F[1],F=F[2];F[F.index++]=C;E&&(A?c(B,e+1,h,D,E,m,v,k,F,p,u,x,d,t,G):(m.push(k.slice(0,k.index+1)),v.push(F.slice(0,F.index))));if(++r>=y)break;g.index=w}while(1)}}function f(a,c,h,b,q,n,v,C,d,t,z,H,D,E,G){for(var l=h.$type;l===k;){a:{c=q;d=a;var l=C,r,y=t,w=z,B=H,A=D,F=E,I=G,J,R=h.value;r=R.slice(0);if(g(h,I))p(h,w,B),h=void 0,J=d,r.index=R.length;else{var O=h;h=h["\u001e\u0192_context"];if(null!=h)J=h["\u001e\u0192_parent"]||d,r.index=R.length;
else{var P=0,U=R.length-1;r.index=P;J=h=d;do{J=f(d,J,h,R[P],c,P<U,!0,l,r,y,w,B,A,F,I);h=J[0];r=J[2];if(!h||"object"!==typeof h){r.index=P;d=J;break a}J=J[1]}while(P++<U);r.index=P;O["\u001e\u0192_context"]!==h&&m(O,h)}}e[0]=h;e[1]=J;e[2]=r;d=e}h=d[0];if(!h||"object"!==typeof h)return d;c=d[1];d=d[2];l=h&&h.$type}if(void 0===l){if(null==b){if(n)throw new u;h&&(b=h["\u001e\u0192_key"])}else c=h,h=c[b];h=x(c,h,b,q,n,v,C,d,t,z,H,D,E,G)}e[0]=h;e[1]=c;e[2]=d;return e}var e=Array(3),n=Array.isArray,k=a(0),
g=a(1),p=a(3),m=a(6),t=a(11),z=a(20),u=a(8),x=a(47);b.exports=function(a,l,h,f,b){var n=a._root,m=n.expired,q=n.version,r=a._path;a=n.cache;for(var k=t(a,r),g=k["\u001e\u0192_parent"]||a,y=a["\u001e\u0192_version"],p=[],d=[],u=[],x=r.length,z=-1,K=l.length;++z<K;){var M=l[z],S=r.slice(0);S.index=x;c(M.json,0,a,g,k,d,u,p,S,q,m,n,f,h,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;l=n.onChange;y!==a["\u001e\u0192_version"]&&(n.version=q+1,l&&l());return[d,u]}},function(b,d,a){b.exports=function(a){return a&&
"$"===a[0]||c(a)};var c=a(34)},function(b,d){function a(c,f,e){e=e||[];f=f||[];for(var b=[],k=c.$keys,g=k.length,p=-1;++p<g;){var m=c[p],d=k[p];m?a(m,f,e.concat([d])):b.push(d)}1===b.length?f.push(e.concat(b)):1<b.length&&f.push(e.concat([b]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,d){function a(a,e){var c=e.from=a.from||0;a=e.to=a.to||"number"===typeof a.length&&e.from+a.length-1||0;e.rangeOffset=e.from;
e.loaded=!0;c>a&&(e.empty=!0)}var c=Array.isArray;b.exports=function(f,e){if(void 0===e.isArray){e.done=!1;var b=e.isObject=!(!f||"object"!==typeof f);e.isArray=b&&c(f);e.arrayOffset=0}if(e.isArray){var k;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=f.length){e.done=!0;break}b=f[e.arrayOffset];"object"===typeof b?(e.loaded||a(b,e),e.empty||(k=e.rangeOffset++)):(++e.arrayOffset,k=b)}while(void 0===k);return k}if(e.isObject){e.loaded||a(f,e);if(e.rangeOffset>e.to){e.done=
!0;return}return e.rangeOffset++}e.done=!0;return f}},function(b,d,a){b.exports=a(41)},function(b,d,a){b.exports=a(44)},function(b,d){b.exports=function(a,c,f,e,b){var n=0,g;g=e.jsonGraph;g||(e.jsonGraph=g={});do{e=c[n++];if(n>=f){g=g[e]=!0!==b?a:g[e]||{};break}g=g[e]||(g[e]={})}while(1);return g}},function(b,d,a){var c=Array.isArray,f=a(40).pathToTree,e=a(5);b.exports=function(a,b,g,p,m,d,z,u,x,y,l,h){if(x||l){for(var r,q=-1,n=(d=m-b)&&Array(d)||void 0;++q<d;){r=a[q+b];var v;v=r;if("object"!==typeof v||
null===v)v=!1;else if(c(v))v=0===v.length;else{var k=v.to,B=v.from||0;"number"!==typeof k&&(k=B+(v.length||0));v=B>=k}if(v)return;n[q]=r}var t;a=null===r;r=x;var F;x?(v=m,k=p,F=g.requested||(g.requested=[])):(b=u,k=z,v=u+d-Number(a));do{if(d<m||!r){p=-1;q=b;for(t=Array(v);++p<q;)t[p]=k[p];for(q=-1;p<v;)t[p++]=n[++q]}if(r=!r){x&&(F[F.length]=t);break}F[F.length]=t||n;b=u;k=z;F=g.missing||(g.missing=[]);v=u+d-Number(a)}while(1);if(l)return 0===d?e:f(y,t,b,v,e,h)}}},function(b,d,a){var c=a(1),f=a(3),
e=a(13);b.exports=function(a,b,g,d,m,t,z,u,x,y,l,h,r,q,w,v,C,B,A,F,H,D){var n=B;if(!a||!b)return B&&(n=!0,t&&(z.hasValue=!0)),D(d,m,z,u,x,h,y,l,A,g,n,v);if(c(a,w))return a["\u001e\u0192_invalidated"]||f(a,q,r),D(d,m,z,u,x,h,y,l,A,g,n,v);e(r,a);if(t)return h&&(u[m]=null),H(a,b,m,t,z,u,y,l,h,C,B,F)}},function(b,d,a){function c(a,h,b,m,n,v,k,g,d){var l={},q=h<a.length-1,r=a[h],p=u(r,l);do{e=f(b,m,n,p,q,!1,v,k,g,d);var w=e[0],C=e[1];w&&(q?c(a,h+1,b,C,w,v,k,g,d):y(w,C,p,g)&&x(C,t(w),g,v));p=u(r,l)}while(!l.done)}
function f(a,c,b,q,k,v,d,y,u,x){for(v=b.$type;v===n;){a:{c=a;v=d;var h=y,l=u,r=x;if(g(b,r))p(b,h,l),e[0]=void 0,e[1]=c;else{m(l,b);var w=b,C=b.value,t;b=b["\u001e\u0192_context"];if(null!=b)t=b["\u001e\u0192_parent"]||c;else{var B=0,A=C.length-1;t=b=c;do{e=f(c,t,b,C[B],B<A,!0,v,h,l,r);b=e[0];if(!b&&"object"!==typeof b)break a;t=e[1]}while(B++<A);w["\u001e\u0192_context"]!==b&&z(w,b)}e[0]=b;e[1]=t}}b=e[0];if(!b&&"object"!==typeof b)return e;c=e[1];v=b.$type}if(void 0!==v)return[b,c];if(null==q){if(k)throw Error("`null` is not allowed in branch key positions.");
}else c=b,b=c[q];e[0]=b;e[1]=c;return e}var e=Array(2),n=a(0),k=a(17),g=a(1),p=a(3),m=a(13),t=a(9),z=a(6),u=a(23),x=a(12),y=a(31);b.exports=function(a,h,b){var l=a._root,f=l.expired,m=l.version++,n=l.cache,g=k(a),r=g["\u001e\u0192_parent"]||n;a=n["\u001e\u0192_version"];for(var d=-1,y=h.length;++d<y;)c(h[d],0,n,r,g,m,f,l,b);e[0]=void 0;e[1]=void 0;h=n["\u001e\u0192_version"];(l=l.onChange)&&a!==h&&l()}},function(b,d,a){var c=a(0),f=a(55),e=a(86),n=a(87);b.exports=function(a,b,d,m){if(a&&"object"===
typeof a){var g=a.$type;g&&(g===c&&n(a),f(m,a));e(a);b[d]=a["\u001e\u0192_parent"]=void 0;return!0}return!1}},function(b,d,a){var c=a(30),f=a(20);b.exports=function n(a,b,d,m){if(c(a,b,d,m)){if(null==a.$type)for(var g in a)f(g)||n(a[g],a,g,m);return!0}return!1}},function(b,d,a){function c(a,e,b,h,m,n,g,v,d,k,p,u,t,D,E,G){var l={},q=b<e.length-1,r=e[b],y=z(r,l),x=k.index;do{d.depth=b;d[b]=y;d.index=b;var w=f(h,m,n,y,a,q,!1,d,k,p,u,t,D,E,G);d[b]=y;d.index=b;var C=w[0],B=w[1],w=w[2];w[w.index++]=y;C&&
(q?c(a,e,b+1,h,B,C,g,v,d,w,p,u,t,D,E,G):(g.push(d.slice(0,d.index+1)),v.push(w.slice(0,w.index))));y=z(r,l);if(l.done)break;k.index=x}while(1)}function f(a,c,b,h,m,q,d,v,C,z,A,F,H,D,E){for(var l=b.$type;l===n;){a:{c=m;C=a;var l=v,r,y=z,w=A,x=F,B=H,X=D,Q=E,I,J=b.value;r=J.slice(0);if(k(b,Q))g(b,w,x),b=void 0,I=C,r.index=J.length;else{var R=b;b=b["\u001e\u0192_context"];if(null!=b)I=b["\u001e\u0192_parent"]||C,r.index=J.length;else{var O=0,P=J.length-1;I=b=C;do{var U=J[O],ba=O<P;r.index=O;I=f(C,I,b,
U,c,ba,!0,l,r,y,w,x,B,X,Q);b=I[0];r=I[2];if(!b||"object"!==typeof b){r.index=O;C=I;break a}I=I[1]}while(O++<P);r.index=O;R["\u001e\u0192_context"]!==b&&p(R,b)}}e[0]=b;e[1]=I;e[2]=r;C=e}b=C[0];if(!b||"object"!==typeof b)return C;c=C[1];C=C[2];l=b.$type}if(!q||void 0===l){if(null==h){if(q)throw new t;b&&(h=b["\u001e\u0192_key"])}else c=b,b=c[h];b=u(c,b,h,m,q,d,v,C,z,A,F,H,D,E)}e[0]=b;e[1]=c;e[2]=C;return e}var e=Array(3),n=a(0),k=a(1),g=a(3),p=a(6),m=a(11),t=a(8),z=a(23),u=a(47);b.exports=function(a,
b,l,h,f){var n=a._root,g=n.expired,v=n.version,d=a._path;a=n.cache;for(var r=m(a,d),k=r["\u001e\u0192_parent"]||a,y=a["\u001e\u0192_version"],p=[],u=[],x=[],z=d.length,t=-1,N=b.length;++t<N;){var K=b[t],M=K.path,K=K.value,S=d.slice(0);S.index=z;c(K,M,0,a,k,r,u,x,p,S,v,g,n,h,l,f)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=n.onChange;y!==a["\u001e\u0192_version"]&&(n.version=v+1,b&&b());return[u,x]}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,b){this.mesage="The KeySet "+JSON.stringify(b)+
" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,d,a){d=a(94);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var c=Array.isArray,f=a(21);b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,e){var c=
e.length;a[c]||(a[c]=[]);a[c].push(e);return a},b||{})}},function(b,d,a){var c=a(40);b.exports=function(a,e){return Object.keys(a).reduce(function(e,b){e[b]=c(a[b],e[b]);return e},e||{})}},function(b,d,a){function c(a,b,f){var d,l=Object.create(null),h=""+m(""+b),g=[],q=-1,k=0,v=[],p=0,u,x,t,z,D,E;t=[];z=-1;if(b<f-1){for(D=e(a,t);++z<D;)d=t[z],u=c(a[d],b+1,f),x=u.code,l[x]?u=l[x]:(g[k++]=x,u=l[x]={keys:[],sets:u.sets}),h=""+m(h+d+x),n(d)&&u.keys.push(parseInt(d,10))||u.keys.push(d);for(;++q<k;)if(d=
g[q],u=l[d],t=u.keys,D=t.length,0<D)for(a=u.sets,b=-1,f=a.length,z=t[0];++b<f;){d=a[b];u=-1;x=d.length;E=Array(x+1);for(E[0]=1<D&&t||z;++u<x;)E[u+1]=d[u];v[p++]=E}}else for(D=e(a,t),1<D?v[p++]=[t]:v[p++]=t;++z<D;)h=""+m(h+t[z]);return{code:h,sets:v}}function f(a,e){return a-e}function e(a,e,c){var b=0;if(a===t)e[b++]=null;else{for(var l in a)e[b++]=l;1<b&&e.sort(c)}return b}function n(a){var e=a,b=typeof a;if("string"===b){e=a.length;if(0===e||17<e||!p.test(a))return!1;if(16>e)return!0;e=+a}else if("number"!==
b)return!1;return 0===e%1&&9007199254740991>=g(e)}var k=Array.isArray,g=Math.abs,p=/^(0|(\-?[1-9][0-9]*))$/,m=a(22),t=a(5);b.exports=function(a){var e,b=[],m=0,l;for(l in a){var h;if(h=n(l))h=e=a[l],h=null!==h&&"object"===typeof h;if(h){h=c(e,0,parseInt(l,10)).sets;for(var d=-1,g=h.length;++d<g;){for(var p=m++,v=h[d],t=-1,z=v.length;++t<z;){var A=v[t];if(k(A)){var F=v,H=t;for(var D=-1,E=A.length-1,G=0<E;++D<=E;){var L=A[D];if(!n(L)){G=!1;break}A[D]=parseInt(L,10)}!0===G&&(A.sort(f),D=A[0],G=A[E],
G-D<=E&&(A={from:D,to:G}));F[H]=A}}b[p]=v}}}return b};b.exports._isSafeNumber=n},function(b,d,a){function c(a,b,d,p,m,t){if(d===p)return!0;var n,g,k=-1,y=0,l,h=d+1,r,q,w;g=b[d];if(null===g)return e;n=g;a=a?a:t?t(b,d,a):{};a:do{if("object"!==typeof g)t=g,q=void 0,r=!1;else if(f(g)){if(void 0!==w)break a;k=0;w=g;y=g.length;if(0===y)break a;g=w[k];continue a}else{q=g.to;t=g.from||0;"number"!==typeof q&&(q=t+(g.length||0)-1);if(0>q-t)break a;r=!0}do h===p?a[t]=m:(g=a[b[d]=t],(l=c(g,b,h,p,m))?g||(a[t]=
l):a[t]=m);while(r&&++t<=q);if(++k===y)break a;g=w[k]}while(1);b[d]=n;return a}var f=Array.isArray,e=a(5);b.exports=function(a,e){return a.reduce(function(a,e){return c(a,e,0,e.length,null)},e||{})};b.exports.pathToTree=c},function(b,d,a){var c=a(75),f=a(74),e=a(17),n=a(92),k=a(67),g=a(65);b.exports=function(a,b,d,z,u){var m,p;z=a._path;var l=a._root,h=l.cache,r,q,w,v=z&&z.length||0;if(v){if((m=e(a))&&m.$type)return{error:new n(z,z)};w=[];for(p=0;p<v;++p)w[p]=z[p];p=a._referenceContainer}else m=h,
w=[];r=[];var t=!1,B=d&&d.json,A={data:d},F=a._boxed,H=l.expired;q=a._recycleJSON;var D=a._materialized,E=!!a._source,G=l.branchSelector,L=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var N,K=0,M=b.length;if(0<M)if(q){M=1;t=!0;b[0].$keys||(b=[g(k(b,{}))]);do N=b[K],q=f(h,m,B,N,0,d,A,r,w,v,!1,p,l,H,u,G,F,D,E,L,a),B=q[0],q[0]=void 0,q[1]=void 0;while(++K<M)}else{do N=b[K],q=N.length,B=c(h,m,B,N,0,d,A,r,q,w,v,!1,p,l,H,u,G,F,D,E,L,a);while(++K<M)}u=A.requested;A.args=t&&b||u;if(u&&u.length&&(A.relative=
A.args,v)){b=[];p=0;for(v=u.length;p<v;++p)b[p]=z.concat(u[p]);A.requested=b}A.hasValue&&(d.json=B);return A}},function(b,d,a){var c=Array(3),f=a(0),e=a(13),n=a(1),k=a(6),g=a(52);b.exports=function(a,b,d,z){e(d,b);var m,p,y=0,l=a,h=b.value,r=h,q=h.length;do{if(0===y&&void 0!==(m=b["\u001e\u0192_context"]))l=m,y=q;else if(p=h[y++],void 0===(l=l[p]))break;if(y===q){p=l.$type;if(void 0!==p&&n(l,z))break;else{if(l===b)throw new g(h);l!==m&&k(b,l)}if(p===f)e(d,l),y=0,b=l,l=a,h=r=b.value,q=h.length;else break}else if(void 0!==
l.$type)break}while(1);y<q&&void 0!==l&&(q=y);y=-1;for(h=Array(q);++y<q;)h[y]=r[y];c[0]=l;c[1]=h;c[2]=b;return c}},function(b,d,a){var c=a(10),f=a(73),e=a(16),n=a(5);b.exports=function(a,b,d,m,t,z,u,x,y,l,h,r){if(e===b&&!r)return f(a,d,t,z,y,l);d=a&&a.value;if(b&&void 0===d){if(h)return t.hasValue=!0,n}else return t.hasValue=!0,l?c(a):d}},function(b,d,a){var c=a(78),f=a(90);b.exports=function(a,b,d,g,p){var e,n;e=a._path;g=a._root;var k,u,x=e&&e.length||0;if(x)return{error:new f};u=[];n=e=g.cache;
k=[];for(var y=a._boxed,l=g.expired,h=a._materialized,r=!!a._source,q=a._treatErrorsAsValues,w={data:d},v=-1,C=b.length;++v<C;){var B=b[v];a=B.length;c(n,e,B,0,d,w,k,a,u,x,!1,g,l,p,y,h,r,q)}w.args=w.relative=w.requested;return w}},function(b,d,a){b.exports=function(a,b,e,d,k){a["\u001e\u0192_key"]=e;a["\u001e\u0192_parent"]=b;void 0!==d&&(a["\u001e\u0192_version"]=d);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=k.slice(0,k.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,
b,e,d,g,m,v,n,k,t){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!z(h)){var l=a[h],q=!(!l||"object"!==typeof l)&&!l.$type,r=f(e,d,g,h,l,q,!1,m,v,n,k,t),w=r[0],r=r[1];w&&(q?c(l,b+1,e,r,w,m,v,n,k,t):x(w,r,h,n)&&u(r,p(w),n,m))}}function f(a,b,c,d,q,p,v,u,t,x,z,H){for(v=c.$type;v===e;){a:{b=q;v=a;var h=u,l=t,r=x,w=z,y=H;if(n(c,y))k(c,l,r),b=[void 0,v];else{g(r,c);var C=c,B=c.value,A;c=c["\u001e\u0192_context"];if(null!=c)A=c["\u001e\u0192_parent"]||v;else{var F=0,Q=B.length-1;A=c=v;do{A=f(v,A,
c,B[F],b,F<Q,!0,h,l,r,w,y);c=A[0];if(!c||"object"!==typeof c){b=A;break a}A=A[1]}while(F++<Q);C["\u001e\u0192_context"]!==c&&m(C,c)}b=[c,A]}}c=b[0];if(!c&&"object"!==typeof c)return b;b=b[1];v=c&&c.$type}if(void 0!==v)return[c,b];if(null==d){if(p)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[d];return[c,b]}var e=a(0),n=a(1),k=a(3),g=a(13),p=a(9),m=a(6),t=a(17),z=a(20),u=a(12),x=a(31);b.exports=function(a,b,e){var h=a._root,f=h.expired,l=h.version++,d=h._comparator,g=
h.cache,m=t(a),n=m["\u001e\u0192_parent"]||g;a=g["\u001e\u0192_version"];for(var k=-1,p=b.length;++k<p;)c(b[k].json,0,g,n,m,l,f,h,d,e);b=g["\u001e\u0192_version"];(h=h.onChange)&&a!==b&&h()}},function(b,d,a){var c=a(0),f=a(16),e=a(35),n=a(103),k=a(9),g=a(58),p=a(51),m=a(1),t=a(3),z=a(45),u=a(49),x=a(48),y=a(12);b.exports=function(a,b,d,q,w,v,C,B,A,F,H,D,E,G){G=n(b,v);if(w||v){if(G&&m(b,!0)&&(t(b,F,H),G=b.$expires===e?G:"expired"),G&&G!==c||!b||"object"!==typeof b)b=u(b,{},a,d,H,A),b=z(b,a,d,A,B)}else w=
n(q),(D?D(b,q,B.slice(0,B.index)):w?G&&!1!==g(q)<g(b)&&(G!==w||b.value!==q.value||b.$expires!==q.$expires):b&&b.value===q)||(E&&w===f&&(q=E(x(C,d),q)),q=p(q,w,w?q.value:q),C=k(b)-k(q),b=u(b,q,a,d,H,A),a=y(a,C,H,A),b=z(b,a,d,A,B));return b}},function(b,d){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,d,a){var c=a(85),f=a(31),e=a(50);b.exports=function(a,b,d,p,m,t){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,p,m),e(b,t));return d[p]=b}},function(b,d,a){b.exports=
function(a,b){var e=[a],c=0;do{var f=e[c];if(f&&f["\u001e\u0192_version"]!==b){f["\u001e\u0192_version"]=b;e[c++]=f["\u001e\u0192_parent"];for(var d=-1,p=f["\u001e\u0192_refs_length"]||0;++d<p;)e[c++]=f["\u001e\u0192_ref"+d]}}while(-1<--c);return a}},function(b,d,a){var c=Array.isArray,f=a(61),e=a(35),n=a(106),k=a(101),g=a(9),p=a(102);b.exports=function(a,b,d){var m=0;if(b){var t=a["\u001e\u0192_wrapped_value"];a=k(a);m=g(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=
t||!1}else a={$type:n,value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==d)m=51;else if(null==m||0>=m)switch(typeof d){case "object":m=c(d)?50+d.length:51;break;case "string":m=50+d.length;break;default:m=51}b=p(a);"number"===typeof b&&b<e&&(a.$expires=f()+-1*b);a.$size=m;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=
d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){var c=a(30),f=a(12);b.exports=function(a,b,d,g,p,m){var e=p;"number"!==typeof e&&(e=.75);p="number"===typeof m;var e=g*e,n,k,x;for(k=b.pop();k;)x=k.$size||0,d-=x,!0===p?f(k,x,a,m):(n=k["\u001e\u0192_parent"])&&c(k,n,k["\u001e\u0192_key"],a),k=b.pop();if(d>=g){for(k=b=a["\u001e\u0192_tail"];d>=e&&k;)b=b["\u001e\u0192_prev"],x=k.$size||0,d-=x,!0===p&&f(k,x,a,m),k=b;a["\u001e\u0192_tail"]=
a["\u001e\u0192_prev"]=k;null==k?a["\u001e\u0192_head"]=a["\u001e\u0192_next"]=void 0:k["\u001e\u0192_next"]=void 0}}},function(b,d,a){b.exports=function(a,b){var e=b["\u001e\u0192_prev"],c=b["\u001e\u0192_next"];c&&(c["\u001e\u0192_prev"]=e);e&&(e["\u001e\u0192_next"]=c);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=c);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=e)}},function(b,d,a){(function(c){function d(a){if(a)switch(typeof a){case "object":this.source=
a;break;case "function":this.source={subscribe:a}}}var e=a(14),n=a(15),k=a(107).default;b.exports=d;d.prototype[k]=function(){return this};d.prototype.operator=function(a){return this.subscribe(a)};d.prototype.subscribe=function(a,b,c){return new n([this.operator.call(this.source,a instanceof e?a:new e(a,b,c))])};d.prototype.then=function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],d=!1;e.subscribe({next:function(a){c[c.length]=a},error:function(a){d=!0;b(a)},
complete:function(){!d&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(d,a(36))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||
f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(68);d=a(7);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){var c=a(39),f=a(37),e=a(38);b.exports=function(a){return c(e(f(a)))}},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=a.$keys,d=-1,p=e.length;++d<p;){var m=
e[d];if(null===m)b=""+f(""+b+"null");else{"object"===typeof m&&(m="{from:"+m.from+",length:"+m.length+"}");var t=c(a[d]),b=void 0===t?""+f(""+b+m):""+f(""+b+m+t.$code)}}a.$code=b;return a}}var f=a(22);b.exports=c},function(b,d,a){function c(a,b,d,p){if(d===p)return!0;var m,g=-1,k=0,n=d+1,x,y,l;m=b[d];if(null===m)return a===e;a:do{if("object"!==typeof m)d=m,y=void 0,x=!1;else if(f(m)){if(void 0!==l)break a;g=0;l=m;k=m.length;if(0===k)break a;m=l[g];continue a}else{y=m.to;d=m.from||0;"number"!==typeof y&&
(y=d+(m.length||0)-1);if(0>y-d)break a;x=!0}do if(n===p){if(null!==a[d])return!1}else if(m=a[d],null===m||void 0===m||!1===c(m,b,n,p))return!1;while(x&&++d<=y);if(++g===k)break a;m=l[g]}while(1);return!0}var f=Array.isArray,e=a(5);b.exports=c},function(b,d,a){function c(a,b){return a.reduce(function(a,b){return e(b)?f(a,b,0,b.length):c(k(b),a)},b||{})}function f(a,b,c,d){if(c!==d){a=a||{};var k=a.$keys||(a.$keys=[]),m=a.$keysMap||(a.$keysMap={}),g,p=-1,l=0,h,r=c+1,q;g=b[c];if(null===g)return n;a:do{if("object"!==
typeof g)h=g,"undefined"===typeof(c=m[h])&&(c=k.length),k[c]=h,m[h]=c,g=f(a[c],b,r,d),void 0!==g&&(a[c]=g);else if(e(g)){if(void 0!==q)break a;p=0;q=g;l=g.length;if(0===l)break a;g=q[p];continue a}else{c=g.to;h=g.from||0;"number"!==typeof c&&(c=h+(g.length||0)-1);if(0>c-h)break a;g={from:h,length:c-h+1};h="{from:"+h+",length:"+(c-h+1)+"}";"undefined"===typeof(c=m[h])&&(c=k.length);k[c]=g;m[h]=c;g=f(a[c],b,r,d);void 0!==g&&(a[c]=g)}if(++p===l)break a;g=q[p]}while(1);return a}}var e=Array.isArray,n=
{$keys:[null],$keysMap:{"null":0}},k=a(21);b.exports=c},function(b,d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new p;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={__proto__:n.prototype});this._boxed=!0===a.boxed||a._boxed||
!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(95),e=a(70),n=a(7),k=a(69),g=a(99),p=a(57),m=a(54),t=a(9),z=a(2),u=a(59),x=a(11),y=a(60),l=a(19),h=a(18),r=a(24),q=a(79),w=a(25);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){return(new f("get",this,Array.prototype.slice.call(arguments,
0)))._toJSON(this._seed||{__proto__:n.prototype},[])};c.prototype.set=function(){return(new f("set",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:n.prototype},[])};c.prototype.preload=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,[])};c.prototype.call=function(){return(new f("call",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:n.prototype},[])};c.prototype.invalidate=function(){return(new f("invalidate",this,Array.prototype.slice.call(arguments,
0)))._toJSON(null,null).then()};c.prototype.deref=a(89);c.prototype._hasValidParentReference=a(88);c.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({__proto__:n.prototype},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var d=a.length;c&&!c.$type&&++e<d;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,
value:b};return(new f("set",this,[b]))._toJSON({__proto__:n.prototype},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var d=a.length;c&&!c.$type&&++e<d;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,e=this._path;this._path=[];this._node=this._root.cache={};"undefined"!==typeof b&&(m(c,c.expired,t(b),0),this._recycleJSON&&(this._seed={__proto__:n.prototype}));
var d;y(a)?d=h(this,[a])[0]:u(a)?d=l(this,[a])[0]:z(a)&&(d=l(this,[{json:a}])[0]);d&&r(this,d,null,!1,!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return q(this._root.cache);var b={},c=this._path;this._path=[];w(this,a,b);this._path=c;return b.jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");
this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var d=a[e];"delete"===d?delete b[e]:"_path"===e?(b[e]=d,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=d}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new g(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new g(1);return this._clone({_scheduler:b})};
c.prototype.unbatch=function(){return this._clone({_scheduler:new p})};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new k(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};
c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=x(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(80);c.prototype._getPathValuesAsPathMap=r;c.prototype._getPathValuesAsJSONG=
w;c.prototype._setPathValues=a(32);c.prototype._setPathMaps=a(19);c.prototype._setJSONGs=a(18);c.prototype._setCache=a(19);c.prototype._invalidatePathValues=a(29);c.prototype._invalidatePathMaps=a(46)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,
[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.syncRefCount=this.version=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}a(104);var f=a(96);c.comparator=function(a,b){var c=a&&a.$type,e=b&&b.$type;return c?e?!(c!==e||a.value!==b.value||a.$expires!==b.$expires):a.value===b:e?!1:a===b};
b.exports=c},function(b,d,a){var c=a(24),f=a(25);b.exports={json:function(a,b,d,f){var e=!1;if(!b)return{missing:!1,hasValue:!1};var g=[].concat(b[1]||[]),k=[].concat(b[2]||[]),n=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);f&&n&&n.length&&(e=c(a,n,d,f,!0).hasValue);return{data:d,missing:!0,hasValue:e,fragments:[b,g,k,n]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var g=[].concat(b[1]||[]),k=[].concat(b[2]||[]),n=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||
[]);d&&n&&n.length&&(e=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},n,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,g,k,n]}}}},function(b,d,a){b.exports={json:a(41),jsonGraph:a(44)}},function(b,d,a){var c=a(10);b.exports=function(a,b,d,k,g,p){var e=-1;b+=!!g;g=Array(b);for(a=p?c(a):a.value;++e<b;)g[e]=k[e];(d.errors||(d.errors=[])).push({path:g,value:a})}},function(b,d,a){function c(a,b,e,d,h,n,u,F,H,D,E,G,L,N,K,
M,S,X,Q,I,J){var q,r;if(void 0===b||void 0!==(q=b.$type)||void 0===d)return k[1]=!1,k[0]=t(b,q,e,d,h,n,u,F,h,H,D,E,L,N,K,M,S,X,Q,I,g,f),k;var w,v,C="",B,A,W,Z=d.$keys,ha=h+1,T,Y,ca,aa,ea,ia=D+1,da,la;J&&G&&(la=G.value,da=G["\u001e\u0192_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(w=e["\u001e\u0192_meta"]){if(!(M||e instanceof m))e={__proto__:new m(w)};else if(w.version===b["\u001e\u0192_version"]&&w.$code===d.$code&&w.abs_path===b["\u001e\u0192_abs_path"])return u.hasValue=!0,k[0]=e,
k[1]=!1,k;v=w.keys;w.version=b["\u001e\u0192_version"];w.abs_path=b["\u001e\u0192_abs_path"];w.deref_to=la;w.deref_from=da}q={};var ma=-1,na=Z.length,fa,ka,ga=!1;a:for(;++ma<na;)if(E=Z[ma],fa=d[ma],null===E){if(void 0!==fa)throw new y;C=""+l(""+C+"null")}else{if("object"!==typeof E)A=E,T=void 0,W=!1,ka=A;else{T=E.to;A=E.from||0;"number"!==typeof T&&(T=A+(E.length||0)-1);if(0>T-A)break a;W=!0;ka="{from:"+A+",length:"+(T-A+1)+"}"}do E=!1,Y=e&&e[A],ea=H,aa=ia,ca=G,B=b[A],F[h]=A,H[D]=A,B&&void 0!==fa&&
B.$type===p&&!z(B,K)&&(r=x(a,B,L,K),B=r[0],E=!0,ea=r[1],ca=r[2],aa=ea.length,r[0]=r[1]=r[2]=void 0),k=c(a,B,Y,fa,ha,n,u,F,ea,aa,E,ca,L,N,K,M,S,X,Q,I,J),Y=k[0],ga=ga||k[1],n&&(void 0!==Y?(void 0===w&&(w={},w.version=b["\u001e\u0192_version"],w.abs_path=b["\u001e\u0192_abs_path"],w.deref_to=la,w.deref_from=da,M&&(e=M(w))?e["\u001e\u0192_meta"]=w:(e={__proto__:m.prototype},e["\u001e\u0192_meta"]=w,e={__proto__:e})),q[A]=!0,v&&v.hasOwnProperty(A)&&(v[A]=!1),e[A]=Y):(ga=!0,e&&e.hasOwnProperty(A)&&delete e[A]));
while(W&&++A<=T);ga||(C=void 0===fa?""+l(""+C+ka):""+l(""+C+ka+fa.$code))}ga&&(C="__incomplete__");if(w&&(w.$code=C,w.keys=q,v))for(A in v)v[A]&&delete e[A];k[0]=e;k[1]=ga;return k}function f(a,b,c,d,l,f,g,k,m,p,y,t){a=a?h(a):[[]];var q=d.slice(0,l),r=t?e(t):n;return a.reduce(function(a,e){var h=b+e.length;return u(q.concat(e),b,c,d,h,f,g,k,m,a,y,r)},p)}function e(a){return function(b,c,e){e={version:0};e.abs_path=b.slice(0,c);return a(e)}}function n(a,b,c){var e={version:0};e.abs_path=a.slice(0,
b);c={__proto__:m.prototype};c["\u001e\u0192_meta"]=e;return{__proto__:c}}var k=Array(2),g=a(43),p=a(0),m=a(7),t=a(28),z=a(1),u=a(27),x=a(42),y=a(8);a(33);var l=a(22),h=a(21);b.exports=c},function(b,d,a){function c(a,b,e,d,n,u,B,A,F,H,D,E,G,L,N,K,M,S,X,Q,I,J){var h,q;if(void 0===b||(h=b.$type)||n===F)return t(b,h,e,d,n,u,B,A,F,H,D,E,L,N,K,M,S,X,Q,I,g,f);var r,w,v,C=n+1,V,W,Z,ha,T=-1,Y=0,ca,aa,ea=D+1,ia,da;E=d[n];if(null===E){if(C<F)throw new y;return e}J&&G&&(da=G.value,ia=G["\u001e\u0192_abs_path"]);
if(e)if("object"!==typeof e)e=void 0;else if(r=e["\u001e\u0192_meta"])r.version=b["\u001e\u0192_version"],r.abs_path=b["\u001e\u0192_abs_path"],r.deref_to=da,r.deref_from=ia;a:do{if("object"!==typeof E)h=E,V=void 0,v=!1;else if(k(E)){if(void 0!==W)throw new l(d,W);T=0;W=E;Y=E.length;if(0===Y)break a;E=W[T];continue a}else{V=E.to;h=E.from||0;"number"!==typeof V&&(V=h+(E.length||0)-1);if(0>V-h)break a;v=!0}do if(E=!1,Z=e&&e[h],aa=H,ca=ea,ha=G,w=b[h],A[n]=h,H[D]=h,w&&C<F&&w.$type===p&&!z(w,K)&&(q=x(a,
w,L,K),w=q[0],E=!0,aa=q[1],ha=q[2],ca=aa.length,q[0]=q[1]=q[2]=void 0),Z=c(a,w,Z,d,C,u,B,A,F,aa,ca,E,ha,L,N,K,M,S,X,Q,I,J),void 0!==Z)void 0===r&&(r={},r.version=b["\u001e\u0192_version"],r.abs_path=b["\u001e\u0192_abs_path"],r.deref_to=da,r.deref_from=ia,e=M?M(r):{__proto__:m.prototype})&&(e["\u001e\u0192_meta"]=r),e[h]=Z;while(v&&++h<=V);if(++T===Y)break a;E=W[T]}while(1);return e}function f(a,b,c,d,l,f,g,k,m,p,y,t){t=t?e(t):n;return u(a,b,c,d,l,f,g,k,m,p,y,t)}function e(a){return function(b,c,
e){e={version:0};e.abs_path=b.slice(0,c);return a(e)}}function n(a,b,c){var e={version:0};e.abs_path=a.slice(0,b);c={__proto__:m.prototype};c["\u001e\u0192_meta"]=e;return c}var k=Array.isArray,g=a(43),p=a(0),m=a(7),t=a(28),z=a(1),u=a(27),x=a(42),y=a(8),l=a(33);b.exports=c},function(b,d,a){var c=Array(2),f=a(10),e=a(0),n=a(26),k=a(13),g=a(1),p=a(6),m=a(52);b.exports=function(a,b,d,x,y){k(d,b);var l,h,r=0,q=a,w=b.value,t=w,u=w.length;do{if(0===r&&void 0!==(l=b["\u001e\u0192_context"]))q=l,r=u;else if(h=
w[r++],void 0===(q=q[h]))break;if(r===u){h=q.$type;if(void 0!==h&&g(q,y))break;else{if(q===b)throw new m(w);q!==l&&p(b,q)}if(h===e)k(d,q),x&&n(f(q),w,u,x),r=0,b=q,q=a,w=t=b.value,u=w.length;else break}else if(void 0!==q.$type)break}while(1);r<u&&void 0!==q&&(u=r);r=-1;for(w=Array(u);++r<u;)w[r]=t[r];c[0]=q;c[1]=w;return c}},function(b,d,a){var c=a(10),f=a(0),e=a(16),n=a(26),k=a(5);b.exports=function(a,b,d,t,z,u,x,y,l,h,r){var g=a&&a.value;if(b&&void 0===g)if(r)g=k;else return;else if(h||f===b||e===
b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof g)g=c(a);t&&(z.hasValue=!0,n(g,x,y,t),(t.paths||(t.paths=[])).push(u.slice(0,d+!!l)));return g}},function(b,d,a){function c(a,b,d,l,v,z,B,A,F,H,D,E,G,L,N,K,M,S){var h,r;if(void 0===b||(h=b.$type)||l===A)return m(b,h,v,d,l,v,z,B,A,F,H,D,E,G,L,void 0,N,K,M,S,g,f);var q,w,C=l+1,O,P,U=-1,ba=0,ja,V,W=H+1;D=d[l];if(null===D){if(C<A)throw new x;}else{a:do{if("object"!==typeof D)h=D,O=void 0,w=!1;else if(e(D)){if(void 0!==P)throw new y(d,P);U=0;P=D;ba=
D.length;if(0===ba)break a;D=P[U];continue a}else{O=D.to;h=D.from||0;"number"!==typeof O&&(O=h+(D.length||0)-1);if(0>O-h)break a;w=!0}do D=!1,V=F,ja=W,q=b[h],B[l]=h,F[H]=h,q&&C<A&&q.$type===k&&!t(q,L)&&(v&&p(n(q),F,ja,v),r=u(a,q,E,v,L),q=r[0],D=!0,V=r[1],ja=V.length,r[0]=r[1]=void 0),c(a,q,d,C,v,z,B,A,V,ja,D,E,G,L,N,K,M,S);while(w&&++h<=O);if(++U===ba)break a;D=P[U]}while(1)}}function f(a,b,c,e,d,f,g,k,m,n,y,t){var h;n&&y&&((n.paths||(n.paths=[])).push((t=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,
d+!!f))),h=p(t&&l||void 0,g,k,n,!t));return z(a,b,c,e,d,f,g,k,m,h,y)}var e=Array.isArray,n=a(10),k=a(0),g=a(77),p=a(26),m=a(28),t=a(1),z=a(27),u=a(76),x=a(8),y=a(33),l=a(5);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(e){var d=a[e],g=b[e];g||(g=b[e]={});if(d.$type){g=!d["\u001e\u0192_wrapped_value"];if(d.value&&"object"===typeof d.value||g){var g={},k=Object.keys(d),n,u,x;u=0;for(x=
k.length;u<x;u++)n=k[u],"$type"!==n&&f(n)||(g[n]=d[n]);d=g}else d=d.value;b[e]=d}else c(d,g,e)})}var f=a(20);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(17);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){var c=Array.isArray,f=a(105),e=a(59),n=a(60);b.exports=function(a){for(var b=[],d=-1,k=a.length,t,z,u,x;++d<k;)u=a[d],c(u)?(u={path:u},x="PathValues"):f(u)?x="PathValues":n(u)?x="JSONGraphs":e(u)&&(x="PathMaps"),z!==
x&&(z=x,b.push(t={arguments:[],inputType:x})),t.arguments.push(u);return b}},function(b,d,a){function c(a,b,c,d,p){f(a,b,p);return{}}var f=a(29);a(46);b.exports={json:c,jsonGraph:c}},function(b,d,a){var c=a(0),f=a(16),e=a(9),n=a(58),k=a(51),g=a(1),p=a(45),m=a(3),t=a(49),z=a(48),u=a(12);b.exports=function(a,b,d,h,r,q,w,v,C,B,A,F){var l,x,y,G,L,N;if(b===d){if(void 0===d)return d;if(null===d)return b=k(d,void 0,d),a=u(a,-b.$size,C,w),b=p(b,a,h,void 0,q);if((y=!(!b||"object"!==typeof b))&&void 0===(l=
b.$type))return void 0===b["\u001e\u0192_parent"]&&p(b,a,h,w,q),b}else if(y=!(!b||"object"!==typeof b))l=b.$type;if(l!==c){if(G=!(!d||"object"!==typeof d))x=d.$type;if(y&&!l&&(null==d||G&&!x))return b}else{if(null==d){if(g(b,F)){m(b,v,C);return}return b}if(G=!(!d||"object"!==typeof d))if(x=d.$type,x===c)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(L=b.$timestamp,N=d.$timestamp,!g(b,F)&&!g(d,F)&&N<L)return}if(l&&G&&!x)return p(t(b,d,a,h,C,w),a,h,void 0,q);if(x||!G){x===f&&A&&(d=A(z(r,
h),d));if(x&&b===d)null==b["\u001e\u0192_parent"]&&(b=k(b,l,b.value),a=u(a,-b.$size,C,w),b=p(b,a,h,w,q));else{r=!0;if(!y||l&&!g(b,F))r=B?!B(b,d,q.slice(0,q.index)):x?!l||!1===n(d)<n(b)||!(l!==x||b.value!==d.value||b.$expires!==d.$expires):!b||b.value!==d;r&&(d=k(d,x,x?d.value:d),B=e(b)-e(d),b=t(b,d,a,h,C,w),a=u(a,B,C,w),b=p(b,a,h,w,q))}g(b,!0)&&m(b,v,C)}else null==b&&(b=p(d,a,h,void 0,q));return b}},function(b,d,a){function c(a,c){for(var e=-1,d=c.length,g=[],n=[],m=a._root.errorSelector;++e<d;){var l=
c[e],h=l.inputType,l=l.arguments;if(0<l.length){var r=(0,b.exports["set"+h])(a,l,m,null,!1);n.push.apply(n,r[1]);"PathValues"===h?g.push.apply(g,l.map(f)):"JSONGraphs"===h?g.push.apply(g,k(l,f)):g.push.apply(g,r[0])}}return{optimized:n,relative:g}}function f(a){return a.path||a.paths}var e=a(24),n=a(25),k=a(100),g=a(81);b.exports={json:function(a,b,d,f,k){b=g(b);var m=c(a,b),p=f&&e(a,m.relative,d,f,k);a=n({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},
m.optimized,{},f,k);return{args:b,data:d,fragments:a.data,missing:a.data.paths,relative:m.relative,error:p&&p.error,errors:p&&p.errors,requested:a.requested,hasValue:p&&p.hasValue}},jsonGraph:function(a,b,e,d,f){b=g(b);var k=c(a,b);a=n({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},k.optimized,e,d,f);return{args:b,data:e,error:a.error,fragments:a.data,missing:a.data.paths,relative:k.relative,hasValue:a.hasValue,requested:a.requested}},setPathMaps:a(19),
setPathValues:a(32),setJSONGraphs:a(18)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||0,d=b["\u001e\u0192_refs_length"]||0,f=-1;++f<c;){var g=a["\u001e\u0192_ref"+f];void 0!==g&&(g["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(d+f)]=g,a["\u001e\u0192_ref"+f]=void 0)}b["\u001e\u0192_refs_length"]=c+d;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var d=a["\u001e\u0192_ref"+
b];null!=d&&(d["\u001e\u0192_context"]=d["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,d=(b["\u001e\u0192_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=d;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=
this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(0),f=a(7),e=a(11),n=a(91);b.exports=function(a){if(!a||"object"!==typeof a)throw new n;var b,d,k,t;k=a&&a["\u001e\u0192_meta"];if(!k||"object"!==typeof k)return this._clone({_node:void 0,_seed:z&&{__proto__:f.prototype}||void 0});d=this._root.cache;var z=this._recycleJSON,u=k.abs_path;if(!u)return this._clone({_node:void 0,
_seed:z&&{json:a,__proto__:f.prototype}||void 0});if(0===u.length)return this._clone({_node:d,_path:u,_referenceContainer:!0,_seed:z&&{json:a,__proto__:f.prototype}||void 0});var x=k.deref_to,y=k.deref_from,l=e(d,u),h="e";if(y){h=!1;k=-1;t=y.length;for(b=d;++k<t&&(b=b[y[k]],b&&!b.$type););if(x&&b&&b.$type===c)for(h=!0,t=x.length,d=b.value,k=0;k<t;++k)if(d[k]!==x[k]){l=void 0;h=!1;break}}h?"e"===h&&(b=!0):b=!1;return this._clone({_node:l,_path:u,_referenceContainer:b,_seed:z&&{json:a,__proto__:f.prototype}||
void 0})}},function(b,d,a){d=a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";
this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",function(a,b,d,k){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(k&&"optimized: [\n\t"+c(k)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){function c(a,b,c){p.call(this,a);b&&
c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function e(a,b,c,d,e,f){m.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=d;this.progressive=e;this.maxRetryCount=f}function n(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=u(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(w){throw w;}finally{--c.syncRefCount}}function k(a,b){try{throw b;
}catch(r){m.prototype.onError.call(a,r)}}function g(a,b){for(var c,d,e,h=Object.keys(b),f=-1,l=h.length;++f<l;)e=h[f],"\u001e\u0192_meta"===e?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:(d=b[e],c=a[e],c!==d&&(d&&"object"===typeof d?void 0===c?a[e]=d:g(c,d):void 0===c&&(a[e]=d)));return a}var p=a(56),m=a(14),t=a(54),z=a(7),u=a(64),x=a(53),y=a(93);b.exports=c;c.prototype=Object.create(p.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;
b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,
b){void 0===a&&(a={__proto__:z.prototype});return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=function(a,b){void 0===a&&(a={__proto__:z.prototype});return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,
a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,this.operation,this.progressive))};e.prototype=Object.create(m.prototype);e.prototype.operations={get:a(72),set:a(84),call:a(71),invalidate:a(82)};e.prototype.next=e.prototype.onNext=function(a){if(this.started){var b,c=a.type;a=a.args||
a.paths;var d=this.data,e=this.model,f=this.errors,l,m=this.hasValue,p=this.operation,t=this.progressive,u=t&&d;u&&(d={__proto__:z.prototype});if(a&&a.length){l=this.operations[c][p](e,a,d,t||!e._source,-1===this.retryCount);if(l.error)return k(this,l.error);f&&l.errors&&f.push.apply(f,l.errors);if(b=l.fragments)a=l.args,this.fragments=b;this.relative=l.relative;this.requested=l.requested;this.missing=b=l.missing;this.hasValue=m||(m=l.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=
a,u&&(this.data=g(d,this.data)));t&&m&&d&&(d.json||d.jsonGraph)&&n(d,p,e._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount};e.prototype.error=e.prototype.onError=function(a){if(a instanceof x)return m.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);
else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&n(b,this.operation,this.model._root,this.destination),b=this.errors,c||a||b&&b.length?k(this,b.length&&b||a):m.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return k(this,new y(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,
this.relative,this.fragments).subscribe(this)};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;m.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&t(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,
d,a){function c(a){g.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var e=a(56),n=a(97),k=a(14),g=a(15),p=a(57);b.exports=c;c.prototype=Object.create(g.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=new n("set",f,a._source,new p);e=g.subscribe(new k(e,g));f.add(g);g.data=d.jsonGraph;g.requested.push(c);g.optimized.push(b);g.connect();return e})};c.prototype.call=function(a,
b,c,d){var f=this;return new e(function(b){var c=new n("call",f,a._source,new p);b=c.subscribe(new k(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,f=this.scheduler,l=-1,h=b.subscriptions,r=h.length,q=new g([],a);++l<r;){var m=h[l];if("get"===m.type&&((m=m.batch(d,e,d=[],e=[]))&&q.add(m.subscribe(new k(a,
m))),!e.length))break}e.length&&(m=h[l]=(new n("get",b,c,f)).batch(d,e),q.add(m.subscribe(new k(a,m))),m.connect());return q}},function(b,d,a){function c(a,b,c,d){k.call(this,[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){this.active=!0;var a,b=this.paths=u(this.tree=y(this.optimized.reduce(function(a,b){return x(b,a)},{})));try{switch(this.type){case "get":a=
this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=a.subscribe(this)}catch(q){this.disposable={},k.prototype.onError.call(this,new p(q))}}function e(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,h,g=-1,k=b.length;a:for(;++g<k;)if(h=b[g],h.length>c){f=0;do if(h[f]!==a[f])continue a;while(++f<c);d[++e]=h.slice(c)}return d}var n=Array.isArray,k=a(98),g=a(16);
a(14);a(15);var p=a(53),m=a(18),t=a(32),z=a(29),u=a(39),x=a(37),y=a(38),l=a(66);b.exports=c;c.prototype=Object.create(k.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=this.parent;if(b){var c=a,d=0,f=0;if(n(a)){if(0>=(f=a.length))return;c=a[0]}!1===this.responded&&(this.responded=!0,b.remove(this));var h=this.boundPath;do{var g=c.jsonGraph,k=this.requested,l=b.modelRoot,p=c.invalidated,t=c.paths||this.paths;p&&p.length&&z({_root:l,_path:[]},p,!1);t&&t.length&&g&&"object"===typeof g&&
(t=m({_root:l},[{paths:t,jsonGraph:g}],l.errorSelector,l.comparator,!1)[0])}while(++d<f&&(c=a[d]));this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:k[b]||e(h,t)})})}};c.prototype.error=c.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:g,value:{message:a.message}}:a.$type===g&&a||{$type:g,value:a};var b=b.modelRoot,c=u(y(this.requested.reduce(function(a,b){return x(b,a)},{}))).map(function(b){return{path:b,
value:a}});c.length&&t({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);k.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});k.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=
c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();k.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=
function(a,b,c,d){if(this.active){for(var e=[],f=[],g=this.tree,k=-1,h=-1,n=-1,m=b.length,p=a.length-1;++k<m;){var q=b[k],r=q.length,t=g[r];t&&l(t,q,0,r)?(f[++n]=q,e[n]=a[k<p?k:p]):(d[++h]=q,c[h]=a[k<p?k:p])}return~n?(this.requested.push(e),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),e=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=
this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,
this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d){b.exports=function(a,b){for(var c=-1,d=-1,n=a.length,k=[];++d<n;)for(var g=b(a[d],d,a),p=-1,m=g.length;++p<m;)k[++c]=g[p];return k}},function(b,d,a){var c=Array.isArray,f=a(34);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&
a.$expires||void 0}},function(b,d,a){var c=a(2);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=a(2),f=Object.prototype.hasOwnProperty;b.exports=function(a,b){return c(a)&&f.call(a,b)}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d){b.exports="atom"},function(b,d,a){b.exports=a(108)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=
a(109),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(36),a(110)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=
[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d,a){b.exports=a(63)}])});
//# sourceMappingURL=falcor.all.min.js.map
