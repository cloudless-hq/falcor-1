(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=111)}([function(b,d){b.exports="ref"},function(b,d,a){var c=a(61),f=a(35),e=a(62);b.exports=function(a,h){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?h:a<c()}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){var c=a(55);b.exports=function(a,e,
m){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,e.push(a),c(m,a));return a}},function(b,d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Error();f.prototype.name=a;f.prototype.constructor=f;f.is=function(e){return e.name===a};return f}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){b.exports=function(a,f){var e=f["\u001e\u0192_refs_length"]||
0;f["\u001e\u0192_ref"+e]=a;f["\u001e\u0192_refs_length"]=e+1;a["\u001e\u0192_ref_index"]=e;a["\u001e\u0192_context"]=f}},function(b,d,a){(function(a){function c(a){this["\u001e\u0192_meta"]=a||{}}function e(e){var c=typeof e,f=arguments.length;if(0===f)e=this;else if(c!==d){if(!e||c!==n)return e}else{if(1!==f)return e;e=this}return e===a?void 0:e}function m(){return k(e.apply(this,arguments),m,!1)}function h(a){a=e.apply(this,arguments);var f,m=0,y=k(a,h,!0);a&&(f=a["\u001e\u0192_meta"])&&(m=f.version);
y&&typeof y===n&&(y.__proto__=c.prototype,f=y["\u001e\u0192_meta"])&&(f.version=m);return y}function k(a,e,c){if(!a||typeof a!==n)return a;var f,g,l,m,h,b;if(p(a))b=a;else{b={};f=-1;m=Object.keys(a);g=m.length;if(c&&(l=a["\u001e\u0192_meta"])){var r=l.$code,k=l.abs_path,t=l.deref_to,x=l.deref_from;l=b["\u001e\u0192_meta"]={};r&&(l.$code=r);k&&(l.abs_path=k);t&&(l.deref_to=t);x&&(l.deref_from=x)}for(;++f<g;)"\u001e\u0192_meta"!==(h=m[f])&&(b[h]=e(a[h],e,c))}return b}c.prototype=Object.create(Object.prototype,
Object.assign({toJSON:{value:m},toProps:{value:h},toString:{value:function(a){return JSON.stringify(k(e.call(this,this),k,!0===a))}},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,
e){var c=Array.prototype[e];a[e]={writable:!0,enumerable:!1,value:function(){return c.apply(this,arguments)}};return a},{})));var p=Array.isArray,n="object",d="string";b.exports=c}).call(d,a(36))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){var c=a(34);b.exports=function(a){for(var e,f=Object.keys(a),h={},b=-1,p=f.length;++b<
p;)e=f[b],c(e)||(h[e]=a[e]);return h}},function(b,d,a){function c(a,m){var e=a,b,p=0,n=m.length;if(0<n){do for(e=e[m[p]];e&&(b=e.$type)===f;)e=c(a,e.value);while(++p<n&&e&&!b)}return e}var f=a(0);b.exports=c},function(b,d,a){var c=a(30),f=a(50);b.exports=function(a,m,b,k){var e=a;do{var n=e["\u001e\u0192_parent"];0>=(e.$size=(e.$size||0)-m)&&null!=n?c(e,n,e["\u001e\u0192_key"],b):e["\u001e\u0192_version"]!==k&&f(e,k);e=n}while(e);return a}},function(b,d,a){var c=a(62);b.exports=function(a,e){if(e.$expires!==
c){var f=a["\u001e\u0192_head"];if(!f)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=e;else if(f!==e){var b=e["\u001e\u0192_prev"],k=e["\u001e\u0192_next"];k&&(k["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=k);e["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=e;e["\u001e\u0192_next"]=f;f["\u001e\u0192_prev"]=e;e===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination=
{error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var e=this.destination;if(e)if(e.onNext)e.onNext(a);else e.next&&e.next(a)};c.prototype.error=c.prototype.onError=function(a){var e=!1,c=this.destination;c&&(c.onError?(e=!0,c.onError(a)):c.error&&(e=!0,c.error(a)),this.dispose());if(!e)throw a;};c.prototype.complete=c.prototype.onCompleted=
function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=
a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d){b.exports="error"},function(b,d,a){var c=a(11);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001e\u0192_parent"]||f["\u001e\u0192_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){function c(a,e,m,g,l,b,n,h,
r,k,p,d,v,H,D,E,F,K){var y={},u=e<a.length-1,q=a[e],t=z(q,y),x=d.index;do{p.depth=e;var C=f(m,g,l,b,n,h,t,u,!1,p,d,v,H,D,E,F,K);p[e]=t;p.index=e;var w=C[0],A=C[1],B=C[4];B[B.index++]=t;w&&(u?c(a,e+1,m,A,w,b,C[3],C[2],r,k,p,B,v,H,D,E,F,K):(r.push(p.slice(0,p.index+1)),k.push(B.slice(0,B.index))));t=z(q,y);if(y.done)break;d.index=x}while(1)}function f(a,c,b,g,l,u,q,w,r,C,A,d,z,H,D,E,F){for(r=b.$type;r===m;){a:{c=a;l=g;A=C;var y=d,t=z,x=H,B=D,G=E,X=F,R,I,J=b.value;r=J.slice(0);if(h(b,X))k(b,t,x),b=void 0,
R=c,I=l,r.index=J.length;else{var S=0,O=b,P=J.length-1;R=b=c;I=u=l;do{var V=J[S],ba=S<P;r.index=S;I=f(c,R,b,l,I,u,V,ba,!0,A,r,y,t,x,B,G,X);b=I[0];r=I[4];if(!b||"object"!==typeof b){r.index=S;A=I;break a}R=I[1];u=I[2];I=I[3]}while(S++<P);r.index=S;O["\u001e\u0192_context"]!==b&&p(O,b)}e[0]=b;e[1]=R;e[2]=u;e[3]=I;e[4]=r;A=e}b=A[0];if(!b||"object"!==typeof b)return A;c=A[1];u=A[2];l=A[3];A=A[4];r=b.$type}if(void 0===r){if(null==q){if(w)throw new v;b&&(q=b["\u001e\u0192_key"])}else c=b,l=u,b=c[q],u=l&&
l[q];b=n(c,b,u,q,C,A,d,z,H,D,E,F)}e[0]=b;e[1]=c;e[2]=u;e[3]=l;e[4]=A;return e}var e=Array(5),m=a(0),h=a(1),k=a(3),p=a(6),n=a(83),v=a(8),z=a(23);b.exports=function(a,f,b,g,l){var m=a._root,n=m.expired,h=m.version++,r=m.cache;a=r["\u001e\u0192_version"];for(var y=[],k=[],p=[],t=[],x=-1,d=f.length;++x<d;)for(var v=f[x],z=v.paths,v=v.jsonGraph,K=-1,N=z.length;++K<N;){var L=z[K];k.index=0;c(L,0,r,r,r,v,v,v,p,t,y,k,h,n,m,g,b,l)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=r["\u001e\u0192_version"];
(b=m.onChange)&&a!==f&&b();return[p,t]}},function(b,d,a){function c(a,e,l,b,n,h,r,k,p,t,x,d,v,E,F){var g;if(a&&"object"===typeof a&&!a.$type){g=[];var u=0;m(a)&&(g[u++]="length");for(var q in a)z(q)||(g[u++]=q)}else g=void 0;if(g&&g.length){u=0;q=g.length;var y=p.index;do{var w=g[u],C=a[w],A=!(!C||"object"!==typeof C)&&!C.$type;k.depth=e;var B=f(l,b,n,w,C,A,!1,k,p,t,x,d,v,E,F);k[e]=w;k.index=e;var G=B[0],D=B[1],B=B[2];B[B.index++]=w;G&&(A?c(C,e+1,l,D,G,h,r,k,B,t,x,d,v,E,F):(h.push(k.slice(0,k.index+
1)),r.push(B.slice(0,B.index))));if(++u>=q)break;p.index=y}while(1)}}function f(a,c,l,b,m,w,r,C,d,v,z,H,D,E,F){for(var g=l.$type;g===h;){a:{c=m;d=a;var g=C,u,q=v,y=z,A=H,B=D,G=E,I=F,J,S=l.value;u=S.slice(0);if(k(l,I))p(l,y,A),l=void 0,J=d,u.index=S.length;else{var O=l;l=l["\u001e\u0192_context"];if(null!=l)J=l["\u001e\u0192_parent"]||d,u.index=S.length;else{var P=0,V=S.length-1;u.index=P;J=l=d;do{J=f(d,J,l,S[P],c,P<V,!0,g,u,q,y,A,B,G,I);l=J[0];u=J[2];if(!l||"object"!==typeof l){u.index=P;d=J;break a}J=
J[1]}while(P++<V);u.index=P;O["\u001e\u0192_context"]!==l&&n(O,l)}}e[0]=l;e[1]=J;e[2]=u;d=e}l=d[0];if(!l||"object"!==typeof l)return d;c=d[1];d=d[2];g=l&&l.$type}if(void 0===g){if(null==b){if(w)throw new t;l&&(b=l["\u001e\u0192_key"])}else c=l,l=c[b];l=x(c,l,b,m,w,r,C,d,v,z,H,D,E,F)}e[0]=l;e[1]=c;e[2]=d;return e}var e=Array(3),m=Array.isArray,h=a(0),k=a(1),p=a(3),n=a(6),v=a(11),z=a(20),t=a(8),x=a(47);b.exports=function(a,g,l,f,b){var m=a._root,n=m.expired,u=m.version++,q=a._path,h=m.cache,k=v(h,q),
y=k["\u001e\u0192_parent"]||h;a=h["\u001e\u0192_version"];for(var p=[],t=[],d=[],x=q.length,z=-1,L=g.length;++z<L;){var M=g[z],T=q.slice(0);T.index=x;c(M.json,0,h,y,k,t,d,p,T,u,n,m,f,l,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;g=h["\u001e\u0192_version"];(m=m.onChange)&&a!==g&&m();return[t,d]}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(34)},function(b,d){function a(c,f,e){e=e||[];f=f||[];for(var b=[],h=c.$keys,k=h.length,p=-1;++p<k;){var n=c[p],d=h[p];n?a(n,f,e.concat([d])):
b.push(d)}1===b.length?f.push(e.concat(b)):1<b.length&&f.push(e.concat([b]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,d){function a(a,e){var c=e.from=a.from||0;a=e.to=a.to||"number"===typeof a.length&&e.from+a.length-1||0;e.rangeOffset=e.from;e.loaded=!0;c>a&&(e.empty=!0)}var c=Array.isArray;b.exports=function(f,e){if(void 0===e.isArray){e.done=!1;var b=e.isObject=!(!f||"object"!==typeof f);e.isArray=
b&&c(f);e.arrayOffset=0}if(e.isArray){var h;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=f.length){e.done=!0;break}b=f[e.arrayOffset];"object"===typeof b?(e.loaded||a(b,e),e.empty||(h=e.rangeOffset++)):(++e.arrayOffset,h=b)}while(void 0===h);return h}if(e.isObject){e.loaded||a(f,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=!0;return f}},function(b,d,a){b.exports=a(41)},function(b,d,a){b.exports=a(44)},function(b,d){b.exports=function(a,
c,b,e,m){var f=0,k;k=e.jsonGraph;k||(e.jsonGraph=k={});do{e=c[f++];if(f>=b){k=k[e]=!0!==m?a:k[e]||{};break}k=k[e]||(k[e]={})}while(1);return k}},function(b,d,a){var c=Array.isArray,f=a(40).pathToTree,e=a(5);b.exports=function(a,b,k,p,n,d,z,t,x,y,g,l){if(x||g){for(var m,q=-1,h=(d=n-b)&&Array(d)||void 0;++q<d;){m=a[q+b];var r;r=m;if("object"!==typeof r||null===r)r=!1;else if(c(r))r=0===r.length;else{var C=r.to,v=r.from||0;"number"!==typeof C&&(C=v+(r.length||0));r=v>=C}if(r)return;h[q]=m}var B;a=null===
m;m=x;var G;x?(r=n,C=p,G=k.requested||(k.requested=[])):(b=t,C=z,r=t+d-Number(a));do{if(d<n||!m){p=-1;q=b;for(B=Array(r);++p<q;)B[p]=C[p];for(q=-1;p<r;)B[p++]=h[++q]}if(m=!m){x&&(G[G.length]=B);break}G[G.length]=B||h;b=t;C=z;G=k.missing||(k.missing=[]);r=t+d-Number(a)}while(1);if(g)return 0===d?e:f(y,B,b,r,e,l)}}},function(b,d,a){var c=a(1),f=a(3),e=a(13);b.exports=function(a,b,k,p,n,d,z,t,x,y,g,l,u,q,w,r,C,A,B,G,H,D){var m=A;if(!a||!b)return A&&(m=!0,d&&(z.hasValue=!0)),D(p,n,z,t,x,l,y,g,B,k,m,r);
if(c(a,w))return a["\u001e\u0192_invalidated"]||f(a,q,u),D(p,n,z,t,x,l,y,g,B,k,m,r);e(u,a);if(d)return l&&(t[n]=null),H(a,b,n,d,z,t,y,g,l,C,A,G)}},function(b,d,a){function c(a,l,b,m,n,r,k,h,p){var g={},u=l<a.length-1,q=a[l],d=t(q,g);do{e=f(b,m,n,d,u,!1,r,k,h,p);var C=e[0],w=e[1];C&&(u?c(a,l+1,b,w,C,r,k,h,p):y(C,w,d,h)&&x(w,v(C),h,r));d=t(q,g)}while(!g.done)}function f(a,c,b,q,h,r,d,y,t,x){for(r=b.$type;r===m;){a:{c=a;r=d;var g=y,l=t,u=x;if(k(b,u))p(b,g,l),e[0]=void 0,e[1]=c;else{n(l,b);var C=b,w=
b.value,v;b=b["\u001e\u0192_context"];if(null!=b)v=b["\u001e\u0192_parent"]||c;else{var A=0,B=w.length-1;v=b=c;do{e=f(c,v,b,w[A],A<B,!0,r,g,l,u);b=e[0];if(!b&&"object"!==typeof b)break a;v=e[1]}while(A++<B);C["\u001e\u0192_context"]!==b&&z(C,b)}e[0]=b;e[1]=v}}b=e[0];if(!b&&"object"!==typeof b)return e;c=e[1];r=b.$type}if(void 0!==r)return[b,c];if(null==q){if(h)throw Error("`null` is not allowed in branch key positions.");}else c=b,b=c[q];e[0]=b;e[1]=c;return e}var e=Array(2),m=a(0),h=a(17),k=a(1),
p=a(3),n=a(13),v=a(9),z=a(6),t=a(23),x=a(12),y=a(31);b.exports=function(a,b,f){var g=a._root,l=g.expired,m=g.version++,n=g.cache,k=h(a),d=k["\u001e\u0192_parent"]||n;a=n["\u001e\u0192_version"];for(var y=-1,p=b.length;++y<p;)c(b[y],0,n,d,k,m,l,g,f);e[0]=void 0;e[1]=void 0;b=n["\u001e\u0192_version"];(g=g.onChange)&&a!==b&&g()}},function(b,d,a){var c=a(0),f=a(55),e=a(86),m=a(87);b.exports=function(a,b,d,n){if(a&&"object"===typeof a){var k=a.$type;k&&(k===c&&m(a),f(n,a));e(a);b[d]=a["\u001e\u0192_parent"]=
void 0;return!0}return!1}},function(b,d,a){var c=a(30),f=a(20);b.exports=function m(a,b,d,n){if(c(a,b,d,n)){if(null==a.$type)for(var k in a)f(k)||m(a[k],a,k,n);return!0}return!1}},function(b,d,a){function c(a,e,g,b,m,n,k,r,d,h,p,t,v,D,E,F){var l={},q=g<e.length-1,y=e[g],u=z(y,l),x=h.index;do{d.depth=g;d[g]=u;d.index=g;var w=f(b,m,n,u,a,q,!1,d,h,p,t,v,D,E,F);d[g]=u;d.index=g;var C=w[0],A=w[1],w=w[2];w[w.index++]=u;C&&(q?c(a,e,g+1,b,A,C,k,r,d,w,p,t,v,D,E,F):(k.push(d.slice(0,d.index+1)),r.push(w.slice(0,
w.index))));u=z(y,l);if(l.done)break;h.index=x}while(1)}function f(a,c,g,b,n,d,w,r,C,z,B,G,H,D,E){for(var l=g.$type;l===m;){a:{c=n;C=a;var l=r,q,y=z,u=B,x=G,A=H,X=D,R=E,I,J=g.value;q=J.slice(0);if(h(g,R))k(g,u,x),g=void 0,I=C,q.index=J.length;else{var S=g;g=g["\u001e\u0192_context"];if(null!=g)I=g["\u001e\u0192_parent"]||C,q.index=J.length;else{var O=0,P=J.length-1;I=g=C;do{var V=J[O],ba=O<P;q.index=O;I=f(C,I,g,V,c,ba,!0,l,q,y,u,x,A,X,R);g=I[0];q=I[2];if(!g||"object"!==typeof g){q.index=O;C=I;break a}I=
I[1]}while(O++<P);q.index=O;S["\u001e\u0192_context"]!==g&&p(S,g)}}e[0]=g;e[1]=I;e[2]=q;C=e}g=C[0];if(!g||"object"!==typeof g)return C;c=C[1];C=C[2];l=g.$type}if(!d||void 0===l){if(null==b){if(d)throw new v;g&&(b=g["\u001e\u0192_key"])}else c=g,g=c[b];g=t(c,g,b,n,d,w,r,C,z,B,G,H,D,E)}e[0]=g;e[1]=c;e[2]=C;return e}var e=Array(3),m=a(0),h=a(1),k=a(3),p=a(6),n=a(11),v=a(8),z=a(23),t=a(47);b.exports=function(a,b,g,l,f){var m=a._root,k=m.expired,r=m.version++,d=a._path,h=m.cache,p=n(h,d),u=p["\u001e\u0192_parent"]||
h;a=h["\u001e\u0192_version"];for(var t=[],y=[],x=[],z=d.length,v=-1,N=b.length;++v<N;){var L=b[v],M=L.path,L=L.value,T=d.slice(0);T.index=z;c(L,M,0,h,u,p,y,x,t,T,r,k,m,l,g,f)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=h["\u001e\u0192_version"];(m=m.onChange)&&a!==b&&m();return[y,x]}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,b){this.mesage="The KeySet "+JSON.stringify(b)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,
d,a){d=a(94);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var c=Array.isArray,f=a(21);b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,c){var e=c.length;a[e]||(a[e]=[]);a[e].push(c);return a},b||{})}},function(b,d,a){var c=a(40);b.exports=function(a,
e){return Object.keys(a).reduce(function(e,b){e[b]=c(a[b],e[b]);return e},e||{})}},function(b,d,a){function c(a,b,f){var d,g=Object.create(null),l=""+n(""+b),k=[],q=-1,h=0,r=[],p=0,t,x,v,z,D,E;v=[];z=-1;if(b<f-1){for(D=e(a,v);++z<D;)d=v[z],t=c(a[d],b+1,f),x=t.code,g[x]?t=g[x]:(k[h++]=x,t=g[x]={keys:[],sets:t.sets}),l=""+n(l+d+x),m(d)&&t.keys.push(parseInt(d,10))||t.keys.push(d);for(;++q<h;)if(d=k[q],t=g[d],v=t.keys,D=v.length,0<D)for(a=t.sets,b=-1,f=a.length,z=v[0];++b<f;){d=a[b];t=-1;x=d.length;
E=Array(x+1);for(E[0]=1<D&&v||z;++t<x;)E[t+1]=d[t];r[p++]=E}}else for(D=e(a,v),1<D?r[p++]=[v]:r[p++]=v;++z<D;)l=""+n(l+v[z]);return{code:l,sets:r}}function f(a,e){return a-e}function e(a,e,c){var b=0;if(a===v)e[b++]=null;else{for(var g in a)e[b++]=g;1<b&&e.sort(c)}return b}function m(a){var e=a,c=typeof a;if("string"===c){e=a.length;if(0===e||17<e||!p.test(a))return!1;if(16>e)return!0;e=+a}else if("number"!==c)return!1;return 0===e%1&&9007199254740991>=k(e)}var h=Array.isArray,k=Math.abs,p=/^(0|(\-?[1-9][0-9]*))$/,
n=a(22),v=a(5);b.exports=function(a){var e,b=[],n=0,g;for(g in a){var l;if(l=m(g))l=e=a[g],l=null!==l&&"object"===typeof l;if(l){l=c(e,0,parseInt(g,10)).sets;for(var d=-1,k=l.length;++d<k;){for(var p=n++,r=l[d],v=-1,z=r.length;++v<z;){var B=r[v];if(h(B)){var G=r,H=v;for(var D=-1,E=B.length-1,F=0<E;++D<=E;){var K=B[D];if(!m(K)){F=!1;break}B[D]=parseInt(K,10)}!0===F&&(B.sort(f),D=B[0],F=B[E],F-D<=E&&(B={from:D,to:F}));G[H]=B}}b[p]=r}}}return b};b.exports._isSafeNumber=m},function(b,d,a){function c(a,
b,d,p,n,v){if(d===p)return!0;var m,k,h=-1,y=0,g,l=d+1,u,q,w;k=b[d];if(null===k)return e;m=k;a=a?a:v?v(b,d,a):{};a:do{if("object"!==typeof k)v=k,q=void 0,u=!1;else if(f(k)){if(void 0!==w)break a;h=0;w=k;y=k.length;if(0===y)break a;k=w[h];continue a}else{q=k.to;v=k.from||0;"number"!==typeof q&&(q=v+(k.length||0)-1);if(0>q-v)break a;u=!0}do l===p?a[v]=n:(k=a[b[d]=v],(g=c(k,b,l,p,n))?k||(a[v]=g):a[v]=n);while(u&&++v<=q);if(++h===y)break a;k=w[h]}while(1);b[d]=m;return a}var f=Array.isArray,e=a(5);b.exports=
function(a,e){return a.reduce(function(a,e){return c(a,e,0,e.length,null)},e||{})};b.exports.pathToTree=c},function(b,d,a){var c=a(75),f=a(74),e=a(17),m=a(92),h=a(67),k=a(65);b.exports=function(a,b,d,z,t){var n,p;z=a._path;var g=a._root,l=g.cache,u,q,w,r=z&&z.length||0;if(r){if((n=e(a))&&n.$type)return{error:new m(z,z)};w=[];for(p=0;p<r;++p)w[p]=z[p];p=a._referenceContainer}else n=l,w=[];u=[];var v=!1,A=d&&d.json,B={data:d},G=a._boxed,H=g.expired;q=a._recycleJSON;var D=a._materialized,E=!!a._source,
F=g.branchSelector,K=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var N,L=0,M=b.length;if(0<M)if(q){M=1;v=!0;b[0].$keys||(b=[k(h(b,{}))]);do N=b[L],q=f(l,n,A,N,0,d,B,u,w,r,!1,p,g,H,t,F,G,D,E,K,a),A=q[0],q[0]=void 0,q[1]=void 0;while(++L<M)}else{do N=b[L],q=N.length,A=c(l,n,A,N,0,d,B,u,q,w,r,!1,p,g,H,t,F,G,D,E,K,a);while(++L<M)}t=B.requested;B.args=v&&b||t;if(t&&t.length&&(B.relative=B.args,r)){b=[];p=0;for(r=t.length;p<r;++p)b[p]=z.concat(t[p]);B.requested=b}B.hasValue&&(d.json=A);return B}},
function(b,d,a){var c=Array(3),f=a(0),e=a(13),m=a(1),h=a(6),k=a(52);b.exports=function(a,b,d,z){e(d,b);var n,p,y=0,g=a,l=b.value,u=l,q=l.length;do{if(0===y&&void 0!==(n=b["\u001e\u0192_context"]))g=n,y=q;else if(p=l[y++],void 0===(g=g[p]))break;if(y===q){p=g.$type;if(void 0!==p&&m(g,z))break;else{if(g===b)throw new k(l);g!==n&&h(b,g)}if(p===f)e(d,g),y=0,b=g,g=a,l=u=b.value,q=l.length;else break}else if(void 0!==g.$type)break}while(1);y<q&&void 0!==g&&(q=y);y=-1;for(l=Array(q);++y<q;)l[y]=u[y];c[0]=
g;c[1]=l;c[2]=b;return c}},function(b,d,a){var c=a(10),f=a(73),e=a(16),m=a(5);b.exports=function(a,b,d,n,v,z,t,x,y,g,l,u){if(e===b&&!u)return f(a,d,v,z,y,g);d=a&&a.value;if(b&&void 0===d){if(l)return v.hasValue=!0,m}else return v.hasValue=!0,g?c(a):d}},function(b,d,a){var c=a(78),f=a(90);b.exports=function(a,b,d,k,p){var e,m;e=a._path;k=a._root;var h,t,x=e&&e.length||0;if(x)return{error:new f};t=[];m=e=k.cache;h=[];for(var y=a._boxed,g=k.expired,l=a._materialized,u=!!a._source,q=a._treatErrorsAsValues,
w={data:d},r=-1,C=b.length;++r<C;){var A=b[r];a=A.length;c(m,e,A,0,d,w,h,a,t,x,!1,k,g,p,y,l,u,q)}w.args=w.relative=w.requested;return w}},function(b,d,a){b.exports=function(a,b,e,d,h){a["\u001e\u0192_key"]=e;a["\u001e\u0192_parent"]=b;void 0!==d&&(a["\u001e\u0192_version"]=d);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=h.slice(0,h.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,b,e,d,m,n,k,h,v,B){if(a&&"object"===typeof a&&!a.$type)for(var g in a)if(!z(g)){var l=a[g],r=
!(!l||"object"!==typeof l)&&!l.$type,q=f(e,d,m,g,l,r,!1,n,k,h,v,B),u=q[0],q=q[1];u&&(r?c(l,b+1,e,q,u,n,k,h,v,B):x(u,q,g,h)&&t(q,p(u),h,n))}}function f(a,b,c,d,q,p,r,t,v,x,z,H){for(r=c.$type;r===e;){a:{b=q;r=a;var g=t,l=v,u=x,w=z,y=H;if(m(c,y))h(c,l,u),b=[void 0,r];else{k(u,c);var C=c,B=c.value,A;c=c["\u001e\u0192_context"];if(null!=c)A=c["\u001e\u0192_parent"]||r;else{var G=0,R=B.length-1;A=c=r;do{A=f(r,A,c,B[G],b,G<R,!0,g,l,u,w,y);c=A[0];if(!c||"object"!==typeof c){b=A;break a}A=A[1]}while(G++<R);
C["\u001e\u0192_context"]!==c&&n(C,c)}b=[c,A]}}c=b[0];if(!c&&"object"!==typeof c)return b;b=b[1];r=c&&c.$type}if(void 0!==r)return[c,b];if(null==d){if(p)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[d];return[c,b]}var e=a(0),m=a(1),h=a(3),k=a(13),p=a(9),n=a(6),v=a(17),z=a(20),t=a(12),x=a(31);b.exports=function(a,b,e){var g=a._root,f=g.expired,l=g.version++,d=g._comparator,m=g.cache,n=v(a),k=n["\u001e\u0192_parent"]||m;a=m["\u001e\u0192_version"];for(var p=-1,h=b.length;++p<
h;)c(b[p].json,0,m,k,n,l,f,g,d,e);b=m["\u001e\u0192_version"];(g=g.onChange)&&a!==b&&g()}},function(b,d,a){var c=a(0),f=a(16),e=a(35),m=a(103),h=a(9),k=a(58),p=a(51),n=a(1),v=a(3),z=a(45),t=a(49),x=a(48),y=a(12);b.exports=function(a,b,d,q,w,r,C,A,B,G,H,D,E,F){F=m(b,r);if(w||r){if(F&&n(b,!0)&&(v(b,G,H),F=b.$expires===e?F:"expired"),F&&F!==c||!b||"object"!==typeof b)b=t(b,{},a,d,H,B),b=z(b,a,d,B,A)}else w=m(q),r=!1===k(q)<k(b),(F||w)&&D&&(r=!D(b,q,A.slice(0,A.index))),r&&(E&&w===f&&(q=E(x(C,d),q)),
q=p(q,w,w?q.value:q),C=h(b)-h(q),b=t(b,q,a,d,H,B),a=y(a,C,H,B),b=z(b,a,d,B,A));return b}},function(b,d){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,d,a){var c=a(85),f=a(31),e=a(50);b.exports=function(a,b,d,p,n,v){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,p,n),e(b,v));return d[p]=b}},function(b,d,a){b.exports=function(a,b){var e=[a],c=0;do{var f=e[c];if(f&&f["\u001e\u0192_version"]!==b){f["\u001e\u0192_version"]=b;e[c++]=f["\u001e\u0192_parent"];for(var d=
-1,p=f["\u001e\u0192_refs_length"]||0;++d<p;)e[c++]=f["\u001e\u0192_ref"+d]}}while(-1<--c);return a}},function(b,d,a){var c=Array.isArray,f=a(61),e=a(35),m=a(106),h=a(101),k=a(9),p=a(102);b.exports=function(a,b,d){var n=0;if(b){var v=a["\u001e\u0192_wrapped_value"];a=h(a);n=k(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=v||!1}else a={$type:m,value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==
d)n=51;else if(null==n||0>=n)switch(typeof d){case "object":n=c(d)?50+d.length:51;break;case "string":n=50+d.length;break;default:n=51}b=p(a);"number"===typeof b&&b<e&&(a.$expires=f()+-1*b);a.$size=n;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,
d,a){var c=a(30),f=a(12);b.exports=function(a,b,d,k,p,n){var e=p;"number"!==typeof e&&(e=.75);p="number"===typeof n;var e=k*e,m,h,x;for(h=b.pop();h;)x=h.$size||0,d-=x,!0===p?f(h,x,a,n):(m=h["\u001e\u0192_parent"])&&c(h,m,h["\u001e\u0192_key"],a),h=b.pop();if(d>=k){for(h=b=a["\u001e\u0192_tail"];d>=e&&h;)b=b["\u001e\u0192_prev"],x=h.$size||0,d-=x,!0===p&&f(h,x,a,n),h=b;a["\u001e\u0192_tail"]=a["\u001e\u0192_prev"]=h;null==h?a["\u001e\u0192_head"]=a["\u001e\u0192_next"]=void 0:h["\u001e\u0192_next"]=
void 0}}},function(b,d,a){b.exports=function(a,b){var e=b["\u001e\u0192_prev"],c=b["\u001e\u0192_next"];c&&(c["\u001e\u0192_prev"]=e);e&&(e["\u001e\u0192_next"]=c);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=c);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=e)}},function(b,d,a){(function(c){function d(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(14),m=a(15),h=a(107).default;
b.exports=d;d.prototype[h]=function(){return this};d.prototype.operator=function(a){return this.subscribe(a)};d.prototype.subscribe=function(a,b,c){return new m([this.operator.call(this.source,a instanceof e?a:new e(a,b,c))])};d.prototype.then=function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],d=!1;e.subscribe({next:function(a){c[c.length]=a},error:function(a){d=!0;b(a)},complete:function(){!d&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(d,
a(36))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},
function(b,d){b.exports=1},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(68);d=a(7);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){var c=a(39),f=a(37),e=a(38);b.exports=function(a){return c(e(f(a)))}},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=a.$keys,d=-1,p=e.length;++d<p;){var n=e[d];if(null===n)b=""+f(""+b+"null");else{"object"===typeof n&&(n="{from:"+n.from+
",length:"+n.length+"}");var v=c(a[d]),b=void 0===v?""+f(""+b+n):""+f(""+b+n+v.$code)}}a.$code=b;return a}}var f=a(22);b.exports=c},function(b,d,a){function c(a,b,d,p){if(d===p)return!0;var m,k=-1,h=0,t=d+1,x,y,g;m=b[d];if(null===m)return a===e;a:do{if("object"!==typeof m)d=m,y=void 0,x=!1;else if(f(m)){if(void 0!==g)break a;k=0;g=m;h=m.length;if(0===h)break a;m=g[k];continue a}else{y=m.to;d=m.from||0;"number"!==typeof y&&(y=d+(m.length||0)-1);if(0>y-d)break a;x=!0}do if(t===p){if(null!==a[d])return!1}else if(m=
a[d],null===m||void 0===m||!1===c(m,b,t,p))return!1;while(x&&++d<=y);if(++k===h)break a;m=g[k]}while(1);return!0}var f=Array.isArray,e=a(5);b.exports=c},function(b,d,a){function c(a,b){return a.reduce(function(a,b){return e(b)?f(a,b,0,b.length):c(h(b),a)},b||{})}function f(a,b,c,d){if(c!==d){a=a||{};var h=a.$keys||(a.$keys=[]),p=a.$keysMap||(a.$keysMap={}),k,n=-1,g=0,l,u=c+1,q;k=b[c];if(null===k)return m;a:do{if("object"!==typeof k)l=k,"undefined"===typeof(c=p[l])&&(c=h.length),h[c]=l,p[l]=c,k=f(a[c],
b,u,d),void 0!==k&&(a[c]=k);else if(e(k)){if(void 0!==q)break a;n=0;q=k;g=k.length;if(0===g)break a;k=q[n];continue a}else{c=k.to;l=k.from||0;"number"!==typeof c&&(c=l+(k.length||0)-1);if(0>c-l)break a;k={from:l,length:c-l+1};l="{from:"+l+",length:"+(c-l+1)+"}";"undefined"===typeof(c=p[l])&&(c=h.length);h[c]=k;p[l]=c;k=f(a[c],b,u,d);void 0!==k&&(a[c]=k)}if(++n===g)break a;k=q[n]}while(1);return a}}var e=Array.isArray,m={$keys:[null],$keysMap:{"null":0}},h=a(21);b.exports=c},function(b,d,a){function c(a){a=
a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new p;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={__proto__:m.prototype});this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=
!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(95),e=a(70),m=a(7),h=a(69),k=a(99),p=a(57),n=a(54),v=a(9),z=a(2),t=a(59),x=a(11),y=a(60),g=a(19),l=a(18),u=a(24),q=a(79),w=a(25);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(this._seed||{__proto__:m.prototype},[])};c.prototype.set=
function(){return(new f("set",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:m.prototype},[])};c.prototype.preload=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,[])};c.prototype.call=function(){return(new f("call",this,Array.prototype.slice.call(arguments,0)))._toJSON({__proto__:m.prototype},[])};c.prototype.invalidate=function(){return(new f("invalidate",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,null).then()};c.prototype.deref=
a(89);c.prototype._hasValidParentReference=a(88);c.prototype.getValue=function(a){return this.get(a).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return this.set(b).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;
c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,e=this._path;this._path=[];this._node=this._root.cache={};"undefined"!==typeof b&&(n(c,c.expired,v(b),0),this._recycleJSON&&(this._seed={__proto__:m.prototype}));var d;y(a)?d=l(this,[a])[0]:t(a)?d=g(this,[a])[0]:z(a)&&(d=g(this,[{json:a}])[0]);d&&u(this,d,null,!1,!0);this._path=e}else"undefined"===
typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return q(this._root.cache);var b={},c=this._path;this._path=[];w(this,a,b);this._path=c;return b.jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=
new c(this);if(a)for(var e in a){var g=a[e];"delete"===g?delete b[e]:"_path"===e?(b[e]=g,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=g}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new k(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new k(1);return this._clone({_scheduler:b})};c.prototype.unbatch=function(){return this._clone({_scheduler:new p})};c.prototype.treatErrorsAsValues=
function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new h(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=
function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=x(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(80);c.prototype._getPathValuesAsPathMap=u;c.prototype._getPathValuesAsJSONG=w;c.prototype._setPathValues=a(32);c.prototype._setPathMaps=a(19);c.prototype._setJSONGs=
a(18);c.prototype._setCache=a(19);c.prototype._invalidatePathValues=a(29);c.prototype._invalidatePathMaps=a(46)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};
this.cache={};this.syncRefCount=this.version=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new e(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=
a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(104),e=a(96);c.prototype.errorSelector=function(a,b){return b};c.prototype.comparator=function(a,b){return f(a,"value")&&f(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=c},function(b,d,a){var c=a(24),f=a(25);
b.exports={json:function(a,b,d,f){var e=!1;if(!b)return{missing:!1,hasValue:!1};var m=[].concat(b[1]||[]),k=[].concat(b[2]||[]),h=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);f&&h&&h.length&&(e=c(a,h,d,f,!0).hasValue);return{data:d,missing:!0,hasValue:e,fragments:[b,m,k,h]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var k=[].concat(b[1]||[]),m=[].concat(b[2]||[]),h=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&h&&h.length&&(e=f({_root:a._root,_boxed:a._boxed,
_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},h,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,k,m,h]}}}},function(b,d,a){b.exports={json:a(41),jsonGraph:a(44)}},function(b,d,a){var c=a(10);b.exports=function(a,b,d,h,k,p){var e=-1;b+=!!k;k=Array(b);for(a=p?c(a):a.value;++e<b;)k[e]=h[e];(d.errors||(d.errors=[])).push({path:k,value:a})}},function(b,d,a){function c(a,b,e,d,l,m,t,G,H,D,E,F,K,N,L,M,T,X,R,I,J){var q,u;if(void 0===b||void 0!==(q=b.$type)||
void 0===d)return h[1]=!1,h[0]=v(b,q,e,d,l,m,t,G,l,H,D,E,K,N,L,M,T,X,R,I,k,f),h;var r,w,C;q="";var B,A,Q,Z=d.$keys,ha=l+1,U,Y,ca,aa,ea,ia=D+1,da,la;J&&F&&(la=F.value,da=F["\u001e\u0192_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(r=e["\u001e\u0192_meta"]){if(!(M||e instanceof n))w={},e=(w["\u001e\u0192_meta"]=r,w.__proto__=n.prototype,w);else if(r.version===b["\u001e\u0192_version"]&&r.$code===d.$code&&r.abs_path===b["\u001e\u0192_abs_path"])return t.hasValue=!0,h[0]=e,h[1]=!1,h;w=r.keys;
r.version=b["\u001e\u0192_version"];r.abs_path=b["\u001e\u0192_abs_path"];r.deref_to=la;r.deref_from=da}C={};var ma=-1,na=Z.length,fa,ka,ga=!1;a:for(;++ma<na;)if(Q=Z[ma],fa=d[ma],null===Q){if(void 0!==fa)throw new y;q=""+g(""+q+"null")}else{if("object"!==typeof Q)A=Q,U=void 0,Q=!1,ka=A;else{U=Q.to;A=Q.from||0;"number"!==typeof U&&(U=A+(Q.length||0)-1);if(0>U-A)break a;Q=!0;ka="{from:"+A+",length:"+(U-A+1)+"}"}do E=!1,Y=e&&e[A],ea=H,aa=ia,ca=F,B=b[A],G[l]=A,H[D]=A,B&&void 0!==fa&&B.$type===p&&!z(B,
L)&&(u=x(a,B,K,L),B=u[0],E=!0,ea=u[1],ca=u[2],aa=ea.length,u[0]=u[1]=u[2]=void 0),h=c(a,B,Y,fa,ha,m,t,G,ea,aa,E,ca,K,N,L,M,T,X,R,I,J),Y=h[0],ga=ga||h[1],m&&(void 0!==Y?(void 0===r&&(r={},r.version=b["\u001e\u0192_version"],r.abs_path=b["\u001e\u0192_abs_path"],r.deref_to=la,r.deref_from=da,e={},E={},e=M&&M((e["\u001e\u0192_meta"]=r,e.__proto__=n.prototype,e))||(E["\u001e\u0192_meta"]=r,E.__proto__=n.prototype,E)),C[A]=!0,w&&w.hasOwnProperty(A)&&(w[A]=!1),e[A]=Y):(ga=!0,e&&e.hasOwnProperty(A)&&delete e[A]));
while(Q&&++A<=U);ga||(q=void 0===fa?""+g(""+q+ka):""+g(""+q+ka+fa.$code))}ga&&(q="__incomplete__");if(r&&(r.$code=q,r.keys=C,w))for(A in w)w[A]&&delete e[A];h[0]=e;h[1]=ga;return h}function f(a,b,c,g,d,f,k,h,p,n,y,v){a=a?l(a):[[]];var q=g.slice(0,d),u=v?e(v):m;return a.reduce(function(a,e){d=b+e.length;return t(q.concat(e),b,c,g,d,f,k,h,p,a,y,u)},n)}function e(a){return function(b,c,e){return a(e=m(b,c,e))||e}}function m(a,b,c){c={version:0};c.abs_path=a.slice(0,b);a={};return a["\u001e\u0192_meta"]=
c,a.__proto__=n.prototype,a}var h=Array(2),k=a(43),p=a(0),n=a(7),v=a(28),z=a(1),t=a(27),x=a(42),y=a(8);a(33);var g=a(22),l=a(21);b.exports=c},function(b,d,a){function c(a,b,e,d,m,t,A,B,G,H,D,E,F,K,N,L,M,T,X,R,I,J){var l,q;if(void 0===b||(l=b.$type)||m===G)return v(b,l,e,d,m,t,A,B,G,H,D,E,K,N,L,M,T,X,R,I,k,f);var u,r,w,C=m+1,W,Q,Z,ha,U=-1,Y=0,ca,aa,ea=D+1,ia,da;w=d[m];if(null===w){if(C<G)throw new y;return e}J&&F&&(da=F.value,ia=F["\u001e\u0192_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(u=
e["\u001e\u0192_meta"])u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],u.deref_to=da,u.deref_from=ia;a:do{if("object"!==typeof w)l=w,W=void 0,w=!1;else if(h(w)){if(void 0!==Q)throw new g(d,Q);U=0;Q=w;Y=w.length;if(0===Y)break a;w=Q[U];continue a}else{W=w.to;l=w.from||0;"number"!==typeof W&&(W=l+(w.length||0)-1);if(0>W-l)break a;w=!0}do E=!1,Z=e&&e[l],aa=H,ca=ea,ha=F,r=b[l],B[m]=l,H[D]=l,r&&C<G&&r.$type===p&&!z(r,L)&&(q=x(a,r,K,L),r=q[0],E=!0,aa=q[1],ha=q[2],ca=aa.length,
q[0]=q[1]=q[2]=void 0),Z=c(a,r,Z,d,C,t,A,B,G,aa,ca,E,ha,K,N,L,M,T,X,R,I,J),void 0!==Z&&(void 0===u&&(u={},u.version=b["\u001e\u0192_version"],u.abs_path=b["\u001e\u0192_abs_path"],u.deref_to=da,u.deref_from=ia,e={},E={},e=M&&M((e["\u001e\u0192_meta"]=u,e.__proto__=n.prototype,e))||(E["\u001e\u0192_meta"]=u,E.__proto__=n.prototype,E)),e[l]=Z);while(w&&++l<=W);if(++U===Y)break a;w=Q[U]}while(1);return e}function f(a,b,c,d,g,f,k,h,p,n,y,v){v=v?e(v):m;return t(a,b,c,d,g,f,k,h,p,n,y,v)}function e(a){return function(b,
c,e){return a(e=m(b,c,e))||e}}function m(a,b,c){c={version:0};c.abs_path=a.slice(0,b);a={};return a["\u001e\u0192_meta"]=c,a.__proto__=n.prototype,a}var h=Array.isArray,k=a(43),p=a(0),n=a(7),v=a(28),z=a(1),t=a(27),x=a(42),y=a(8),g=a(33);b.exports=c},function(b,d,a){var c=Array(2),f=a(10),e=a(0),m=a(26),h=a(13),k=a(1),p=a(6),n=a(52);b.exports=function(a,b,d,x,y){h(d,b);var g,l,u=0,q=a,w=b.value,r=w,t=w.length;do{if(0===u&&void 0!==(g=b["\u001e\u0192_context"]))q=g,u=t;else if(l=w[u++],void 0===(q=
q[l]))break;if(u===t){l=q.$type;if(void 0!==l&&k(q,y))break;else{if(q===b)throw new n(w);q!==g&&p(b,q)}if(l===e)h(d,q),x&&m(f(q),w,t,x),u=0,b=q,q=a,w=r=b.value,t=w.length;else break}else if(void 0!==q.$type)break}while(1);u<t&&void 0!==q&&(t=u);u=-1;for(w=Array(t);++u<t;)w[u]=r[u];c[0]=q;c[1]=w;return c}},function(b,d,a){var c=a(10),f=a(0),e=a(16),m=a(26),h=a(5);b.exports=function(a,b,d,v,z,t,x,y,g,l,u){var k=a&&a.value;if(b&&void 0===k)if(u)k=h;else return;else if(l||f===b||e===b||!a["\u001e\u0192_wrapped_value"]||
"object"===typeof k)k=c(a);v&&(z.hasValue=!0,m(k,x,y,v),(v.paths||(v.paths=[])).push(t.slice(0,d+!!g)));return k}},function(b,d,a){function c(a,b,d,g,r,z,A,B,G,H,D,E,F,K,N,L,M,T){var l,q;if(void 0===b||(l=b.$type)||g===B)return n(b,l,r,d,g,r,z,A,B,G,H,D,E,F,K,void 0,N,L,M,T,k,f);var u,w,C=g+1,O,P,V=-1,ba=0,ja,W,Q=H+1;D=d[g];if(null===D){if(C<B)throw new x;}else{a:do{if("object"!==typeof D)l=D,O=void 0,w=!1;else if(e(D)){if(void 0!==P)throw new y(d,P);V=0;P=D;ba=D.length;if(0===ba)break a;D=P[V];continue a}else{O=
D.to;l=D.from||0;"number"!==typeof O&&(O=l+(D.length||0)-1);if(0>O-l)break a;w=!0}do D=!1,W=G,ja=Q,u=b[l],A[g]=l,G[H]=l,u&&C<B&&u.$type===h&&!v(u,K)&&(r&&p(m(u),G,ja,r),q=t(a,u,E,r,K),u=q[0],D=!0,W=q[1],ja=W.length,q[0]=q[1]=void 0),c(a,u,d,C,r,z,A,B,W,ja,D,E,F,K,N,L,M,T);while(w&&++l<=O);if(++V===ba)break a;D=P[V]}while(1)}}function f(a,b,c,e,d,f,k,m,h,n,y,t){var l;n&&y&&((n.paths||(n.paths=[])).push((t=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),l=p(t&&g||void 0,k,m,n,!t));
return z(a,b,c,e,d,f,k,m,h,l,y)}var e=Array.isArray,m=a(10),h=a(0),k=a(77),p=a(26),n=a(28),v=a(1),z=a(27),t=a(76),x=a(8),y=a(33),g=a(5);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!f(b))&&void 0!==a[b]}).forEach(function(e){var d=a[e],m=b[e];m||(m=b[e]={});if(d.$type){m=!d["\u001e\u0192_wrapped_value"];if(d.value&&"object"===typeof d.value||m){var m={},k=Object.keys(d),h,t,x;t=0;for(x=k.length;t<x;t++)h=k[t],"$type"!==
h&&f(h)||(m[h]=d[h]);d=m}else d=d.value;b[e]=d}else c(d,m,e)})}var f=a(20);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(17);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){var c=Array.isArray,f=a(105),e=a(59),m=a(60);b.exports=function(a){for(var b=[],d=-1,h=a.length,v,z,t,x;++d<h;)t=a[d],c(t)?(t={path:t},x="PathValues"):f(t)?x="PathValues":m(t)?x="JSONGraphs":e(t)&&(x="PathMaps"),z!==x&&(z=x,b.push(v={arguments:[],
inputType:x})),v.arguments.push(t);return b}},function(b,d,a){function c(a,b,c,d,p){f(a,b,p);return{}}var f=a(29);a(46);b.exports={json:c,jsonGraph:c}},function(b,d,a){var c=a(0),f=a(16),e=a(9),m=a(58),h=a(51),k=a(1),p=a(45),n=a(3),v=a(49),z=a(48),t=a(12);b.exports=function(a,b,d,l,u,q,w,r,C,A,B,G){var g,x,y,F,K,N;if(b===d){if(null===d)return b=h(d,void 0,d),a=t(a,-b.$size,C,w),b=p(b,a,l,void 0,q);if(void 0===d)return d;if(y=!(!b||"object"!==typeof b))if(g=b.$type,null==g)return null==b["\u001e\u0192_parent"]&&
p(b,a,l,w,q),b}else if(y=!(!b||"object"!==typeof b))g=b.$type;if(g!==c){if(F=!(!d||"object"!==typeof d))x=d.$type;if(y&&!g&&(null==d||F&&!x))return b}else{if(null==d){if(k(b,G)){n(b,r,C);return}return b}if(F=!(!d||"object"!==typeof d))if(x=d.$type,x===c)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(K=b.$timestamp,N=d.$timestamp,!k(b,G)&&!k(d,G)&&N<K)return}if(g&&F&&!x)return p(v(b,d,a,l,C,w),a,l,void 0,q);x||!F?(x===f&&B&&(d=B(z(u,l),d)),x&&b===d?null==b["\u001e\u0192_parent"]&&(b=
h(b,g,b.value),a=t(a,-b.$size,C,w),b=p(b,a,l,w,q)):(u=!0,(g&&!k(b,G)||!y)&&(u=!1===m(d)<m(b))&&(g||x)&&A&&(u=!A(b,d,q.slice(0,q.index))),u&&(d=h(d,x,x?d.value:d),A=e(b)-e(d),b=v(b,d,a,l,C,w),a=t(a,A,C,w),b=p(b,a,l,w,q))),k(b,!0)&&n(b,r,C)):null==b&&(b=p(d,a,l,void 0,q));return b}},function(b,d,a){function c(a,c){for(var e=-1,d=c.length,m=[],k=[],n=a._root.errorSelector;++e<d;){var g=c[e],l=g.inputType,g=g.arguments;if(0<g.length){var p=(0,b.exports["set"+l])(a,g,n,null,!1);k.push.apply(k,p[1]);"PathValues"===
l?m.push.apply(m,g.map(f)):"JSONGraphs"===l?m.push.apply(m,h(g,f)):m.push.apply(m,p[0])}}return{optimized:k,relative:m}}function f(a){return a.path||a.paths}var e=a(24),m=a(25),h=a(100),k=a(81);b.exports={json:function(a,b,d,f,h){b=k(b);var n=c(a,b),p=f&&e(a,n.relative,d,f,h);a=m({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},n.optimized,{},f,h);return{args:b,data:d,fragments:a.data,missing:a.data.paths,relative:n.relative,error:p&&p.error,errors:p&&p.errors,
requested:a.requested,hasValue:p&&p.hasValue}},jsonGraph:function(a,b,e,d,f){b=k(b);var h=c(a,b);a=m({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},h.optimized,e,d,f);return{args:b,data:e,error:a.error,fragments:a.data,missing:a.data.paths,relative:h.relative,hasValue:a.hasValue,requested:a.requested}},setPathMaps:a(19),setPathValues:a(32),setJSONGraphs:a(18)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||0,d=b["\u001e\u0192_refs_length"]||
0,f=-1;++f<c;){var k=a["\u001e\u0192_ref"+f];void 0!==k&&(k["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(d+f)]=k,a["\u001e\u0192_ref"+f]=void 0)}b["\u001e\u0192_refs_length"]=c+d;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var d=a["\u001e\u0192_ref"+b];null!=d&&(d["\u001e\u0192_context"]=d["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=void 0;return a}},function(b,
d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,d=(b["\u001e\u0192_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=d;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&a["\u001e\u0192_invalidated"]?
!1:!0:!0}},function(b,d,a){var c=a(0),f=a(7),e=a(11),m=a(91);b.exports=function(a){if(!a||"object"!==typeof a)throw new m;var b,d,h,v;h=a&&a["\u001e\u0192_meta"];if(!h||"object"!==typeof h)return this._clone({_node:void 0});var z=this._recycleJSON,t=h.abs_path;if(!t)return this._clone({_node:void 0,_seed:z&&{json:a,__proto__:f.prototype}||void 0});if(0===t.length)return this._clone({_path:t,_node:this._root.cache,_referenceContainer:!0,_seed:z&&{json:a,__proto__:f.prototype}||void 0});var x=h.deref_to;
d=h.deref_from;var y=this._root.cache,g=e(y,t),l="e";if(d){l=!1;h=-1;v=d.length;for(b=y;++h<v&&(b=b[d[h]],b&&!b.$type););if(x&&b&&b.$type===c){h=0;v=x.length;d=b.value;for(l=!0;l&&h<v;++h)d[h]!==x[h]&&(l=!1);!1===l&&(g=void 0)}}l?"e"===l&&(b=!0):b=!1;return this._clone({_node:g,_path:t,_referenceContainer:b,_seed:z&&{json:a,__proto__:f.prototype}||void 0})}},function(b,d,a){d=a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},
function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",
function(a,b,d,h){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(h&&"optimized: [\n\t"+c(h)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){function c(a,b,c){p.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,e,d){this.data=a;this.errors=b;this.operation=c;this.progressive=e;this.maxRetryCount=d}function e(a,
b,c,e,d,f){n.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=e;this.progressive=d;this.maxRetryCount=f}function m(a,b,c,e){"jsonGraph"===b&&a.paths&&(a.paths=t(a.paths));try{++c.syncRefCount,e.onNext(a)}catch(w){throw w;}finally{--c.syncRefCount}}function h(a,b){try{throw b;}catch(u){n.prototype.onError.call(a,u)}}function k(a,b){for(var c,e,d,g=Object.keys(b),f=-1,l=g.length;++f<l;)d=g[f],"\u001e\u0192_meta"===d?a["\u001e\u0192_meta"]=b["\u001e\u0192_meta"]:
(e=b[d],c=a[d],c!==e&&(e&&"object"===typeof e?void 0===c?a[d]=e:k(c,e):void 0===c&&(a[d]=e)));return a}var p=a(56),n=a(14),v=a(54),z=a(7),t=a(64),x=a(53),y=a(93);b.exports=c;c.prototype=Object.create(p.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.operator=a;b.type=this.type;b.model=this.model;b._args=this._args;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});
a.onCompleted();return a};c.prototype._toJSON=function(a,b){a=void 0===a?{__proto__:z.prototype}:a;return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=function(a,b){a=void 0===a?{__proto__:z.prototype}:a;return this.lift(new f(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,
this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,this.operation,this.progressive))};e.prototype=Object.create(n.prototype);e.prototype.operations={get:a(72),set:a(84),call:a(71),invalidate:a(82)};e.prototype.next=e.prototype.onNext=function(a){if(this.started){var b,
c=a.type;a=a.args||a.paths;var e=this.data,d=this.model,g=this.errors,f,n=this.hasValue,p=this.operation,t=this.progressive,v=t&&e;v&&(e={__proto__:z.prototype});if(a&&a.length){f=this.operations[c][p](d,a,e,t||!d._source,-1===this.retryCount);if(f.error)return h(this,f.error);g&&f.errors&&g.push.apply(g,f.errors);if(b=f.fragments)a=f.args,this.fragments=b;this.relative=f.relative;this.requested=f.requested;this.missing=b=f.missing;this.hasValue=n||(n=f.hasValue)}this.completed=!b||!d._source;"set"!==
c&&(this.args=a,v&&(this.data=k(e,this.data)));t&&n&&e&&(e.json||e.jsonGraph)&&m(e,p,d._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount};e.prototype.error=e.prototype.onError=function(a){if(a instanceof x)return n.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){var b,c;if(!this.started&&(this.started=
!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&m(b,this.operation,this.model._root,this.destination),b=this.errors,c||a||b&&b.length?h(this,b.length&&b||a):n.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return h(this,new y(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,
this.missing,this.relative,this.fragments).subscribe(this)};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;n.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&v(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},
function(b,d,a){function c(a){k.call(this,[]);this.modelRoot=a}function f(a,b,c,e,d){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=e;this.optimized=d}var e=a(56),m=a(97),h=a(14),k=a(15),p=a(57);b.exports=c;c.prototype=Object.create(k.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=new m("set",f,a._source,new p);e=g.subscribe(new h(e,g));f.add(g);g.data=d.jsonGraph;g.requested.push(c);g.optimized.push(b);g.connect();return e})};c.prototype.call=
function(a,b,c,d){var f=this;return new e(function(b){var c=new m("call",f,a._source,new p);b=c.subscribe(new h(b,c));f.add(c);c.data=d;c.connect();return b})};c.prototype.get=function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,e=this.requested,d=this.optimized,f=this.scheduler,g=-1,l=b.subscriptions,p=l.length,q=new k([],a);++g<p;){var n=l[g];if("get"===n.type&&((n=n.batch(e,d,e=[],d=[]))&&q.add(n.subscribe(new h(a,
n))),!d.length))break}d.length&&(n=l[g]=(new m("get",b,c,f)).batch(e,d),q.add(n.subscribe(new h(a,n))),n.connect());return q}},function(b,d,a){function c(a,b,c,e){m.call(this,[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=e}function f(){this.active=!0;var a,b=this.paths=z(this.tree=x(this.optimized.reduce(function(a,b){return t(b,a)},{})));try{switch(this.type){case "get":a=
this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=a.subscribe(this)}catch(u){this.disposable={},m.prototype.onError.call(this,new k(u))}}var e=Array.isArray,m=a(98),h=a(16);a(14);a(15);var k=a(53),p=a(18),n=a(32),v=a(29),z=a(39),t=a(37),x=a(38),y=a(66);b.exports=c;c.prototype=Object.create(m.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=this.parent;
if(b){var c=a,d=0,f=0;if(e(a)){if(0>=(f=a.length))return;c=a[0]}!1===this.responded&&(this.responded=!0,b.remove(this));do{var g=c.jsonGraph,h=this.requested,m=b.modelRoot,k=c.invalidated,n=c.paths||this.paths;k&&k.length&&v({_root:m,_path:[]},k,!1);n&&n.length&&g&&"object"===typeof g&&p({_root:m},[{paths:n,jsonGraph:g}],m.errorSelector,m.comparator,!1)}while(++d<f&&(c=a[d]));this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:h[b]||n})})}};c.prototype.error=c.prototype.onError=
function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:h,value:{message:a.message}}:a.$type===h&&a||{$type:h,value:a};var b=b.modelRoot,c=z(x(this.requested.reduce(function(a,b){return t(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&n({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);m.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});
m.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=
null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();m.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,e){if(this.active){for(var d=[],f=[],g=this.tree,m=-1,h=-1,k=-1,l=b.length,n=a.length-1;++m<l;){var p=b[m],q=p.length,t=g[q];t&&y(t,p,0,q)?(f[++k]=p,d[k]=a[m<n?m:n]):(e[++h]=p,c[h]=a[m<n?m:n])}return~k?(this.requested.push(d),
this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(14),e=a(15);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);
this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d){b.exports=function(a,b){for(var c=-1,e=-1,d=a.length,h=[];++e<
d;)for(var k=b(a[e],e,a),p=-1,n=k.length;++p<n;)h[++c]=k[p];return h}},function(b,d,a){var c=Array.isArray,f=a(34);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},e;for(e in a)f(e)||(b[e]=a[e])}return b}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(2);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=a(2),f=Object.prototype.hasOwnProperty;b.exports=function(a,b){return c(a)&&
f.call(a,b)}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d){b.exports="atom"},function(b,d,a){b.exports=a(108)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(109),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(36),a(110)(b))},function(b,d){Object.defineProperty(d,
"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);
return a}},function(b,d,a){b.exports=a(63)}])});
//# sourceMappingURL=falcor.all.min.js.map
