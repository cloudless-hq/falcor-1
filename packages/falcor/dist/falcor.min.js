(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=108)}([function(b,d){b.exports="ref"},function(b,d,a){var c=a(58),f=a(32),e=a(59);b.exports=function(a,n){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?n:a<c()}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){var c=a(52);b.exports=function(a,e,
k){a["\u001ef_invalidated"]||(a["\u001ef_invalidated"]=!0,e.push(a),c(k,a));return a}},function(b,d){b.exports={$type:"atom"}},function(b,d,a){b.exports=function(a,f){var c=f["\u001ef_refs_length"]||0;f["\u001ef_ref"+c]=a;f["\u001ef_refs_length"]=c+1;a["\u001ef_ref_index"]=c;a["\u001ef_context"]=f}},function(b,d){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);
a.prototype.name="NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){b.exports=function(a){for(var c,e=Object.keys(a),k={},n=-1,b=e.length;++n<b;)c=e[n],"\u001e"!==c.charAt(0)&&(k[c]=a[c]);return k}},function(b,d,a){function c(a,k){var e=a,b,p=0,q=k.length;if(0<q){do for(e=e[k[p]];e&&(b=e.$type)===f;)e=c(a,e.value);while(++p<q&&e&&!b)}return e}var f=a(0);b.exports=c},function(b,
d,a){var c=a(28),f=a(47);b.exports=function(a,k,b,m){var e=a;do{var q=e["\u001ef_parent"];0>=(e.$size=(e.$size||0)-k)&&null!=q?c(e,q,e["\u001ef_key"],b):e["\u001ef_version"]!==m&&f(e,m);e=q}while(e);return a}},function(b,d,a){var c=a(59);b.exports=function(a,e){if(e.$expires!==c){var k=a["\u001ef_head"];if(!k)a["\u001ef_head"]=a["\u001ef_tail"]=e;else if(k!==e){var f=e["\u001ef_prev"],b=e["\u001ef_next"];b&&(b["\u001ef_prev"]=f);f&&(f["\u001ef_next"]=b);e["\u001ef_prev"]=void 0;a["\u001ef_head"]=
e;e["\u001ef_next"]=k;k["\u001ef_prev"]=e;e===a["\u001ef_tail"]&&(a["\u001ef_tail"]=f)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),this.destination={error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(13);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var c=this.destination;if(c)if(c.onNext)c.onNext(a);
else c.next&&c.next(a)};c.prototype.error=c.prototype.onError=function(a){var c=this.destination;if(c){if(c.onError)c.onError(a);else c.error&&c.error(a);this.dispose()}else throw this.dispose(),a;};c.prototype.complete=c.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,
f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d){b.exports="error"},function(b,d,a){var c=a(9);b.exports=
function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001ef_parent"]||f["\u001ef_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){function c(a,e,g,l,k,b,q,r,n,p,m,y,d,H,D,E,G,J){var h={},x=e<a.length-1,v=a[e],u=w(v,h),z=y.index;do{m.depth=e;var t=f(g,l,k,b,q,r,u,x,!1,m,y,d,H,D,E,G,J);m[e]=u;m.index=e;var B=t[0],C=t[1],A=t[4];A[A.index++]=u;B&&(x?c(a,e+1,g,C,B,b,t[3],t[2],n,p,m,A,d,H,D,E,G,J):(n.push(m.slice(0,
m.index+1)),p.push(A.slice(0,A.index))));u=w(v,h);if(h.done)break;y.index=z}while(1)}function f(a,c,g,l,b,z,v,r,t,B,w,d,F,H,D,E,G){for(t=g.$type;t===k;){a:{c=a;b=l;w=B;var h=d,x=F,u=H,C=D,A=E,S=G,Q,I,O=g.value;t=O.slice(0);if(n(g,S))m(g,x,u),g=void 0,Q=c,I=b,t.index=O.length;else{var U=0,N=g,T=O.length-1;Q=g=c;I=z=b;do{var Y=O[U],ba=U<T;t.index=U;I=f(c,Q,g,b,I,z,Y,ba,!0,w,t,h,x,u,C,A,S);g=I[0];t=I[4];if(!g||"object"!==typeof g){t.index=U;w=I;break a}Q=I[1];z=I[2];I=I[3]}while(U++<T);t.index=U;N["\u001ef_context"]!==
g&&p(N,g)}e[0]=g;e[1]=Q;e[2]=z;e[3]=I;e[4]=t;w=e}g=w[0];if(!g||"object"!==typeof g)return w;c=w[1];z=w[2];b=w[3];w=w[4];t=g.$type}if(void 0===t){if(null==v){if(r)throw new y;g&&(v=g["\u001ef_key"])}else c=g,b=z,g=c[v],z=b&&b[v];g=q(c,g,z,v,B,w,d,F,H,D,E,G)}e[0]=g;e[1]=c;e[2]=z;e[3]=b;e[4]=w;return e}var e=Array(5),k=a(0),n=a(1),m=a(3),p=a(5),q=a(80),y=a(6),w=a(20);b.exports=function(a,f,g,l,k){var h=a._root,b=h.expired,r=h.version++,q=h.cache;a=q["\u001ef_version"];for(var x=[],n=[],p=[],u=[],m=-1,
y=f.length;++m<y;)for(var w=f[m],d=w.paths,w=w.jsonGraph,J=-1,L=d.length;++J<L;){var K=d[J];n.index=0;c(K,0,q,q,q,w,w,w,p,u,x,n,r,b,h,l,g,k)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=q["\u001ef_version"];(g=h.onChange)&&a!==f&&g();return[p,u]}},function(b,d,a){function c(a,e,l,b,q,n,r,p,u,m,y,w,d,D,E){var g;if(a&&"object"===typeof a&&!a.$type){g=[];var h=0;k(a)&&(g[h++]="length");for(var x in a)"\u001e"!==x[0]&&"$"!==x[0]&&(g[h++]=x)}else g=void 0;if(g&&g.length){h=0;x=g.length;
var v=u.index;do{var z=g[h],t=a[z],B=!(!t||"object"!==typeof t)&&!t.$type;p.depth=e;var C=f(l,b,q,z,t,B,!1,p,u,m,y,w,d,D,E);p[e]=z;p.index=e;var A=C[0],F=C[1],C=C[2];C[C.index++]=z;A&&(B?c(t,e+1,l,F,A,n,r,p,C,m,y,w,d,D,E):(n.push(p.slice(0,p.index+1)),r.push(C.slice(0,C.index))));if(++h>=x)break;u.index=v}while(1)}}function f(a,c,l,k,b,v,r,y,B,d,A,F,H,D,E){for(var g=l.$type;g===n;){a:{c=b;B=a;var g=y,h,x=d,z=A,t=F,C=H,S=D,Q=E,I,O=l.value;h=O.slice(0);if(m(l,Q))p(l,z,t),l=void 0,I=B,h.index=O.length;
else{var U=l;l=l["\u001ef_context"];if(null!=l)I=l["\u001ef_parent"]||B,h.index=O.length;else{var N=0,T=O.length-1;h.index=N;I=l=B;do{I=f(B,I,l,O[N],c,N<T,!0,g,h,x,z,t,C,S,Q);l=I[0];h=I[2];if(!l||"object"!==typeof l){h.index=N;B=I;break a}I=I[1]}while(N++<T);h.index=N;U["\u001ef_context"]!==l&&q(U,l)}}e[0]=l;e[1]=I;e[2]=h;B=e}l=B[0];if(!l||"object"!==typeof l)return B;c=B[1];B=B[2];g=l&&l.$type}if(void 0===g){if(null==k){if(v)throw new w;l&&(k=l["\u001ef_key"])}else c=l,l=c[k];l=u(c,l,k,b,v,r,y,B,
d,A,F,H,D,E)}e[0]=l;e[1]=c;e[2]=B;return e}var e=Array(3),k=Array.isArray,n=a(0),m=a(1),p=a(3),q=a(5),y=a(9),w=a(6),u=a(44);b.exports=function(a,g,l,f,k){var h=a._root,b=h.expired,q=h.version++,x=a._path,p=h.cache,n=y(p,x),u=n["\u001ef_parent"]||p;a=p["\u001ef_version"];for(var m=[],z=[],w=[],d=x.length,J=-1,L=g.length;++J<L;){var K=g[J],M=x.slice(0);M.index=d;c(K.json,0,p,u,n,z,w,m,M,q,b,h,f,l,k)}e[0]=void 0;e[1]=void 0;e[2]=void 0;g=p["\u001ef_version"];(h=h.onChange)&&a!==g&&h();return[z,w]}},
function(b,d){function a(c,f,e){e=e||[];f=f||[];for(var k=[],b=c.$keys,m=b.length,p=-1;++p<m;){var q=c[p],y=b[p];q?a(q,f,e.concat([y])):k.push(y)}1===k.length?f.push(e.concat(k)):1<k.length&&f.push(e.concat([k]));return f}b.exports=a},function(b,d){b.exports=function(a){for(var c=5381,f=a.length;f;)c=33*c^a.charCodeAt(--f);return c>>>0}},function(b,d){function a(a,c){var e=c.from=a.from||0;a=c.to=a.to||"number"===typeof a.length&&c.from+a.length-1||0;c.rangeOffset=c.from;c.loaded=!0;e>a&&(c.empty=
!0)}var c=Array.isArray;b.exports=function(f,e){if(void 0===e.isArray){e.done=!1;var k=e.isObject=!(!f||"object"!==typeof f);e.isArray=k&&c(f);e.arrayOffset=0}if(e.isArray){var b;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=f.length){e.done=!0;break}k=f[e.arrayOffset];"object"===typeof k?(e.loaded||a(k,e),e.empty||(b=e.rangeOffset++)):(++e.arrayOffset,b=k)}while(void 0===b);return b}if(e.isObject){e.loaded||a(f,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=
!0;return f}},function(b,d,a){(function(a){function c(a){this["\u001ef_metadata"]=a||{}}function e(c){if(typeof c===q){if(1!==arguments.length)return c;c=this}else if(!c)c=this;else if(c===a)return;var f=n(c,e);f["\u001ef_metadata"]&&delete f["\u001ef_metadata"];return f}function k(e,f){var b=arguments.length;e=0===b?this:e;if(!e||typeof e!==p)return e;if(e===a)return{};var b=n(e,0<b&&f||k),h=b["\u001ef_metadata"];h&&(delete b["\u001ef_metadata"],h.version=e["\u001ef_metadata"].version,b.__proto__=
new c(h));return b}function n(c,e){var f=arguments.length;c=0===f?this:c;if(!c||typeof c!==p)return c;if(c===a)return{};var h,g,l,k;e=0<f&&e||n;if(m(c))for(f=-1,h=c.length,k=Array(h);++f<h;)k[f]=c[f];else{k={};f=-1;g=c["\u001ef_metadata"];l=Object.keys(c);h=l.length;if(g){var b=g.$code,q=g.abs_path,r=g.deref_to,t=g.deref_from;k["\u001ef_metadata"]=g={};b&&(g.$code=b);q&&(g.abs_path=q);r&&(g.deref_to=r);t&&(g.deref_from=t)}for(;++f<h;)g=l[f],"\u001ef_metadata"!==g&&(k[g]=e(c[g],e))}return k}c.prototype=
Object.create(Object.prototype,Object.assign({toJSON:{value:e},toProps:{value:k},serialize:{value:n},$__hash:{enumerable:!1,get:function(){var a=this["\u001ef_metadata"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001ef_metadata"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,
c){var e=Array.prototype[c];a[c]={writable:!0,enumerable:!1,value:function(){return e.apply(this,arguments)}};return a},{})));var m=Array.isArray,p="object",q="string";b.exports=c}).call(d,a(33))},function(b,d,a){b.exports=a(38)},function(b,d,a){b.exports=a(41)},function(b,d){b.exports=function(a,c,f,e,k){var b=0,m;m=e.jsonGraph;m||(e.jsonGraph=m={});do{e=c[b++];if(b>=f){m=m[e]=!0!==k?a:m[e]||{};break}m=m[e]||(m[e]={})}while(1);return m}},function(b,d,a){var c=Array.isArray,f=a(37).pathToTree,e=a(4);
b.exports=function(a,b,m,p,q,y,w,u,h,g,l,x){if(h||l){for(var k,n=-1,r=(y=q-b)&&Array(y)||void 0;++n<y;){k=a[n+b];var t;t=k;if("object"!==typeof t||null===t)t=!1;else if(c(t))t=0===t.length;else{var B=t.to,d=t.from||0;"number"!==typeof B&&(B=d+(t.length||0));t=d>=B}if(t)return;r[n]=k}var A;a=null===k;k=h;var F;h?(t=q,B=p,F=m.requested||(m.requested=[])):(b=u,B=w,t=u+y-Number(a));do{if(y<q||!k){p=-1;n=b;for(A=Array(t);++p<n;)A[p]=B[p];for(n=-1;p<t;)A[p++]=r[++n]}if(k=!k){h&&(F[F.length]=A);break}F[F.length]=
A||r;b=u;B=w;F=m.missing||(m.missing=[]);t=u+y-Number(a)}while(1);if(l)return 0===y?e:f(g,A,b,t,e,x)}}},function(b,d,a){var c=a(1),f=a(3),e=a(11);b.exports=function(a,b,m,p,q,d,w,u,h,g,l,x,z,v,r,t,B,C,A,F,H,D){var k=C;if(!a||!b)return C&&(k=!0,d&&(w.hasValue=!0)),D(p,q,w,u,h,x,g,l,A,m,k,t);if(c(a,r))return a["\u001ef_invalidated"]||f(a,v,z),D(p,q,w,u,h,x,g,l,A,m,k,t);e(z,a);if(d)return x&&(u[q]=null),H(a,b,q,d,w,u,g,l,x,B,C,F)}},function(b,d,a){function c(a,b,k,q,r,p,m,n,d){var l={},x=b<a.length-
1,z=a[b],v=u(z,l);do{e=f(k,q,r,v,x,!1,p,m,n,d);var t=e[0],B=e[1];t&&(x?c(a,b+1,k,B,t,p,m,n,d):g(t,B,v,n)&&h(B,y(t),n,p));v=u(z,l)}while(!l.done)}function f(a,c,g,b,h,n,u,d,y,F){for(n=g.$type;n===k;){a:{c=a;n=u;var l=d,r=y,x=F;if(m(g,x))p(g,l,r),e[0]=void 0,e[1]=c;else{q(r,g);var v=g,t=g.value,B;g=g["\u001ef_context"];if(null!=g)B=g["\u001ef_parent"]||c;else{var z=0,C=t.length-1;B=g=c;do{e=f(c,B,g,t[z],z<C,!0,n,l,r,x);g=e[0];if(!g&&"object"!==typeof g)break a;B=e[1]}while(z++<C);v["\u001ef_context"]!==
g&&w(v,g)}e[0]=g;e[1]=B}}g=e[0];if(!g&&"object"!==typeof g)return e;c=e[1];n=g.$type}if(void 0!==n)return[g,c];if(null==b){if(h)throw Error("`null` is not allowed in branch key positions.");}else c=g,g=c[b];e[0]=g;e[1]=c;return e}var e=Array(2),k=a(0),n=a(15),m=a(1),p=a(3),q=a(11),y=a(7),w=a(5),u=a(20),h=a(10),g=a(29);b.exports=function(a,g,f){var l=a._root,b=l.expired,k=l.version++,h=l.cache,q=n(a),p=q["\u001ef_parent"]||h;a=h["\u001ef_version"];for(var m=-1,x=g.length;++m<x;)c(g[m],0,h,p,q,k,b,
l,f);e[0]=void 0;e[1]=void 0;g=h["\u001ef_version"];(l=l.onChange)&&a!==g&&l()}},function(b,d,a){var c=a(0),f=a(52),e=a(83),k=a(84);b.exports=function(a,b,p,q){if(a&&"object"===typeof a){var m=a.$type;m&&(m===c&&k(a),f(q,a));e(a);b[p]=a["\u001ef_parent"]=void 0;return!0}return!1}},function(b,d,a){var c=a(28);b.exports=function e(a,b,m,p){if(c(a,b,m,p)){if(null==a.$type)for(var k in a)"\u001e"!==k[0]&&"$"!==k[0]&&e(a[k],a,k,p);return!0}return!1}},function(b,d,a){function c(a,g,e,b,k,q,r,p,m,n,u,d,
y,D,E,G){var l={},h=e<g.length-1,x=g[e],t=w(x,l),v=n.index;do{m.depth=e;m[e]=t;m.index=e;var z=f(b,k,q,t,a,h,!1,m,n,u,d,y,D,E,G);m[e]=t;m.index=e;var B=z[0],C=z[1],z=z[2];z[z.index++]=t;B&&(h?c(a,g,e+1,b,C,B,r,p,m,z,u,d,y,D,E,G):(r.push(m.slice(0,m.index+1)),p.push(z.slice(0,z.index))));t=w(x,l);if(l.done)break;n.index=v}while(1)}function f(a,c,l,b,q,v,r,t,d,w,A,F,H,D,E){for(var g=l.$type;g===k;){a:{c=q;d=a;var g=t,h,x=w,z=A,B=F,C=H,S=D,Q=E,I,O=l.value;h=O.slice(0);if(n(l,Q))m(l,z,B),l=void 0,I=d,
h.index=O.length;else{var U=l;l=l["\u001ef_context"];if(null!=l)I=l["\u001ef_parent"]||d,h.index=O.length;else{var N=0,T=O.length-1;I=l=d;do{var Y=O[N],ba=N<T;h.index=N;I=f(d,I,l,Y,c,ba,!0,g,h,x,z,B,C,S,Q);l=I[0];h=I[2];if(!l||"object"!==typeof l){h.index=N;d=I;break a}I=I[1]}while(N++<T);h.index=N;U["\u001ef_context"]!==l&&p(U,l)}}e[0]=l;e[1]=I;e[2]=h;d=e}l=d[0];if(!l||"object"!==typeof l)return d;c=d[1];d=d[2];g=l.$type}if(!v||void 0===g){if(null==b){if(v)throw new y;l&&(b=l["\u001ef_key"])}else c=
l,l=c[b];l=u(c,l,b,q,v,r,t,d,w,A,F,H,D,E)}e[0]=l;e[1]=c;e[2]=d;return e}var e=Array(3),k=a(0),n=a(1),m=a(3),p=a(5),q=a(9),y=a(6),w=a(20),u=a(44);b.exports=function(a,g,l,b,f){var h=a._root,k=h.expired,p=h.version++,m=a._path,n=h.cache,x=q(n,m),u=x["\u001ef_parent"]||n;a=n["\u001ef_version"];for(var d=[],z=[],w=[],y=m.length,J=-1,L=g.length;++J<L;){var K=g[J],M=K.path,K=K.value,R=m.slice(0);R.index=y;c(K,M,0,n,u,x,z,w,d,R,p,k,h,b,l,f)}e[0]=void 0;e[1]=void 0;e[2]=void 0;g=n["\u001ef_version"];(h=h.onChange)&&
a!==g&&h();return[z,w]}},function(b,d){function a(a,b){a=Error.call(this,"The KeySet "+JSON.stringify(b)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");a.name="InvalidKeySetError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===a.name};b.exports=a},function(b,d){b.exports=0},function(b,d){d=function(){return this}();
try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){var c=Array.isArray,f=a(18);b.exports=function(a,b){if(a)c(a)||c(a.$keys)&&(a=f(a));else return b;return a.reduce(function(a,c){var e=c.length;a[e]||(a[e]=[]);a[e].push(c);return a},b||{})}},function(b,d,a){var c=a(37);b.exports=function(a,e){return Object.keys(a).reduce(function(e,b){e[b]=c(a[b],e[b]);return e},e||{})}},function(b,d,a){function c(a,b,h){var g,l=Object.create(null),
f=""+q(""+b),p=[],m=-1,r=0,n=[],u=0,d,w,y,H,D,E;y=[];H=-1;if(b<h-1){for(D=e(a,y);++H<D;)g=y[H],d=c(a[g],b+1,h),w=d.code,l[w]?d=l[w]:(p[r++]=w,d=l[w]={keys:[],sets:d.sets}),f=""+q(f+g+w),k(g)&&d.keys.push(parseInt(g,10))||d.keys.push(g);for(;++m<r;)if(g=p[m],d=l[g],y=d.keys,D=y.length,0<D)for(a=d.sets,b=-1,h=a.length,H=y[0];++b<h;){g=a[b];d=-1;w=g.length;E=Array(w+1);for(E[0]=1<D&&y||H;++d<w;)E[d+1]=g[d];n[u++]=E}}else for(D=e(a,y),1<D?n[u++]=[y]:n[u++]=y;++H<D;)f=""+q(f+y[H]);return{code:f,sets:n}}
function f(a,c){return a-c}function e(a,c,e){var g=0;if(a===y)c[g++]=null;else{for(var l in a)c[g++]=l;1<g&&c.sort(e)}return g}function k(a){var c=a,e=typeof a;if("string"===e){c=a.length;if(0===c||17<c||!p.test(a))return!1;if(16>c)return!0;c=+a}else if("number"!==e)return!1;return 0===c%1&&9007199254740991>=m(c)}var n=Array.isArray,m=Math.abs,p=/^(0|(\-?[1-9][0-9]*))$/,q=a(19),y=a(4);b.exports=function(a){var e,b=[],g=0,l;for(l in a){var q;if(q=k(l))q=e=a[l],q=null!==q&&"object"===typeof q;if(q){q=
c(e,0,parseInt(l,10)).sets;for(var p=-1,m=q.length;++p<m;){for(var r=g++,d=q[p],y=-1,w=d.length;++y<w;){var A=d[y];if(n(A)){var F=d,H=y;for(var D=-1,E=A.length-1,G=0<E;++D<=E;){var J=A[D];if(!k(J)){G=!1;break}A[D]=parseInt(J,10)}!0===G&&(A.sort(f),D=A[0],G=A[E],G-D<=E&&(A={from:D,to:G}));F[H]=A}}b[r]=d}}}return b};b.exports._isSafeNumber=k},function(b,d,a){function c(a,b,m,p,q,d){if(m===p)return!0;var k,n,h=-1,g=0,l,x=m+1,z,v,r;n=b[m];if(null===n)return e;k=n;a=a?a:d?d(b,m,a):{};a:do{if("object"!==
typeof n)d=n,v=void 0,z=!1;else if(f(n)){if(void 0!==r)break a;h=0;r=n;g=n.length;if(0===g)break a;n=r[h];continue a}else{v=n.to;d=n.from||0;"number"!==typeof v&&(v=d+(n.length||0)-1);if(0>v-d)break a;z=!0}do x===p?a[d]=q:(n=a[b[m]=d],(l=c(n,b,x,p,q))?n||(a[d]=l):a[d]=q);while(z&&++d<=v);if(++h===g)break a;n=r[h]}while(1);b[m]=k;return a}var f=Array.isArray,e=a(4);b.exports=function(a,e){return a.reduce(function(a,e){return c(a,e,0,e.length,null)},e||{})};b.exports.pathToTree=c},function(b,d,a){var c=
a(72),f=a(71),e=a(15),k=a(89),n=a(64),m=a(62);b.exports=function(a,b,d,w,u){var h,g;w=a._path;var l=a._root,q=l.cache,p,v,r,t=w&&w.length||0;if(t){if((h=e(a))&&h.$type)return{error:new k(w,w)};r=[];for(g=0;g<t;++g)r[g]=w[g];g=a._referenceContainer}else h=q,r=[];p=[];var y=!1,C=d&&d.json,A={data:d},F=a._boxed,H=l.expired;v=a._recycleJSON;var D=a._materialized,E=!!a._source,G=l.branchSelector,J=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var L,K=0,M=b.length;if(0<M)if(v){M=1;y=!0;if(!b[0].$keys||
1<b.length)b=[m(n(b,{}))];do L=b[K],v=f(q,h,C,L,0,d,A,p,r,t,!1,g,l,H,u,G,F,D,E,J,a),C=v[0],v[0]=void 0,v[1]=void 0;while(++K<M)}else{do L=b[K],v=L.length,C=c(q,h,C,L,0,d,A,p,v,r,t,!1,g,l,H,u,G,F,D,E,J,a);while(++K<M)}u=A.requested;A.args=y&&b||u;if(u&&u.length&&(A.relative=A.args,t)){b=[];g=0;for(t=u.length;g<t;++g)b[g]=w.concat(u[g]);A.requested=b}A.hasValue&&(d.json=C);return A}},function(b,d,a){var c=Array(3),f=a(0),e=a(11),k=a(1),n=a(5),m=a(49);b.exports=function(a,b,d,w){e(d,b);var q,h,g=0,l=
a,p=b.value,z=p,v=p.length;do{if(0===g&&void 0!==(q=b["\u001ef_context"]))l=q,g=v;else if(h=p[g++],void 0===(l=l[h]))break;if(g===v){h=l.$type;if(void 0!==h&&k(l,w))break;else{if(l===b)throw new m(p);l!==q&&n(b,l)}if(h===f)e(d,l),g=0,b=l,l=a,p=z=b.value,v=p.length;else break}else if(void 0!==l.$type)break}while(1);g<v&&void 0!==l&&(v=g);g=-1;for(p=Array(v);++g<v;)p[g]=z[g];c[0]=l;c[1]=p;c[2]=b;return c}},function(b,d,a){var c=a(8),f=a(70),e=a(14),k=a(4);b.exports=function(a,b,p,q,d,w,u,h,g,l,x,z){if(e===
b&&!z)return f(a,p,d,w,g,l);p=a&&a.value;if(b&&void 0===p){if(x){debugger;d.hasValue=!0;return k}}else return d.hasValue=!0,l?c(a):p}},function(b,d,a){var c=a(75),f=a(87);b.exports=function(a,b,d,m,p){var e,k;e=a._path;m=a._root;var n,u,h=e&&e.length||0;if(h)return{error:new f};u=[];k=e=m.cache;n=[];for(var g=a._boxed,l=m.expired,x=a._materialized,z=!!a._source,v=a._treatErrorsAsValues,r={data:d},t=-1,B=b.length;++t<B;){var C=b[t];a=C.length;c(k,e,C,0,d,r,n,a,u,h,!1,m,l,p,g,x,z,v)}r.args=r.relative=
r.requested;return r}},function(b,d,a){b.exports=function(a,b,e,k,d){a["\u001ef_key"]=e;a["\u001ef_parent"]=b;void 0!==k&&(a["\u001ef_version"]=k);a["\u001ef_abs_path"]||(a["\u001ef_abs_path"]=d.slice(0,d.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,e,b,k,d,q,r,m,n,y){if(a&&"object"===typeof a&&!a.$type)for(var g in a)if("\u001e"!==g[0]&&"$"!==g[0]){var l=a[g],h=!(!l||"object"!==typeof l)&&!l.$type,x=f(b,k,d,g,l,h,!1,q,r,m,n,y),t=x[0],x=x[1];t&&(h?c(l,e+1,b,x,t,q,r,m,n,y):u(t,x,
g,m)&&w(x,p(t),m,q))}}function f(a,c,b,d,p,v,r,t,u,w,y,F){for(r=b.$type;r===e;){a:{c=p;r=a;var g=t,l=u,h=w,x=y,z=F;if(k(b,z))n(b,l,h),c=[void 0,r];else{m(h,b);var B=b,A=b.value,C;b=b["\u001ef_context"];if(null!=b)C=b["\u001ef_parent"]||r;else{var R=0,S=A.length-1;C=b=r;do{C=f(r,C,b,A[R],c,R<S,!0,g,l,h,x,z);b=C[0];if(!b||"object"!==typeof b){c=C;break a}C=C[1]}while(R++<S);B["\u001ef_context"]!==b&&q(B,b)}c=[b,C]}}b=c[0];if(!b&&"object"!==typeof b)return c;c=c[1];r=b&&b.$type}if(void 0!==r)return[b,
c];if(null==d){if(v)throw Error("`null` is not allowed in branch key positions.");}else c=b,b=c[d];return[b,c]}var e=a(0),k=a(1),n=a(3),m=a(11),p=a(7),q=a(5),y=a(15),w=a(10),u=a(29);b.exports=function(a,e,b){var g=a._root,f=g.expired,l=g.version++,h=g._comparator,k=g.cache,d=y(a),p=d["\u001ef_parent"]||k;a=k["\u001ef_version"];for(var q=-1,m=e.length;++q<m;)c(e[q].json,0,k,p,d,l,f,g,h,b);e=k["\u001ef_version"];(g=g.onChange)&&a!==e&&g()}},function(b,d,a){var c=a(0),f=a(14),e=a(32),k=a(99),n=a(7),
m=a(55),p=a(48),q=a(1),y=a(3),w=a(42),u=a(46),h=a(45),g=a(10);b.exports=function(a,b,d,v,r,t,B,C,A,F,H,D,E,G){G=k(b,t);if(r||t){if(G&&q(b,!0)&&(y(b,F,H),G=b.$expires===e?G:"expired"),G&&G!==c||!b||"object"!==typeof b)b=u(b,{},a,d,H,A),b=w(b,a,d,A,C)}else r=k(v),t=!1===m(v)<m(b),(G||r)&&D&&(t=!D(b,v,C.slice(0,C.index))),t&&(E&&r===f&&(v=E(h(B,d),v)),v=p(v,r,r?v.value:v),B=n(b)-n(v),b=u(b,v,a,d,H,A),a=g(a,B,H,A),b=w(b,a,d,A,C));return b}},function(b,d){b.exports=function(a,c){a=a.slice(0,a.depth);a[a.length]=
c;return a}},function(b,d,a){var c=a(82),f=a(29),e=a(47);b.exports=function(a,b,d,p,q,y){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,p,q),e(b,y));return d[p]=b}},function(b,d,a){b.exports=function(a,b){var c=[a],f=0;do{var d=c[f];if(d&&d["\u001ef_version"]!==b){d["\u001ef_version"]=b;c[f++]=d["\u001ef_parent"];for(var m=-1,p=d["\u001ef_refs_length"]||0;++m<p;)c[f++]=d["\u001ef_ref"+m]}}while(-1<--f);return a}},function(b,d,a){var c=Array.isArray,f=a(58),e=a(32),k=a(103),n=a(97),m=a(7),
p=a(98);b.exports=function(a,b,d){var q=0;if(b){var h=a["\u001ef_wrapped_value"];a=n(a);q=m(a);a.$type=b;a["\u001ef_prev"]=void 0;a["\u001ef_next"]=void 0;a["\u001ef_wrapped_value"]=h||!1}else a={$type:k,value:d,"\u001ef_prev":void 0,"\u001ef_next":void 0,"\u001ef_wrapped_value":!0};if(null==d)q=51;else if(null==q||0>=q)switch(typeof d){case "object":q=c(d)?50+d.length:51;break;case "string":q=50+d.length;break;default:q=51}b=p(a);"number"===typeof b&&b<e&&(a.$expires=f()+-1*b);a.$size=q;return a}},
function(b,d){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="CircularReferenceError";b.exports=a},function(b,d){function a(a){var c=Error.call(this,"An exception was thrown when making a request.");c.name="InvalidSourceError";this.stack=c.stack;this.message=c.message;this.innerError=a;return this}a.prototype=Object.create(Error.prototype);
a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,d,a){var c=a(28),f=a(10);b.exports=function(a,b,d,m,p,q){var e=p;"number"!==typeof e&&(e=.75);p="number"===typeof q;var e=m*e,k,n,h;for(n=b.pop();n;)h=n.$size||0,d-=h,!0===p?f(n,h,a,q):(k=n["\u001ef_parent"])&&c(n,k,n["\u001ef_key"],a),n=b.pop();if(d>=m){for(n=b=a["\u001ef_tail"];d>=e&&n;)b=b["\u001ef_prev"],h=n.$size||0,d-=h,!0===p&&f(n,h,a,q),n=b;a["\u001ef_tail"]=a["\u001ef_prev"]=
n;null==n?a["\u001ef_head"]=a["\u001ef_next"]=void 0:n["\u001ef_next"]=void 0}}},function(b,d,a){b.exports=function(a,b){var c=b["\u001ef_prev"],f=b["\u001ef_next"];f&&(f["\u001ef_prev"]=c);c&&(c["\u001ef_next"]=f);b["\u001ef_prev"]=b["\u001ef_next"]=void 0;b===a["\u001ef_head"]&&(a["\u001ef_head"]=f);b===a["\u001ef_tail"]&&(a["\u001ef_tail"]=c)}},function(b,d,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(12),
d=a(13),n=a(104).default;b.exports=f;f.prototype[n]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.lift=function(a,c){c=new f(c||this);c.operator=a;return c};f.prototype.subscribe=function(a,c,b){return new d([this.operator.call(this.source,a instanceof e?a:new e(a,c,b))])};f.prototype.then=function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,c){var b=[],f=!1;e.subscribe({next:function(a){b[b.length]=a},error:function(a){f=
!0;c(a)},complete:function(){!f&&a(1>=b.length?b[0]:b)}})}));return this._promise.then(a,b)}}).call(d,a(33))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&c(a.paths)&&
(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d,a){function c(a){return new f(a)}var f=a(65);d=a(21);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){var c=a(36),f=a(34),e=a(35);b.exports=function(a){return c(e(f(a)))}},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=a.$keys,d=-1,p=e.length;++d<p;){var q=e[d];if(null===q)b=""+f(""+b+"null");else{"object"===typeof q&&
(q="{from:"+q.from+",length:"+q.length+"}");var y=c(a[d]),b=void 0===y?""+f(""+b+q):""+f(""+b+q+y.$code)}}a.$code=b;return a}}var f=a(19);b.exports=c},function(b,d,a){function c(a,b,d,p){if(d===p)return!0;var k,n=-1,m=0,u=d+1,h,g,l;k=b[d];if(null===k)return a===e;a:do{if("object"!==typeof k)d=k,g=void 0,h=!1;else if(f(k)){if(void 0!==l)break a;n=0;l=k;m=k.length;if(0===m)break a;k=l[n];continue a}else{g=k.to;d=k.from||0;"number"!==typeof g&&(g=d+(k.length||0)-1);if(0>g-d)break a;h=!0}do if(u===p){if(null!==
a[d])return!1}else if(k=a[d],null===k||void 0===k||!1===c(k,b,u,p))return!1;while(h&&++d<=g);if(++n===m)break a;k=l[n]}while(1);return!0}var f=Array.isArray,e=a(4);b.exports=c},function(b,d,a){function c(a,b){return a.reduce(function(a,b){return e(b)?f(a,b,0,b.length):c(n(b),a)},b||{})}function f(a,c,b,d){if(b!==d){a=a||{};var p=a.$keys||(a.$keys=[]),n=a.$keysMap||(a.$keysMap={}),h,g=-1,l=0,m,q=b+1,v;h=c[b];if(null===h)return k;a:do{if("object"!==typeof h)m=h,"undefined"===typeof(b=n[m])&&(b=p.length),
p[b]=m,n[m]=b,h=f(a[b],c,q,d),void 0!==h&&(a[b]=h);else if(e(h)){if(void 0!==v)break a;g=0;v=h;l=h.length;if(0===l)break a;h=v[g];continue a}else{b=h.to;m=h.from||0;"number"!==typeof b&&(b=m+(h.length||0)-1);if(0>b-m)break a;h={from:m,length:b-m+1};m="{from:"+m+",length:"+(b-m+1)+"}";"undefined"===typeof(b=n[m])&&(b=p.length);p[b]=h;n[m]=b;h=f(a[b],c,q,d);void 0!==h&&(a[b]=h)}if(++g===l)break a;h=v[g]}while(1);return a}}var e=Array.isArray,k={$keys:[null],$keysMap:{"null":0}},n=a(18);b.exports=c},
function(b,d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new m;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._seed={},this._treatErrorsAsValues=!0);this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=
!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(91),e=a(67),k=a(66),n=a(95),m=a(54),p=a(51),q=a(7),y=a(2),w=a(56),u=a(9),h=a(57),g=a(17),l=a(16),x=a(22),z=a(76),v=a(23);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(this._seed||{},[])};c.prototype.set=function(){return(new f("set",
this,Array.prototype.slice.call(arguments,0)))._toJSON({},[])};c.prototype.preload=function(){return(new f("get",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,[])};c.prototype.call=function(){return(new f("call",this,Array.prototype.slice.call(arguments,0)))._toJSON({},[])};c.prototype.invalidate=function(){return(new f("invalidate",this,Array.prototype.slice.call(arguments,0)))._toJSON(null,null).then()};c.prototype.deref=a(86);c.prototype._hasValidParentReference=a(85);c.prototype.getValue=
function(a){return this.get(a).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return this.set(b).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},
onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,e=this._path;this._path=[];this._seed=null;this._node=this._root.cache={};"undefined"!==typeof b&&p(c,c.expired,q(b),0);var f;h(a)?f=l(this,[a])[0]:w(a)?f=g(this,[a])[0]:y(a)&&(f=g(this,[{json:a}])[0]);f&&x(this,f,null,!1,!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(){var a=Array.prototype.slice.call(arguments,
0);if(0===a.length)return z(this._root.cache);var b={},c=this._path;this._path=[];v(this,a,b);this._path=c;return b.jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var g=a[e];"delete"===g?delete b[e]:"_path"===e?(b[e]=g,!1===a.hasOwnProperty("_node")&&
delete b._node):b[e]=g}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new n(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new n(1);return this._clone({_scheduler:b})};c.prototype.unbatch=function(){return this._clone({_scheduler:new m})};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new k(this)};
c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};
c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=u(this._root.cache,a);return(a&&a["\u001ef_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(77);c.prototype._getPathValuesAsPathMap=x;c.prototype._getPathValuesAsJSONG=v;c.prototype._setPathValues=a(30);c.prototype._setPathMaps=a(17);c.prototype._setJSONGs=a(16);c.prototype._setCache=a(17);c.prototype._invalidatePathValues=a(27);c.prototype._invalidatePathMaps=
a(43)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.syncRefCount=this.version=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=
new e(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);
"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(100),e=a(92);c.prototype.errorSelector=function(a,b){return b};c.prototype.comparator=function(a,b){return f(a,"value")&&f(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=c},function(b,d,a){var c=a(22),f=a(23);b.exports={json:function(a,b,f,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};args=[].concat(b[1]||
[]);suffixes=[].concat(b[2]||[]);thisPaths=[].concat(b[3]||[]);path=(a._path||[]).concat(b[0]||[]);d&&thisPaths&&thisPaths.length&&(e=c(a,thisPaths,f,d,!0).hasValue);return{args:null,data:f,missing:[],relative:[],hasValue:e,fragments:[path,args,suffixes,thisPaths]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};args=[].concat(b[1]||[]);suffixes=[].concat(b[2]||[]);thisPaths=[].concat(b[3]||[]);path=(a._path||[]).concat(b[0]||[]);d&&thisPaths&&thisPaths.length&&(e=f({_root:a._root,
_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},thisPaths,c,!0,!0).hasValue);return{args:null,data:c,missing:[],relative:[],hasValue:e,fragments:[path,args,suffixes,thisPaths]}}}},function(b,d,a){b.exports={json:a(38),jsonGraph:a(41)}},function(b,d,a){var c=a(8);b.exports=function(a,b,d,n,m,p){var e=-1;b+=!!m;m=Array(b);for(a=p?c(a):a.value;++e<b;)m[e]=n[e];(d.errors||(d.errors=[])).push({path:m,value:a})}},function(b,d,a){function c(a,b,e,d,k,x,u,F,H,D,
E,G,J,L,K,M,R,S,Q,I,O){var v,z;if(void 0===b||void 0!==(v=b.$type)||void 0===d)return n[1]=!1,n[0]=y(b,v,e,d,k,x,u,F,k,H,D,E,J,L,K,M,R,S,Q,I,m,f),n;var r,t,B;v="";var C,A,P,Z=d.$keys,ha=k+1,V,X,ca,aa,ea,ia=D+1,da,la;O&&G&&(la=G.value,da=G["\u001ef_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(r=e["\u001ef_metadata"]){if(!(M||e instanceof q))t={},e=(t["\u001ef_metadata"]=r,t.__proto__=q.prototype,t);else if(r.version===b["\u001ef_version"]&&r.$code===d.$code&&r.abs_path===b["\u001ef_abs_path"])return u.hasValue=
!0,n[0]=e,n[1]=!1,n;t=r.keys;r.version=b["\u001ef_version"];r.abs_path=b["\u001ef_abs_path"];r.deref_to=la;r.deref_from=da}B={};var ma=-1,na=Z.length,fa,ka,ga=!1;a:for(;++ma<na;)if(P=Z[ma],fa=d[ma],null===P){if(void 0!==fa)throw new g;v=""+l(""+v+"null")}else{if("object"!==typeof P)A=P,V=void 0,P=!1,ka=A;else{V=P.to;A=P.from||0;"number"!==typeof V&&(V=A+(P.length||0)-1);if(0>V-A)break a;P=!0;ka="{from:"+A+",length:"+(V-A+1)+"}"}do E=!1,X=e&&e[A],ea=H,aa=ia,ca=G,C=b[A],F[k]=A,H[D]=A,C&&void 0!==fa&&
C.$type===p&&!w(C,K)&&(z=h(a,C,J,K),C=z[0],E=!0,ea=z[1],ca=z[2],aa=ea.length,z[0]=z[1]=z[2]=void 0),n=c(a,C,X,fa,ha,x,u,F,ea,aa,E,ca,J,L,K,M,R,S,Q,I,O),X=n[0],ga=ga||n[1],x&&(void 0!==X?(void 0===r&&(r={},r.version=b["\u001ef_version"],r.abs_path=b["\u001ef_abs_path"],r.deref_to=la,r.deref_from=da,e={},E={},e=M&&M((e["\u001ef_metadata"]=r,e.__proto__=q.prototype,e))||(E["\u001ef_metadata"]=r,E.__proto__=q.prototype,E)),B[A]=!0,t&&t.hasOwnProperty(A)&&(t[A]=!1),e[A]=X):(ga=!0,e&&e.hasOwnProperty(A)&&
delete e[A]));while(P&&++A<=V);ga||(v=void 0===fa?""+l(""+v+ka):""+l(""+v+ka+fa.$code))}ga&&(v="__incomplete__");if(r&&(r.$code=v,r.keys=B,t))for(A in t)t[A]&&delete e[A];n[0]=e;n[1]=ga;return n}function f(a,b,c,g,d,f,l,h,p,n,m,q){a=a?x(a):[[]];var r=g.slice(0,d),v=q?e(q):k;return a.reduce(function(a,e){d=b+e.length;return u(r.concat(e),b,c,g,d,f,l,h,p,a,m,v)},n)}function e(a){return function(b,c,e){return a(e=k(b,c,e))||e}}function k(a,b,c){f_meta={version:0};f_meta.abs_path=a.slice(0,b);a={};return a["\u001ef_metadata"]=
f_meta,a.__proto__=q.prototype,a}var n=Array(2),m=a(40),p=a(0),q=a(21),y=a(26),w=a(1),u=a(25),h=a(39),g=a(6);a(31);var l=a(19),x=a(18);b.exports=c},function(b,d,a){function c(a,b,e,d,k,u,C,A,F,H,D,E,G,J,L,K,M,R,S,Q,I,O){var r,v;if(void 0===b||(r=b.$type)||k===F)return y(b,r,e,d,k,u,C,A,F,H,D,E,J,L,K,M,R,S,Q,I,m,f);var x,z,t,B=k+1,W,P,Z,ha,V=-1,X=0,ca,aa,ea=D+1,ia,da;t=d[k];if(null===t){if(B<F)throw new g;return e}O&&G&&(da=G.value,ia=G["\u001ef_abs_path"]);if(e)if("object"!==typeof e)e=void 0;else if(x=
e["\u001ef_metadata"])x.version=b["\u001ef_version"],x.abs_path=b["\u001ef_abs_path"],x.deref_to=da,x.deref_from=ia;a:do{if("object"!==typeof t)r=t,W=void 0,t=!1;else if(n(t)){if(void 0!==P)throw new l(d,P);V=0;P=t;X=t.length;if(0===X)break a;t=P[V];continue a}else{W=t.to;r=t.from||0;"number"!==typeof W&&(W=r+(t.length||0)-1);if(0>W-r)break a;t=!0}do E=!1,Z=e&&e[r],aa=H,ca=ea,ha=G,z=b[r],A[k]=r,H[D]=r,z&&B<F&&z.$type===p&&!w(z,K)&&(v=h(a,z,J,K),z=v[0],E=!0,aa=v[1],ha=v[2],ca=aa.length,v[0]=v[1]=v[2]=
void 0),Z=c(a,z,Z,d,B,u,C,A,F,aa,ca,E,ha,J,L,K,M,R,S,Q,I,O),void 0!==Z&&(void 0===x&&(x={},x.version=b["\u001ef_version"],x.abs_path=b["\u001ef_abs_path"],x.deref_to=da,x.deref_from=ia,e={},E={},e=M&&M((e["\u001ef_metadata"]=x,e.__proto__=q.prototype,e))||(E["\u001ef_metadata"]=x,E.__proto__=q.prototype,E)),e[r]=Z);while(t&&++r<=W);if(++V===X)break a;t=P[V]}while(1);return e}function f(a,b,c,g,d,f,l,h,p,n,m,q){q=q?e(q):k;return u(a,b,c,g,d,f,l,h,p,n,m,q)}function e(a){return function(b,c,e){return a(e=
k(b,c,e))||e}}function k(a,b,c){f_meta={version:0};f_meta.abs_path=a.slice(0,b);a={};return a["\u001ef_metadata"]=f_meta,a.__proto__=q.prototype,a}var n=Array.isArray,m=a(40),p=a(0),q=a(21),y=a(26),w=a(1),u=a(25),h=a(39),g=a(6),l=a(31);b.exports=c},function(b,d,a){var c=Array(2),f=a(8),e=a(0),k=a(24),n=a(11),m=a(1),p=a(5),q=a(49);b.exports=function(a,b,d,h,g,l,x){n(d,b);var z,v;g=0;l=a;var r=b.value,t=r,u=r.length;do{if(0===g&&void 0!==(z=b["\u001ef_context"]))l=z,g=u;else if(v=r[g++],void 0===(l=
l[v]))break;if(g===u){v=l.$type;if(void 0!==v&&m(l,x))break;else{if(l===b)throw new q(r);l!==z&&p(b,l)}if(v===e)n(d,l),h&&k(f(l),r,u,h),g=0,b=l,l=a,r=t=b.value,u=r.length;else break}else if(void 0!==l.$type)break}while(1);g<u&&void 0!==l&&(u=g);g=-1;for(r=Array(u);++g<u;)r[g]=t[g];c[0]=l;c[1]=r;return c}},function(b,d,a){var c=a(8),f=a(0),e=a(14),k=a(24),n=a(4);b.exports=function(a,b,d,y,w,u,h,g,l,x,z){var p=a&&a.value;if(b&&void 0===p)if(z)p=n;else return;else if(x||f===b||e===b||!a["\u001ef_wrapped_value"]||
"object"===typeof p)p=c(a);y&&(w.hasValue=!0,k(p,h,g,y),(y.paths||(y.paths=[])).push(u.slice(0,d+!!l)));return p}},function(b,d,a){function c(a,b,d,l,t,w,C,A,F,H,D,E,G,J,L,K,M,R){var r,x;if(void 0===b||(r=b.$type)||l===A)return q(b,r,t,d,l,t,w,C,A,F,H,D,E,G,J,void 0,L,K,M,R,m,f);var v,z,B=l+1,N,T,Y=-1,ba=0,ja,W,P=H+1;D=d[l];if(null===D){if(B<A)throw new h;}else{a:do{if("object"!==typeof D)r=D,N=void 0,z=!1;else if(e(D)){if(void 0!==T)throw new g(d,T);Y=0;T=D;ba=D.length;if(0===ba)break a;D=T[Y];continue a}else{N=
D.to;r=D.from||0;"number"!==typeof N&&(N=r+(D.length||0)-1);if(0>N-r)break a;z=!0}do D=!1,W=F,ja=P,v=b[r],C[l]=r,F[H]=r,v&&B<A&&v.$type===n&&!y(v,J)&&(t&&p(k(v),F,ja,t),x=u(a,v,E,t,L,K,J),v=x[0],D=!0,W=x[1],ja=W.length,x[0]=x[1]=void 0),c(a,v,d,B,t,w,C,A,W,ja,D,E,G,J,L,K,M,R);while(z&&++r<=N);if(++Y===ba)break a;D=T[Y]}while(1)}}function f(a,b,c,e,g,d,f,h,k,n,m,q){var r;n&&m&&((n.paths||(n.paths=[])).push((q=0===g-b)&&e.slice(0,b+!!d)||e.slice(0,b).concat(a.slice(b,g+!!d))),r=p(q&&l||void 0,f,h,n,
!q));return w(a,b,c,e,g,d,f,h,k,r,m)}var e=Array.isArray,k=a(8),n=a(0),m=a(74),p=a(24),q=a(26),y=a(1),w=a(25),u=a(73),h=a(6),g=a(31),l=a(4);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return!f(b)&&void 0!==a[b]}).forEach(function(e){var d=a[e],k=b[e];k||(k=b[e]={});if(d.$type){k=!d["\u001ef_wrapped_value"];if(d.value&&"object"===typeof d.value||k){var k={},n=Object.keys(d),m,u,h;u=0;for(h=n.length;u<h;u++)m=n[u],f(m)||(k[m]=d[m]);d=k}else d=
d.value;b[e]=d}else c(d,k,e)})}var f=a(101);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(15);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001ef_version"];return null==a?-1:a}},function(b,d,a){var c=Array.isArray,f=a(102),e=a(56),k=a(57);b.exports=function(a){for(var b=[],d=-1,n=a.length,y,w,u,h;++d<n;)u=a[d],c(u)?(u={path:u},h="PathValues"):f(u)?h="PathValues":k(u)?h="JSONGraphs":e(u)&&(h="PathMaps"),w!==h&&(w=h,b.push(y={arguments:[],inputType:h})),y.arguments.push(u);return b}},
function(b,d,a){function c(a,b,c,d,p){f(a,b,p);return{}}var f=a(27);a(43);b.exports={json:c,jsonGraph:c}},function(b,d,a){var c=a(0),f=a(14),e=a(7),k=a(55),n=a(48),m=a(1),p=a(42),q=a(3),y=a(46),w=a(45),u=a(10);b.exports=function(a,b,d,x,z,v,r,t,B,C,A,F){var g,h,l,G,J,L;if(b===d){if(null===d)return b=n(d,void 0,d),a=u(a,-b.$size,B,r),b=p(b,a,x,void 0,v);if(void 0===d)return d;if(l=!(!b||"object"!==typeof b))if(g=b.$type,null==g)return null==b["\u001ef_parent"]&&p(b,a,x,r,v),b}else if(l=!(!b||"object"!==
typeof b))g=b.$type;if(g!==c){if(G=!(!d||"object"!==typeof d))h=d.$type;if(l&&!g&&(null==d||G&&!h))return b}else{if(null==d){if(m(b,F)){q(b,t,B);return}return b}if(G=!(!d||"object"!==typeof d))if(h=d.$type,h===c)if(b===d){if(null!=b["\u001ef_parent"])return b}else if(J=b.$timestamp,L=d.$timestamp,!m(b,F)&&!m(d,F)&&L<J)return}if(g&&G&&!h)return p(y(b,d,a,x,B,r),a,x,void 0,v);h||!G?(h===f&&A&&(d=A(w(z,x),d)),h&&b===d?null==b["\u001ef_parent"]&&(b=n(b,g,b.value),a=u(a,-b.$size,B,r),b=p(b,a,x,r,v)):(z=
!0,(g&&!m(b,F)||!l)&&(z=!1===k(d)<k(b))&&(g||h)&&C&&(z=!C(b,d,v.slice(0,v.index))),z&&(d=n(d,h,h?d.value:d),C=e(b)-e(d),b=y(b,d,a,x,B,r),a=u(a,C,B,r),b=p(b,a,x,r,v))),m(b,!0)&&q(b,t,B)):null==b&&(b=p(d,a,x,void 0,v));return b}},function(b,d,a){function c(a,c){for(var e=-1,d=c.length,k=[],h=[],g=a._root.errorSelector;++e<d;){var l=c[e],p=l.inputType,l=l.arguments;if(0<l.length){var m=(0,b.exports["set"+p])(a,l,g,null,!1);h.push.apply(h,m[1]);"PathValues"===p?k.push.apply(k,l.map(f)):"JSONGraphs"===
p?k.push.apply(k,n(l,f)):k.push.apply(k,m[0])}}return{optimized:h,relative:k}}function f(a){return a.path||a.paths}var e=a(22),k=a(23),n=a(96),m=a(78);b.exports={json:function(a,b,d,f,n){b=m(b);var h=c(a,b),g=f&&e(a,h.relative,d,f,n);a=k({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},h.optimized,{},f,n);return{args:b,data:d,fragments:a.data,missing:h.optimized,relative:h.relative,error:g&&g.error,errors:g&&g.errors,requested:a.requested,hasValue:g&&g.hasValue}},
jsonGraph:function(a,b,e,d,f){b=m(b);var h=c(a,b);a=k({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},h.optimized,e,d,f);return{args:b,data:e,error:a.error,fragments:a.data,missing:h.optimized,relative:h.relative,hasValue:a.hasValue,requested:a.requested}},setPathMaps:a(17),setPathValues:a(30),setJSONGraphs:a(16)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001ef_refs_length"]||0,d=b["\u001ef_refs_length"]||0,f=-1;++f<c;){var m=a["\u001ef_ref"+
f];void 0!==m&&(m["\u001ef_context"]=b,b["\u001ef_ref"+(d+f)]=m,a["\u001ef_ref"+f]=void 0)}b["\u001ef_refs_length"]=c+d;a["\u001ef_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001ef_refs_length"]||0;++b<c;){var d=a["\u001ef_ref"+b];null!=d&&(d["\u001ef_context"]=d["\u001ef_ref_index"]=a["\u001ef_ref"+b]=void 0)}a["\u001ef_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001ef_context"];if(b){for(var c=(a["\u001ef_ref_index"]||
0)-1,d=(b["\u001ef_refs_length"]||0)-1;++c<=d;)b["\u001ef_ref"+c]=b["\u001ef_ref"+(c+1)];b["\u001ef_refs_length"]=d;a["\u001ef_ref_index"]=a["\u001ef_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001ef_parent"]||a&&a["\u001ef_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(0),f=a(9),e=a(88);b.exports=function(a){if(!a||"object"!==typeof a)throw new e;var b,d,k,q;k=a&&a["\u001ef_metadata"];
if(!k||"object"!==typeof k)return this._clone({_node:void 0});var y=this._recycleJSON,w=k.abs_path;if(!w)return this._clone({_node:void 0,_seed:y&&{json:a}||void 0});if(0===w.length)return this._clone({_path:w,_node:this._root.cache,_referenceContainer:!0,_seed:y&&{json:a}||void 0});var u=k.deref_to;d=k.deref_from;var h=this._root.cache,g=f(h,w),l="e";if(d){l=!1;k=-1;q=d.length;for(b=h;++k<q&&(b=b[d[k]],b&&!b.$type););if(u&&b&&b.$type===c){k=0;q=u.length;d=b.value;for(l=!0;l&&k<q;++k)d[k]!==u[k]&&
(l=!1);!1===l&&(g=void 0)}}l?"e"===l&&(b=!0):b=!1;return this._clone({_node:g,_path:w,_referenceContainer:b,_seed:y&&{json:a}||void 0})}},function(b,d){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";
b.exports=a},function(b,d){function a(){var a=Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";b.exports=a},function(b,d){function a(a,b){var c=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");
c.name="InvalidModelError";this.stack=c.stack;this.message=c.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,d){function a(a,b,d,n){a=Error.call(this,"Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||
"")+(n&&"optimized: [\n\t"+c(n)+"\n]\n"||""));a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}a.prototype=Object.create(Error.prototype);a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,d,a){function c(a,b,c){m.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,e,d){void 0===
a&&(a={});void 0===b&&(b=[]);this.data=a;this.errors=b;this.operation=c;this.progressive=e;this.maxRetryCount=d}function e(a,b,c,e,d,f){p.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=e;this.progressive=d;this.maxRetryCount=f}function k(a,b,c,e){"jsonGraph"===b&&a.paths&&(a.paths=y(a.paths));try{++c.syncRefCount,e.onNext(a)}catch(z){throw z;}finally{--c.syncRefCount}}function n(a,b){for(var c,e,d,g=Object.keys(b),f=-1,h=g.length;++f<h;)d=
g[f],"\u001ef_metadata"===d?a["\u001ef_metadata"]=b["\u001ef_metadata"]:(e=b[d],c=a[d],c!==e&&(void 0===c||"object"!==typeof e?a[d]=e:n(c,e)));return a}var m=a(53),p=a(12),q=a(51),y=a(61),w=a(50),u=a(90);b.exports=c;c.prototype=Object.create(m.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.operator=a;b.type=this.type;b.model=this.model;b._args=this._args;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,
args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){return this.lift(new f(this.operator.data||a,this.operator.errors||b,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=function(a,b){return this.lift(new f(this.operator.data||a,this.operator.errors||b,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,
this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,this.operation,this.progressive))};e.prototype=Object.create(p.prototype);e.prototype.operations={get:a(69),set:a(81),call:a(68),invalidate:a(79)};e.prototype.next=
e.prototype.onNext=function(a){if(this.started){var b,c=a.type;a=a.args||a.paths;var e=this.data,d=this.model,f=this.errors,h,m=this.hasValue,p=this.operation,q=this.progressive,u=q&&e&&!d._recycleJSON;u&&(e={});if(a&&a.length){h=this.operations[c][p](d,a,e,q||!d._source,-1===this.retryCount);if(h.error)throw h.error;f&&h.errors&&f.push.apply(f,h.errors);if(b=h.fragments)a=h.args,this.fragments=b;this.relative=h.relative;this.requested=h.requested;this.missing=b=h.missing;this.hasValue=m||(m=h.hasValue)}this.completed=
!b||!d._source;"set"!==c&&(this.args=a,u&&(this.data=n(e,this.data)));q&&m&&e&&(e.json||e.jsonGraph)&&k(e,p,d._root,this.destination)}else this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount};e.prototype.error=e.prototype.onError=function(a){if(a instanceof w)return p.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){var b,c;if(!this.started&&
(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&k(b,this.operation,this.model._root,this.destination),b=this.errors,c||a||b&&b.length?p.prototype.onError.call(this,b.length&&b||a):p.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return p.prototype.onError.call(this,new u(this.retryCount,this.requested,this.relative,this.missing));
this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;p.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&q(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,
a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function c(a){m.call(this,[]);this.modelRoot=a}function f(a,b,c,e,d){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=e;this.optimized=d}var e=a(53),k=a(93),n=a(12),m=a(13),p=a(54);b.exports=c;c.prototype=Object.create(m.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=(new k("set",f,a._source,new p)).batch(c,b||d.paths,d.jsonGraph);e=g.subscribe(new n(e,g));f.add(g.connect());
return e})};c.prototype.call=function(a,b,c,d){var f=this;return new e(function(b){var c=(new k("call",f,a._source,new p)).batch(null,null,d);b=c.subscribe(new n(b,c));f.add(c.connect());return b})};c.prototype.get=function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,e=this.requested,d=this.optimized,g=this.scheduler,f=-1,p=b.subscriptions,q=p.length,v=new m([],a);++f<q;){var r=p[f];if("get"===r.type&&((r=r.batch(e,
d,e=[],d=[]))&&v.add(r.subscribe(new n(a,r))),!d.length))break}d.length&&(r=p[f]=(new k("get",b,c,g)).batch(e,d),v.add(r.subscribe(new n(a,r))),r.connect());return v}},function(b,d,a){function c(a,b,c,d){e.call(this,[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){this.active=!0;var a,b=this.paths=m(this.tree=q(this.optimized.reduce(function(a,b){return p(b,
a)},{})));try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=a.subscribe(this)}catch(x){this.disposable=null,e.prototype.onError.call(this,new n(x))}}var e=a(94),k=a(14);a(12);a(13);var n=a(50),m=a(36),p=a(34),q=a(35),y=a(63),w=a(16),u=a(30),h=a(27);b.exports=c;c.prototype=Object.create(e.prototype);c.prototype.next=c.prototype.onNext=
function(a){var b=this.parent;if(b){this.responded=!0;var c=a.jsonGraph,e=this.requested,b=b.modelRoot,d=a.invalidated,g=a.paths||this.paths;d&&d.length&&h({_root:b,_path:[]},d,!1);g&&g.length&&c&&"object"===typeof c&&w({_root:b},[{paths:g,jsonGraph:c}],b.errorSelector,b.comparator,!1);this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",paths:e[b]||g})})}};c.prototype.error=c.prototype.onError=function(a){var b=this.parent;if(b){this.responded=!0;a=a||{};a=a instanceof Error?{$type:k,
value:{message:a.message}}:a.$type===k&&a||{$type:k,value:a};var b=b.modelRoot,c=m(q(this.requested.reduce(function(a,b){return p(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&u({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);e.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});e.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,
1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();e.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&
!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,e){if(this.active){for(var d=[],f=[],g=this.tree,k=-1,h=0,l=0,n=b.length,m=!1;++k<n;){var p=b[k],q=p.length,u=g[q];if(u&&y(u,p,0,q)){if(!m)for(;h<k;)c[h]=a[h],e[h]=b[h++];m=!0;d[l]=a[k];f[l++]=b[k]}else m&&(c[h]=a[k],e[h++]=p)}return m?(this.requested.push(d),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);this.data=c;return this}},
function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(12),e=a(13);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onNext=function(a){this.observers.slice(0).forEach(function(b){b.onNext(a)})};c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);
this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d){b.exports=function(a,b){for(var c=-1,e=-1,d=a.length,n=[];++e<
d;)for(var m=b(a[e],e,a),p=-1,q=m.length;++p<q;)n[++c]=m[p];return n}},function(b,d,a){var c=Array.isArray;b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)"\u001e"!==d.charAt(0)&&(b[d]=a[d])}return b}},function(b,d,a){var c=a(2);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(2);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=a(2),f=Object.prototype.hasOwnProperty;b.exports=function(a,
b){return c(a)&&f.call(a,b)}},function(b,d,a){b.exports=function(a){return"$size"===a||"\u001ef_wrapped_value"===a||"\u001e"===a.charAt(0)}},function(b,d,a){var c=Array.isArray,f=a(2);b.exports=function(a){return f(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d){b.exports="atom"},function(b,d,a){b.exports=a(105)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(106),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?
window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(33),a(107)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),
Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d,a){b.exports=a(60)}])});
//# sourceMappingURL=falcor.min.js.map
