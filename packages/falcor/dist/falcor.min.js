(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var g=a[c]={i:c,l:!1,exports:{}};b[c].call(g.exports,g,g.exports,d);g.l=!0;return g.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,g,e){Object.defineProperty(a,g,{configurable:!1,enumerable:!0,get:e})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,g){return Object.prototype.hasOwnProperty.call(a,g)};d.p="";return d(d.s=130)}([function(b,d){b.exports="ref"},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){var c=a(37),g=a(42),e=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==e&&(a===g||a<c())}},function(b,d){b.exports=function(a){return!!a&&"function"===typeof a}},
function(b,d,a){b.exports=a(73)},function(b,d,a){(function(c){function g(a){this._subscribe=a}var e=a(22),h=a(83),k=a(129);g.prototype[h.observable]=function(){return k(this)};g.prototype._toJSONG=function(){return this};g.prototype.progressively=function(){return this};g.prototype.subscribe=g.prototype.forEach=function(a,c,g){var f=a;f&&"object"===typeof f?f.onNext||f.onError||f.onCompleted||(f={onNext:(f.next||e).bind(f),onError:(f.error||e).bind(f),onCompleted:(f.complete||e).bind(f)}):f={onNext:a||
e,onError:c||e,onCompleted:g||e};a=this._subscribe(f);switch(typeof a){case "function":return{dispose:a,unsubscribe:a};case "object":return a||{dispose:e,unsubscribe:e};default:return{dispose:e,unsubscribe:e}}};g.prototype.then=function(a,e){var f=this;f._promise||(f._promise=new c.Promise(function(a,c){var e=!1,g=[];f.subscribe(function(a){g[g.length]=a},function(a){e=!0;c(a)},function(){var c=g;1>=g.length&&(c=g[0]);!1===e&&a(c)})}));return f._promise.then(a,e)};b.exports=g}).call(d,a(66))},function(b,
d,a){var c=a(53);b.exports=function(a,e,h){a["\u001e\u0192alcor_invalidated"]||(a["\u001e\u0192alcor_invalidated"]=!0,e.push(a),c(h,a));return a}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d){b.exports=function(a){return null==a||"object"!==typeof a}},function(b,d){function a(a){var c=Error.call(this,"An exception was thrown when making a request.");c.name="InvalidSourceError";this.stack=c.stack;this.message=c.message;this.innerError=a;return this}a.prototype=
Object.create(Error.prototype);a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,d){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,d,a){b.exports=function(a,
g){var c=g["\u001e\u0192alcor_refs_length"]||0;g["\u001e\u0192alcor_ref"+c]=a;g["\u001e\u0192alcor_refs_length"]=c+1;a["\u001e\u0192alcor_ref_index"]=c;a["\u001e\u0192alcor_context"]=g}},function(b,d,a){b.exports=function(a){for(var c,e=Object.keys(a),h={},k=-1,m=e.length;++k<m;)c=e[k],"\u001e"!==c.charAt(0)&&(h[c]=a[c]);return h}},function(b,d,a){function c(a,h){var e=a,m,b=0,f=h.length;if(0<f){do for(e=e[h[b]];e&&(m=e.$type)===g;)e=c(a,e.value);while(++b<f&&e&&!m)}return e}var g=a(0);b.exports=
c},function(b,d,a){var c=a(41);b.exports=function(a,e){if(e.$expires!==c){var g=a["\u001e\u0192alcor_head"];if(!g)a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_tail"]=e;else if(g!==e){var k=e["\u001e\u0192alcor_prev"],m=e["\u001e\u0192alcor_next"];m&&(m["\u001e\u0192alcor_prev"]=k);k&&(k["\u001e\u0192alcor_next"]=m);e["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_head"]=e;e["\u001e\u0192alcor_next"]=g;g["\u001e\u0192alcor_prev"]=e;e===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=
k)}}}},function(b,d,a){var c=a(1),g=Object.prototype.hasOwnProperty;b.exports=function(a,h){return c(a)&&g.call(a,h)}},function(b,d,a){var c=a(38),g=a(64);b.exports=function(a,h,k,m){var e=a;do{var f=e["\u001e\u0192alcor_parent"];0>=(e.$size=(e.$size||0)-h)&&null!=f?c(e,f,e["\u001e\u0192alcor_key"],k):e["\u001e\u0192alcor_version"]!==m&&g(e,m);e=f}while(e);return a}},function(b,d){b.exports="error"},function(b,d,a){var c=a(13);b.exports=function(a,e){e=e||a._path;var g=a._node;if(!g||void 0===g["\u001e\u0192alcor_parent"]||
g["\u001e\u0192alcor_invalidated"])a._node=null,0===e.length?g=a._root.cache:(g=c(a._root.cache,e),e===a._path&&(a._node=g));return g}},function(b,d,a){function c(a,e,f,h,k,m,b,w,p,q,r,d,C,E,H,J,M){var n={},l=e<a.length-1,v=a[e],y=t(v,n),B=d.index;do{r.depth=e;var u=g(f,h,k,m,b,w,y,l,!1,r,d,C,E,H,J,M);r[e]=y;r.index=e;var x=u[0],z=u[1],A=u[4];A[A.index++]=y;x&&(l?c(a,e+1,f,z,x,m,u[3],u[2],p,q,r,A,C,E,H,J,M):(p.push(r.slice(0,r.index+1)),q.push(A.slice(0,A.index))));y=t(v,n);if(n.done)break;d.index=
B}while(1)}function g(a,c,b,n,t,p,d,D,F,A,x,G,C,E,H,J){for(F=b.$type;F===h;){a:{c=a;t=n;x=A;var l=G,v=C,y=E,u=H,B=J,z,K,N=b.value;F=N.slice(0);if(m(b))w(b,v,y),b=void 0,z=c,K=t,F.index=N.length;else{var P=0,O=b,L=N.length-1;z=b=c;K=p=t;do{var I=N[P],Q=P<L;F.index=P;K=g(c,z,b,t,K,p,I,Q,!0,x,F,l,v,y,u,B);b=K[0];F=K[4];if(f(b)){F.index=P;x=K;break a}z=K[1];p=K[2];K=K[3]}while(P++<L);F.index=P;O["\u001e\u0192alcor_context"]!==b&&k(O,b)}e[0]=b;e[1]=z;e[2]=p;e[3]=K;e[4]=F;x=e}b=x[0];if(f(b))return x;c=
x[1];p=x[2];t=x[3];x=x[4];F=b.$type}if(void 0===F){if(null==d){if(D)throw new q;b&&(d=b["\u001e\u0192alcor_key"])}else c=b,t=p,b=c[d],p=t&&t[d];b=r(c,b,p,d,A,x,G,C,E,H,J)}e[0]=b;e[1]=c;e[2]=p;e[3]=t;e[4]=x;return e}var e=Array(5),h=a(0),k=a(11),m=a(123),p=a(3),f=a(8),w=a(6),t=a(4).iterateKeySet,r=a(125),q=a(10);b.exports=function(a,f,g,h){var k=a._root,b=k.expired,n=k.version++,m=k.cache;a=m["\u001e\u0192alcor_version"];for(var l=[],t=[],w=[],q=[],v=-1,r=f.length;++v<r;)for(var u=f[v],d=u.paths,u=
u.jsonGraph,M=-1,R=d.length;++M<R;){var S=d[M];t.index=0;c(S,0,m,m,m,u,u,u,w,q,l,t,n,b,k,h,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=m["\u001e\u0192alcor_version"];g=k.onChange;p(g)&&a!==f&&g();return[w,q]}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,g=a(1);b.exports=function(a){return g(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d){b.exports=function(){}},function(b,d){b.exports="atom"},function(b,
d,a){function c(a,k,b,p){if(b===p)return!0;var f,h=-1,t=0,m=b+1,q,u,l;f=k[b];if(null===f)return a===e;a:do{if("object"!==typeof f)b=f,u=void 0,q=!1;else if(g(f)){if(void 0!==l)break a;h=0;l=f;t=f.length;if(0===t)break a;f=l[h];continue a}else{u=f.to;b=f.from||0;"number"!==typeof u&&(u=b+(f.length||0)-1);if(0>u-b)break a;q=!0}do if(m===p){if(null!==a[b])return!1}else if(f=a[b],null===f||void 0===f||!1===c(f,k,m,p))return!1;while(q&&++b<=u);if(++h===t)break a;f=l[h]}while(1);return!0}var g=Array.isArray,
e=a(25);b.exports=c},function(b,d){b.exports={$__null__$:null}},function(b,d){function a(a,g){a=Error.call(this,"The KeySet "+JSON.stringify(g)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");a.name="InvalidKeySetError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===a.name};b.exports=a},function(b,d,a){b.exports={getWithPathsAsPathMap:a(92),
getWithPathsAsJSONGraph:a(96)}},function(b,d,a){function c(a){this["\u001e\u0192alcor_metadata"]=a||{}}function g(a){if(typeof a===p){if(1!==arguments.length)return a;a=this}else a||(a=this);if(a.self!==a&&a.global!==a&&a.window!==a){var e=h(a,g);e["\u001e\u0192alcor_metadata"]&&delete e["\u001e\u0192alcor_metadata"];return e}}function e(a,g){var f=arguments.length;a=0===f?this:a;if(!a||typeof a!==m)return a;if(a.self!==a&&a.global!==a&&a.window!==a){var f=h(a,0<f&&g||e),b=f["\u001e\u0192alcor_metadata"];
b&&(delete f["\u001e\u0192alcor_metadata"],b.version=a["\u001e\u0192alcor_metadata"].version,f.__proto__=new c(b));return f}}function h(a,e){var c=arguments.length;a=0===c?this:a;if(!a||typeof a!==m)return a;if(a.self!==a&&a.global!==a&&a.window!==a){var g,f,b,l;e=0<c&&e||h;if(k(a))for(c=-1,g=a.length,l=Array(g);++c<g;)l[c]=a[c];else{l={};c=-1;f=a["\u001e\u0192alcor_metadata"];b=Object.keys(a);g=b.length;if(f){var p=f.$code,n=f.abs_path,w=f.deref_to,y=f.deref_from;l["\u001e\u0192alcor_metadata"]=
f={};p&&(f.$code=p);n&&(f.abs_path=n);w&&(f.deref_to=w);y&&(f.deref_from=y)}for(;++c<g;)f=b[c],"\u001e\u0192alcor_metadata"!==f&&(l[f]=e(a[f],e))}return l}}c.prototype=Object.create(Object.prototype,Object.assign({toJSON:{value:g},toProps:{value:e},serialize:{value:h},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,
c){var e=Array.prototype[c];a[c]={writable:!0,enumerable:!1,value:function(){return e.apply(this,arguments)}};return a},{})));var k=Array.isArray,m="object",p="string";b.exports=c},function(b,d){b.exports=function(a,c,g,e){var h=0,b;b=e.jsonGraph;b||(b={},e.jsonGraph=b);do{e=c[h++];if(h>=g){b=b[e]=a;break}b=b[e]||(b[e]={})}while(1);return b}},function(b,d){var a=Array.isArray;b.exports=function(c,g,e,b,k,m,p){for(var f,h=-1,t=k-g,r=t&&Array(t)||void 0;++h<t;){f=c[h+g];var q;q=f;if("object"!==typeof q||
null===q)q=!1;else if(a(q))q=0===q.length;else{var u=q.to,l=q.from||0;"number"!==typeof u&&(u=l+(q.length||0));q=l>=u}if(q)return;r[h]=f}c=null===f;u=g;g=k;h=b;b=e.requestedMissingPaths||(e.requestedMissingPaths=[]);f=!0;do{if(t<k||!f){q=-1;l=u;for(u=Array(g);++q<l;)u[q]=h[q];for(h=-1;q<g;)u[q++]=r[++h];b.push(u)}else b.push(r);if(f=!f)break;u=p;g=p+t-Number(c);h=m;b=e.optimizedMissingPaths||(e.optimizedMissingPaths=[])}while(1)}},function(b,d,a){var c=a(23),g=a(14),e=a(2),h=a(6);b.exports=function(a,
b,p,f,w,t,r,q,u,l,v,n,d,y,z,D,F,A,x){if(!a||!b){if(z&&!D){if(w)return t.hasValue=!0,{$type:c};return}return x(p,f,t,r,q,u,l)}if(e(a))return a["\u001e\u0192alcor_invalidated"]||h(a,d,n),x(p,f,t,r,q,u,l);g(n,a);if(w)return v&&(r[f]=null),A(a,b,f,w,t,r,u,l,v,y,z,F)}},function(b,d,a){var c=a(38),g=a(16);b.exports=function(a,b,k,m,p,f){var e=p;"number"!==typeof e&&(e=.75);p="number"===typeof f;var e=m*e,h,r,q;for(r=b.pop();r;)q=r.$size||0,k-=q,!0===p?g(r,q,a,f):(h=r["\u001e\u0192alcor_parent"])&&c(r,h,
r["\u001e\u0192alcor_key"],a),r=b.pop();if(k>=m){for(r=b=a["\u001e\u0192alcor_tail"];k>=e&&r;)b=b["\u001e\u0192alcor_prev"],q=r.$size||0,k-=q,!0===p&&g(r,q,a,f),r=b;a["\u001e\u0192alcor_tail"]=a["\u001e\u0192alcor_prev"]=r;null==r?a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_next"]=void 0:r["\u001e\u0192alcor_next"]=void 0}}},function(b,d,a){d=a(5);var c=a(56),g=a(109),e=a(22),h={dispose:e,unsubscribe:e},k=a(32),m=a(7),p=a(3),f=b.exports=function(a,c,e,g,b,f,h){c&&c[0]&&Array.isArray(c[0].$keys)&&
(c=c[0]);this.model=a;this.currentRemainingPaths=c;this.isJSONGraph=e||!1;this.isProgressive=g||!1;this.forceCollect=b||!1;this.recycleJSON=void 0!==h?h:a._recycleJSON;c=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof f?f:"number"===typeof c?c:a._root.version};f.prototype=Object.create(d.prototype);f.prototype._toJSONG=function(){return new f(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};
f.prototype.progressively=function(){return new f(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};f.prototype._subscribe=function(a){var e=[],b=this.model,f=this.recycleJSON,w=this.isProgressive,l=this.currentRemainingPaths,v=a.isJSONG=this.isJSONGraph,n=[v||w||!f?{}:b._seed||(b._seed={})],w=c(b,l,a,w,v,n,e,f);return w?g(this,b,w,a,e,1,this.initialCacheVersion,l,f):(a=b._root,f=a.cache,e=f["\u001e\u0192alcor_version"],this.forceCollect&&
k(a,a.expired,m(f),b._maxSize,b._collectRatio,e),b=a.onChangesCompleted,this.initialCacheVersion!==e&&0>=a.syncRefCount&&p(b)&&b.call(a.topLevelModel),h)}},function(b,d,a){function c(a,e,b,k,l,m,p,v,t,q,r,d,u,M){var n;if(w(a)&&!a.$type){n=[];var y=0;h(a)&&(n[y++]="length");for(var C in a)"\u001e"!==C[0]&&"$"!==C[0]&&f(a,C)&&(n[y++]=C)}else n=void 0;if(n&&n.length){y=0;C=n.length;var B=t.index;do{var x=n[y],z=a[x],A=w(z)&&!z.$type;v.depth=e;var E=g(b,k,l,x,z,A,!1,v,t,q,r,d,u,M);v[e]=x;v.index=e;var F=
E[0],D=E[1],E=E[2];E[E.index++]=x;F&&(A?c(z,e+1,b,D,F,m,p,v,E,q,r,d,u,M):(m.push(v.slice(0,v.index+1)),p.push(E.slice(0,E.index))));if(++y>=C)break;t.index=B}while(1)}}function g(a,c,b,f,h,p,w,r,d,C,E,H,J,M){for(var n=b.$type;n===k;){a:{c=h;d=a;var n=r,y,B=C,x=E,z=H,A=J,F=M,D,G=b.value;y=G.slice(0);if(t(b))u(b,x,z),b=void 0,D=d,y.index=G.length;else{var L=b;b=b["\u001e\u0192alcor_context"];if(null!=b)D=b["\u001e\u0192alcor_parent"]||d,y.index=G.length;else{var I=0,Q=G.length-1;y.index=I;D=b=d;do{D=
g(d,D,b,G[I],c,I<Q,!0,n,y,B,x,z,A,F);b=D[0];y=D[2];if(q(b)){y.index=I;d=D;break a}D=D[1]}while(I++<Q);y.index=I;L["\u001e\u0192alcor_context"]!==b&&m(L,b)}}e[0]=b;e[1]=D;e[2]=y;d=e}b=d[0];if(q(b))return d;c=d[1];d=d[2];n=b&&b.$type}if(void 0===n){if(null==f){if(p)throw new v;b&&(f=b["\u001e\u0192alcor_key"])}else c=b,b=c[f];b=l(c,b,f,h,p,w,r,d,C,E,H,J,M)}e[0]=b;e[1]=c;e[2]=d;return e}var e=Array(3),h=Array.isArray,k=a(0),m=a(11),p=a(13),f=a(15),w=a(1),t=a(2),r=a(3),q=a(8),u=a(6),l=a(61),v=a(10);b.exports=
function(a,b,g,f){var h=a._root,n=h.expired,k=h.version++,l=a._path,m=h.cache,v=p(m,l),t=v["\u001e\u0192alcor_parent"]||m;a=m["\u001e\u0192alcor_version"];for(var q=[],w=[],d=[],u=l.length,y=-1,B=b.length;++y<B;){var z=b[y],Z=l.slice(0);Z.index=u;c(z.json,0,m,t,v,w,d,q,Z,k,n,h,f,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=m["\u001e\u0192alcor_version"];h=h.onChange;r(h)&&a!==b&&h();return[w,d]}},function(b,d,a){function c(a,e,b,f,h,k,m,p,t,q,w,d,u,H,J){var n={},l=b<e.length-1,v=e[b],C=r(v,n),y=q.index;
do{t.depth=b;t[b]=C;t.index=b;var B=g(f,h,k,C,a,l,!1,t,q,w,d,u,H,J);t[b]=C;t.index=b;var z=B[0],x=B[1],B=B[2];B[B.index++]=C;z&&(l?c(a,e,b+1,f,x,z,m,p,t,B,w,d,u,H,J):(m.push(t.slice(0,t.index+1)),p.push(B.slice(0,B.index))));C=r(v,n);if(n.done)break;q.index=y}while(1)}function g(a,c,b,f,m,r,d,F,A,x,G,C,E,H){for(var l=b.$type;l===h;){a:{c=m;A=a;var l=F,n,v=x,y=G,B=C,z=E,D=H,K,N=b.value;n=N.slice(0);if(p(b))t(b,y,B),b=void 0,K=A,n.index=N.length;else{var P=b;b=b["\u001e\u0192alcor_context"];if(null!=
b)K=b["\u001e\u0192alcor_parent"]||A,n.index=N.length;else{var O=0,L=N.length-1;K=b=A;do{var I=N[O],Q=O<L;n.index=O;K=g(A,K,b,I,c,Q,!0,l,n,v,y,B,z,D);b=K[0];n=K[2];if(w(b)){n.index=O;A=K;break a}K=K[1]}while(O++<L);n.index=O;P["\u001e\u0192alcor_context"]!==b&&k(P,b)}}e[0]=b;e[1]=K;e[2]=n;A=e}b=A[0];if(w(b))return A;c=A[1];A=A[2];l=b.$type}if(!r||void 0===l){if(null==f){if(r)throw new u;b&&(f=b["\u001e\u0192alcor_key"])}else c=b,b=c[f];b=q(c,b,f,m,r,d,F,A,x,G,C,E,H)}e[0]=b;e[1]=c;e[2]=A;return e}
var e=Array(3),h=a(0),k=a(11),m=a(13),p=a(2),f=a(3),w=a(8),t=a(6),r=a(4).iterateKeySet,q=a(61),u=a(10);b.exports=function(a,b,g,h){var k=a._root,l=k.expired,p=k.version++,n=a._path,t=k.cache,v=m(t,n),q=v["\u001e\u0192alcor_parent"]||t;a=t["\u001e\u0192alcor_version"];for(var w=[],r=[],d=[],u=n.length,B=-1,R=b.length;++B<R;){var S=b[B],W=S.path,S=S.value,V=n.slice(0);V.index=u;c(S,W,0,t,q,v,r,d,w,V,p,l,k,h,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;b=t["\u001e\u0192alcor_version"];k=k.onChange;f(k)&&a!==
b&&k();return[r,d]}},function(b,d,a){var c=Array.isArray,g=a(1);b.exports=function(a){return g(a)&&c(a.paths)&&(g(a.jsonGraph)||g(a.jsong)||g(a.json)||g(a.values)||g(a.value))}},function(b,d){b.exports=Date.now},function(b,d,a){var c=a(0),g=a(53),e=a(1),h=a(127),k=a(128);b.exports=function(a,b,f,w){if(e(a)){var m=a.$type;m&&(m===c&&k(a),g(w,a));h(a);b[f]=a["\u001e\u0192alcor_parent"]=void 0;return!0}return!1}},function(b,d,a){var c=a(15),g=a(38);b.exports=function h(a,b,p,f){if(g(a,b,p,f)){if(null==
a.$type)for(var k in a)"\u001e"!==k[0]&&"$"!==k[0]&&c(a,k)&&h(a[k],a,k,f);return!0}return!1}},function(b,d,a){var c=Array.isArray,g=a(21),e=a(36),h=a(20);b.exports=function(a,b,p){for(var f=0,k=a.length;f<k;++f){var m=a[f],r=!1;c(m)&&b.path?r=!0:c(m.$keys)&&b.flatBuffer?r=!0:g(m)&&b.pathValue?r=!0:e(m)&&b.jsonGraph?r=!0:h(m)&&b.json?r=!0:"function"===typeof m&&f+1===k&&b.selector&&(r=!0);if(!r)return Error("Unrecognized argument "+typeof m+" ["+String(m)+"] to Model#"+p+"")}return!0}},function(b,
d){b.exports=1},function(b,d){b.exports=0},function(b,d){b.exports=function(a){for(var c=5381,b=a.length;b;)c=33*c^a.charCodeAt(--b);return c>>>0}},function(b,d){function a(a,c){var b=c.from=a.from||0;a=c.to=a.to||"number"===typeof a.length&&c.from+a.length-1||0;c.rangeOffset=c.from;c.loaded=!0;b>a&&(c.empty=!0)}var c=Array.isArray;b.exports=function(b,e){if(void 0===e.isArray){e.done=!1;var g=e.isObject=!(!b||"object"!==typeof b);e.isArray=g&&c(b);e.arrayOffset=0}if(e.isArray){var k;do{e.loaded&&
e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);if(e.arrayOffset>=b.length){e.done=!0;break}g=b[e.arrayOffset];"object"===typeof g?(e.loaded||a(g,e),e.empty||(k=e.rangeOffset++)):(++e.arrayOffset,k=g)}while(void 0===k);return k}if(e.isObject){e.loaded||a(b,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=!0;return b}},function(b,d){b.exports=function(a,c){var b=[],e=a.length;for(c=c||0;c<e;c++)b[c]=a[c];return b}},function(b,d){b.exports={$ref:"ref",$atom:"atom",$error:"error"}},
function(b,d,a){function c(a,b,f){var g,m=h(String(b)),p=Object.create(null),n=[],t=-1,q=0,w=[],d=0,r,A,x,G,C,E;x=[];G=-1;if(b<f-1){for(C=e(a,x);++G<C;)g=x[G],r=c(a[g],b+1,f),A=r.code,p[A]?r=p[A]:(n[q++]=A,r=p[A]={keys:[],sets:r.sets}),m=h(m+g+A),k(g)&&r.keys.push(parseInt(g,10))||r.keys.push(g);for(;++t<q;)if(g=n[t],r=p[g],x=r.keys,C=x.length,0<C)for(a=r.sets,b=-1,f=a.length,G=x[0];++b<f;){g=a[b];r=-1;A=g.length;E=Array(A+1);for(E[0]=1<C&&x||G;++r<A;)E[r+1]=g[r];w[d++]=E}}else for(C=e(a,x),1<C?w[d++]=
[x]:w[d++]=x;++G<C;)m=h(m+x[G]);return{code:m,sets:w}}function g(a,b){return a-b}function e(a,b,c){var e=0;if(a===w)b[e++]=null;else{for(var f in a)b[e++]=f;1<e&&b.sort(c)}return e}function h(a){for(var b=5381,c=-1,e=a.length;++c<e;)b=(b<<5)+b+a.charCodeAt(c);return String(b)}function k(a){var b=a,c=typeof a;if("string"===c){b=a.length;if(0===b||17<b||!f.test(a))return!1;if(16>b)return!0;b=+a}else if("number"!==c)return!1;return 0===b%1&&9007199254740991>=p(b)}var m=Array.isArray,p=Math.abs,f=/^(0|(\-?[1-9][0-9]*))$/,
w=a(25);b.exports=function(a){var b,e=[],f=0,h;for(h in a){var p;if(p=k(h))p=b=a[h],p=null!==p&&"object"===typeof p;if(p){p=c(b,0,parseInt(h,10)).sets;for(var n=-1,w=p.length;++n<w;){for(var t=f++,d=p[n],D=-1,F=d.length;++D<F;){var A=d[D];if(m(A)){var x=d,G=D;for(var C=-1,E=A.length-1,H=0<E;++C<=E;){var J=A[C];if(!k(J)){H=!1;break}A[C]=parseInt(J,10)}!0===H&&(A.sort(g),C=A[0],H=A[E],H-C<=E&&(A={from:C,to:H}));x[G]=A}}e[t]=d}}}return e};b.exports._isSafeNumber=k},function(b,d,a){function c(a,b,m,p){if(m===
p)return!0;var f,h=-1,k=0,d,q=m+1,u,l,v;f=b[m];if(null===f)return e;a=a||{};a:do{if("object"!==typeof f)m=f,l=void 0,u=!1;else if(g(f)){if(void 0!==v)break a;h=0;v=f;k=f.length;if(0===k)break a;f=v[h];continue a}else{l=f.to;m=f.from||0;"number"!==typeof l&&(l=m+(f.length||0)-1);if(0>l-m)break a;u=!0}do q===p?a[m]=null:(f=a[m],(d=c(f,b,q,p))?f||(a[m]=d):a[m]=null);while(u&&++m<=l);if(++h===k)break a;f=v[h]}while(1);return a}var g=Array.isArray,e=a(25);b.exports=function(a){return a.reduce(function(a,
b){return c(a,b,0,b.length)},{})}},function(b,d){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="CircularReferenceError";b.exports=a},function(b,d){function a(){var a=Error.call(this,"The allowed number of retries have been exceeded.");a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}
a.prototype=Object.create(Error.prototype);a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,d,a){var c=Array(3),g=a(0),e=a(14),h=a(2),k=a(11),m=a(49);b.exports=function(a,b,d){e(d,b);var f,p,w=0,u=a,l=b.value,v=l,n=l.length;do{if(0===w&&void 0!==(f=b["\u001e\u0192alcor_context"]))u=f,w=n;else if(p=l[w++],void 0===(u=u[p]))break;if(w===n){p=u.$type;if(void 0!==p&&h(u))break;else{if(u===b)throw new m(l);u!==f&&k(b,u)}if(p===
g)e(d,u),w=0,b=u,u=a,l=v=b.value,n=l.length;else break}else if(void 0!==u.$type)break}while(1);w<n&&void 0!==u&&(n=w);w=-1;for(l=Array(n);++w<n;)l[w]=v[w];c[0]=u;c[1]=l;c[2]=b;return c}},function(b,d,a){var c=a(12),g=a(93),e=a(23),h=a(17);b.exports=function(a,b,p,f,d,t,r,q,u,l,v,n){if(h===b&&!n)return g(a,p,d,t,u,l);p=a&&a.value;if(b&&void 0===p){if(v)return d.hasValue=!0,{$type:e}}else return d.hasValue=!0,l?c(a):p}},function(b,d,a){b.exports=function(a,b){var c=b["\u001e\u0192alcor_prev"],g=b["\u001e\u0192alcor_next"];
g&&(g["\u001e\u0192alcor_prev"]=c);c&&(c["\u001e\u0192alcor_next"]=g);b["\u001e\u0192alcor_prev"]=b["\u001e\u0192alcor_next"]=void 0;b===a["\u001e\u0192alcor_head"]&&(a["\u001e\u0192alcor_head"]=g);b===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=c)}},function(b,d){b.exports={GetRequest:"GET"}},function(b,d){d=function(a){this.disposed=!1;this.currentDisposable=a};d.prototype={unsubscribe:function(){return this.dispose()},dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=
!0;var a=this.currentDisposable;this.currentDisposable=null;a.dispose?a.dispose():a.unsubscribe?a.unsubscribe():"function"===typeof a&&a()}}};b.exports=d},function(b,d,a){d=a(27);var c=a(111),g=a(4).collapse,e=d.getWithPathsAsPathMap,h=d.getWithPathsAsJSONGraph;b.exports=function(a,b,p,f,d,t,r,q){var k,m=f&&!d&&t;m&&(k=t[0],t[0]={});b=d?h(a,b,t):e(a,b,t,!q);if(b.criticalError)return p.onError(b.criticalError),null;t=b.hasValue;q=b.values[0];var v=!!(q&&q.json||q.jsonGraph),n=!b.requestedMissingPaths||
!b.requestedMissingPaths.length||!a._source;if(b.errors)for(var w=b.errors,y=r.length,z=0,D=w.length;z<D;++z,++y)r[y]=w[z];m&&k&&(q=c(q,k));if(t&&f||v&&n)try{if(d&&q){var F=q.paths;F&&0<F.length&&(q.paths=g(F))}++a._root.syncRefCount;p.onNext(q)}catch(A){throw A;}finally{--a._root.syncRefCount}if(n){if(r.length)p.onError(r);else p.onCompleted();return null}return b}},function(b,d){b.exports={path:!0,pathSyntax:!0,flatBuffer:!0}},function(b,d,a){d=a(5);var c=Array.isArray,g=a(21),e=a(36),h=a(20),k=
a(114),m=b.exports=function(a,b,k,m,d){this._model=a;this._isJSONGraph=k||!1;this._isProgressive=m||!1;this._initialArgs=b;this._value=[{}];k=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof d?d:"number"===typeof k?k:a._root.version;a=[];var f,p;d=-1;for(k=b.length;++d<k;){m=b[d];var l;c(m)?l="PathValues":g(m)?l="PathValues":e(m)?l="JSONGs":h(m)&&(l="PathMaps");p!==l&&(p=l,f={inputType:l,arguments:[]},a.push(f));f.arguments.push(m)}this._groups=a};m.prototype=
Object.create(d.prototype);m.prototype._subscribe=function(a){return k(this._model,a,this._groups,this._isJSONGraph,this._isProgressive,0,this.initialCacheVersion)};m.prototype._toJSONG=function(){return new m(this._model,this._initialArgs,!0,this._isProgressive,this.initialCacheVersion)};m.prototype.progressively=function(){return new m(this._model,this._initialArgs,this._isJSONGraph,!0,this.initialCacheVersion)}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},
function(b,d,a){b.exports=function(a,b,e,h,k){a["\u001e\u0192alcor_key"]=e;a["\u001e\u0192alcor_parent"]=b;void 0!==h&&(a["\u001e\u0192alcor_version"]=h);a["\u001e\u0192alcor_abs_path"]||(a["\u001e\u0192alcor_abs_path"]=k.slice(0,k.index).concat(e));return b[e]=a}},function(b,d,a){var c=a(0),g=a(17),e=a(122),h=a(7),k=a(59),m=a(2),p=a(8),f=a(3),w=a(65),t=a(6),r=a(60),q=a(63),u=a(16),l=a(62);b.exports=function(a,b,d,y,z,D,F,A,x,G,C,E,H){var n=e(b,D);if(z||D){if(n&&m(b)&&(n="expired",t(b,G,C)),n&&n!==
c||p(b))b=q(b,{},a,d,C,x),b=r(b,a,d,x,A)}else z=e(y),D=!1===k(y)<k(b),(n||z)&&f(E)&&(D=!E(b,y,A.slice(0,A.index))),D&&(z===g&&f(H)&&(y=H(l(F,d),y)),y=w(y,z,z?y.value:y),F=h(b)-h(y),b=q(b,y,a,d,C,x),a=u(a,F,C,x),b=r(b,a,d,x,A));return b}},function(b,d){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,d,a){var c=a(1),g=a(126),e=a(39),h=a(64);b.exports=function(a,b,p,f,d,t){if(a===b)return a;c(a)&&(g(a,b),e(a,p,f,d),h(b,t));return p[f]=b}},function(b,d,a){b.exports=function(a,
b){var c=[a],g=0;do{var k=c[g];if(k&&k["\u001e\u0192alcor_version"]!==b){k["\u001e\u0192alcor_version"]=b;c[g++]=k["\u001e\u0192alcor_parent"];for(var m=-1,p=k["\u001e\u0192alcor_refs_length"]||0;++m<p;)c[g++]=k["\u001e\u0192alcor_ref"+m]}}while(-1<--g);return a}},function(b,d,a){var c=a(37),g=a(42),e=a(120),h=Array.isArray,k=a(7),m=a(121),p=a(23);b.exports=function(a,b,d){var f=0;if(b){var w=a["\u001e\u0192alcor_wrapped_value"];a=e(a);f=k(a);a.$type=b;a["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_next"]=
void 0;a["\u001e\u0192alcor_wrapped_value"]=w||!1}else a={$type:p,value:d,"\u001e\u0192alcor_prev":void 0,"\u001e\u0192alcor_next":void 0,"\u001e\u0192alcor_wrapped_value":!0};if(null==d)f=51;else if(null==f||0>=f)switch(typeof d){case "object":f=h(d)?50+d.length:51;break;case "string":f=50+d.length;break;default:f=51}b=m(a);"number"===typeof b&&b<g&&(a.$expires=c()+-1*b);a.$size=f;return a}},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===
typeof window&&(d=window)}b.exports=d},function(b,d,a){function c(a){return new g(a)}var g=a(80);d=a(28);c.Model=g;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){var c=a(47),g=a(48);b.exports=function(a){var b=a.reduce(function(a,b){var c=b.length;a[c]||(a[c]=[]);a[c].push(b);return a},{});Object.keys(b).forEach(function(a){b[a]=g(b[a])});return c(b)}},function(b,d,a){function c(a){if(void 0!==a){for(var b="",e=a.$keys,m=-1,p=e.length;++m<p;){var f=e[m];if(null===f)b=""+
g(""+b+"null");else{"object"===typeof f&&(f="{from:"+f.from+",length:"+f.length+"}");var d=c(a[m]),b=void 0===d?""+g(""+b+f):""+g(""+b+f+d.$code)}}a.$code=b;return a}}var g=a(43);b.exports=c},function(b,d){b.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},function(b,d){function a(b,g,e){e=e||[];g=g||[];for(var c=[],k=b.$keys,m=k.length,p=-1;++p<m;){var f=b[p],d=k[p];f?
a(f,g,e.concat([d])):c.push(d)}1===c.length?g.push(e.concat(c)):1<c.length&&g.push(e.concat([c]));return g}b.exports=a},function(b,d,a){var c=a(45),g=a(46).$ref,e=a(70);b.exports=function(a,b,m){for(var h=a,f=-1,k=b.length,d,r=0;++f<k;){d=b[f];d=(h=h[d])&&h.$type;if(!h||d&&d!==g)break;if(d&&d===g&&f+1<k)throw a=Error(e.innerReferences),a.throwToNext=!0,a;if(f+1===k&&(d===g&&(f=-1,b=h.value,k=b.length,h=a,r++),r>m))throw Error(e.circularReference);}return[h,c(b)]}},function(b,d,a){b.exports={toTree:a(48),
toPaths:a(47),collapse:a(68),pathCount:a(75),getHashCode:a(43),toFlatBuffer:a(79),iterateKeySet:a(44),hasIntersection:a(24),optimizePathSets:a(74),flatBufferToPaths:a(71),computeFlatBufferHash:a(69),pathsComplementFromTree:a(77),pathsComplementFromLengthTree:a(76)}},function(b,d,a){function c(a,b,d,t,r,q,u){if(void 0===a)r[r.length]=h(q,d,t);else if(!(null===a||a.$type&&a.$type!==k||"object"!==typeof a||a.$type===k&&t===d.length)){var f=d[t];t+=1;var p=!1,n=f;"object"===typeof f&&(p={},n=g(f,p));
var w,y;do{w=a[n];var z=q.length;null!==n&&(q[z]=n);w&&w.$type===k&&t<d.length?(y=m(b,w.value,u),w=y[0],y=e(y[1])):y=q;c(w,b,d,t,r,y,u);q.length=z;p&&!p.done&&(n=g(f,p))}while(p&&!p.done)}}var g=a(44),e=a(45),h=a(78),k=a(46).$ref,m=a(72);b.exports=function(a,b,e){var f=[];b.forEach(function(b){c(a,a,b,0,f,[],e)});return f}},function(b,d){function a(a){if(null==a)return 1;if(Array.isArray(a))throw Error("Unexpected Array found in keySet: "+JSON.stringify(a));if("object"===typeof a){var b=a.to,c=a.length;
if(null!=b){if(isNaN(b)||parseInt(b,10)!==b)throw Error("Invalid range, 'to' is not an integer: "+JSON.stringify(a));c=a.from||0;if(isNaN(c)||parseInt(c,10)!==c)throw Error("Invalid range, 'from' is not an integer: "+JSON.stringify(a));a=c<=b?b-c+1:0}else if(null!=c){if(isNaN(c)||parseInt(c,10)!==c)throw Error("Invalid range, 'length' is not an integer: "+JSON.stringify(a));a=c}else throw Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(a));return a}return 1}b.exports=function(b){if(0===
b.length)throw Error("All paths must have length larger than zero.");for(var c=1,e=0;e<b.length;e++){var h=b[e];if(Array.isArray(h)){for(var d=0,m=0;m<h.length;m++)d+=a(h[m]);c*=d}else c*=a(h)}return c}},function(b,d,a){var c=a(24);b.exports=function(a,b){for(var e=[],g=-1,d=0,p=a.length;d<p;++d){var f=a[d];c(b[f.length],f,0,f.length)||(e[++g]=f)}return e}},function(b,d,a){var c=a(24);b.exports=function(a,b){for(var e=[],g=-1,d=0,p=a.length;d<p;++d)c(b,a[d],0,a[d].length)||(e[++g]=a[d]);return e}},
function(b,d){b.exports=function(a,b,g){var c=[],d,k;d=0;for(k=a.length;d<k;++d)c[d]=a[d];a=g||0;for(k=b.length;a<k;++a,++d)c[d]=b[a];return c}},function(b,d){function a(b,d,k,m){if(k!==m){b=b||{};var e=b.$keys||(b.$keys=[]),f=b.$keysMap||(b.$keysMap={}),h,t=-1,r=0,q,u=k+1,l;h=d[k];if(null===h)return g;a:do{if("object"!==typeof h)q=h,"undefined"===typeof(k=f[q])&&(k=e.length),e[k]=q,f[q]=k,h=a(b[k],d,u,m),void 0!==h&&(b[k]=h);else if(c(h)){if(void 0!==l)break a;t=0;l=h;r=h.length;if(0===r)break a;
h=l[t];continue a}else{k=h.to;q=h.from||0;"number"!==typeof k&&(k=q+(h.length||0)-1);if(0>k-q)break a;h={from:q,length:k-q+1};q="{from:"+q+",length:"+(k-q+1)+"}";"undefined"===typeof(k=f[q])&&(k=e.length);e[k]=h;f[q]=k;h=a(b[k],d,u,m);void 0!==h&&(b[k]=h)}if(++t===r)break a;h=l[t]}while(1);return b}}var c=Array.isArray,g={$keys:[null],$keysMap:{"null":0}};b.exports=function(b){return b.reduce(function(b,c){return a(b,c,0,c.length)},{})}},function(b,d,a){function c(a){a=a||{};this._root=a._root||new g(a,
this);this._path=a.path||a._path||[];this._node=a._node||this._root.cache;this._source=a.source||a._source;this._recycleJSON=a.recycleJSON||a._recycleJSON;this._request=a.request||a._request||new h(this,a.scheduler||new w);this._maxSize="number"===typeof a.maxSize?a.maxSize:a._maxSize||c.prototype._maxSize;a._seed&&(this._seed=a._seed,this._recycleJSON=!0);this._collectRatio="number"===typeof a.collectRatio?a.collectRatio:a._collectRatio||c.prototype._collectRatio;if(a.boxed||a.hasOwnProperty("_boxed"))this._boxed=
a.boxed||a._boxed;if(a.materialized||a.hasOwnProperty("_materialized"))this._materialized=a.materialized||a._materialized;"boolean"===typeof a.treatErrorsAsValues?this._treatErrorsAsValues=a.treatErrorsAsValues:a.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=a._treatErrorsAsValues:this._recycleJSON&&(this._treatErrorsAsValues=!0);this._allowFromWhenceYouCame=a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var g=a(82),e=a(81),h=a(103),k=a(5),
m=a(107),p=a(108),f=a(117),w=a(116),t=a(32),r=a(7),q=a(1),u=a(3),l=a(8),v=a(20),n=a(13),B=a(36),y=a(34),z=a(19),D=a(40),F=function(){},A=a(89),x=a(27),G=a(57);b.exports=c;c.prototype.constructor=c;c.prototype._materialized=!1;c.prototype._boxed=!1;c.prototype._progressive=!1;c.prototype._treatErrorsAsValues=!1;c.prototype._maxSize=Math.pow(2,53)-1;c.prototype._collectRatio=.75;c.prototype.get=a(110);c.prototype.set=a(112);c.prototype.preload=function(){var a=D(arguments,G,"preload");if(!0!==a)return new k(function(b){b.onError(a)});
var b=Array.prototype.slice.call(arguments),c=this;return new k(function(a){return c.get.apply(c,b).subscribe(function(){},function(b){a.onError(b)},function(){a.onCompleted()})})};c.prototype.call=function(){var a,b=-1,c=arguments.length;for(a=Array(c);++b<c;){var e=arguments[b];a[b]=e;var f=typeof e;if(1<b&&!Array.isArray(e)||0===b&&!Array.isArray(e)&&"string"!==f||1===b&&!Array.isArray(e)&&!l(e))return new k(function(a){a.onError(Error("Invalid argument"))})}return new m(this,a[0],a[1],a[2],a[3])};
c.prototype.invalidate=function(){var a,b=-1,c=arguments.length;for(a=[];++b<c;)a[b]=arguments[b];(new p(this,a)).subscribe(F,function(a){throw a;})};c.prototype.deref=a(85);c.prototype._hasValidParentReference=a(84);c.prototype.getValue=a(90);c.prototype.setValue=a(118);c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,e=this._path;this._path=[];this._root.cache={};"undefined"!==typeof b&&t(c,c.expired,r(b),0);var f;B(a)?f=z(this,[a])[0]:v(a)?f=y(this,[a])[0]:q(a)&&
(f=y(this,[{json:a}])[0]);f&&x.getWithPathsAsPathMap(this,f,[],!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];if(0===b.length)return A(this._root.cache);var c=[{}],e=this._path;x.getWithPathsAsJSONGraph(this,b,c);this._path=e;return c[0].jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");
this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._syncCheck=function(a){if(this._source&&0>=this._root.syncRefCount&&!1===this._root.unsafeMode)throw Error("Model#"+a+" may only be called within the context of a request selector.");return!0};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var f=a[e];"delete"===f?delete b[e]:"_path"===e?(b[e]=f,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=f}0<b._path.length&&(b.setCache=void 0);
return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new f(Math.round(Math.abs(a))):a?u(a.schedule)?b=a:u(a)&&(b={scheudle:a}):b=new f(1);a=this._clone();a._request=new h(a,b);return a};c.prototype.unbatch=function(){var a=this._clone();a._request=new h(a,new w);return a};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new e(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};
c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this._path}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===
a?!0:a})};c.prototype._optimizePath=function(a){a=n(this._root.cache,a);return(a&&a["\u001e\u0192alcor_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(91);c.prototype._getPathValuesAsPathMap=x.getWithPathsAsPathMap;c.prototype._getPathValuesAsJSONG=x.getWithPathsAsJSONGraph;c.prototype._setPathValues=a(35);c.prototype._setPathMaps=a(34);c.prototype._setJSONGs=a(19);c.prototype._setCache=a(34);c.prototype._invalidatePathValues=a(101);c.prototype._invalidatePathMaps=a(100)},function(b,d){function a(a){this._model=
a._materialize().boxValues().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){a=[a,b,e].concat(d);return this._model.call.apply(this._model,a)._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.syncRefCount=this.version=0;this.expired=a.expired||[];this.unsafeMode=a.unsafeMode||!1;this.cache={};this.topLevelModel=b;e(a.comparator)&&
(this.comparator=a.comparator);e(a.branchSelector)&&(this.branchSelector=a.branchSelector);e(a.errorSelector)&&(this.errorSelector=a.errorSelector);e(a.branchSelector)&&(this.branchSelector=a.branchSelector);e(a.onChange)&&(this.onChange=a.onChange);e(a.onChangesCompleted)&&(this.onChangesCompleted=a.onChangesCompleted)}var g=a(15),e=a(3);c.prototype.errorSelector=function(a,b){return b};c.prototype.comparator=function(a,b){return g(a,"value")&&g(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===
b.$expires:a===b};b.exports=c},function(b,d,a){(function(a){function c(a){a.Symbol||(a.Symbol=function(a){return"@@Symbol("+a+"):"+m++ +"}"});return a.Symbol}function e(a){return"@@"+a}var d={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},k=d[typeof self]&&self||d[typeof window]&&window;a=d[typeof a]&&a;!a||a.global!==a&&a.window!==a||(k=a);var m=0;b.exports=function(a){a=c(a);a.observable||(a.observable="function"===typeof a.for?a.for("observable"):"@@observable");a.for||
(a["for"]=e);return a}(k)}).call(d,a(66))},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192alcor_parent"]||a&&a["\u001e\u0192alcor_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(0),g=a(13),e=a(87);b.exports=function(a){if(!a||"object"!==typeof a)throw new e;var b,d,h,f;h=a&&a["\u001e\u0192alcor_metadata"];if(!h||"object"!==typeof h)return this._clone({_node:void 0});var w=this._recycleJSON,t=h.abs_path;
if(!t)return this._clone({_node:void 0,_seed:w&&{json:a}||void 0});if(0===t.length)return this._clone({_path:t,_node:this._root.cache,_referenceContainer:!0,_seed:w&&{json:a}||void 0});var r=h.deref_to;d=h.deref_from;var q=this._root.cache,u=g(q,t),l="e";if(d){l=!1;h=-1;f=d.length;for(b=q;++h<f&&(b=b[d[h]],b&&!b.$type););if(r&&b&&b.$type===c){h=0;f=r.length;d=b.value;for(l=!0;l&&h<f;++h)d[h]!==r[h]&&(l=!1);!1===l&&(u=void 0)}}l?"e"===l&&(b=!0):b=!1;return this._clone({_node:u,_path:t,_referenceContainer:b,
_seed:w&&{json:a}||void 0})}},function(b,d){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";b.exports=a},
function(b,d){function a(){var a=Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";b.exports=a},function(b,d){function a(a,b){var c=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");
c.name="InvalidModelError";this.stack=c.stack;this.message=c.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,d,a){function c(a,b,d){"object"===typeof a&&Object.keys(a).filter(function(b){return!g(b)&&void 0!==a[b]}).forEach(function(e){var d=a[e],f=b[e];f||(f=b[e]={});if(d.$type){f=
!d["\u001e\u0192alcor_wrapped_value"];if(d.value&&"object"===typeof d.value||f){var f={},h=Object.keys(d),k,m,q;m=0;for(q=h.length;m<q;m++)k=h[m],g(k)||(f[k]=d[k]);d=f}else d=d.value;b[e]=d}else c(d,f,e)})}var g=a(124);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(33),g=a(5);b.exports=function(a){for(var b=0,e=a.length;++b<e;)if("object"===typeof a[b])return new g(function(a){a.onError(Error("Paths must be simple paths"))});var d=this;return new g(function(b){return(new c(d,
[a],!1,!1,!1,void 0,!1)).subscribe(function(c){c=c.json;for(var e=-1,f=a.length;c&&++e<f;)c=c[a[e]];b.onNext(c)},function(a){b.onError(a)},function(){b.onCompleted()})})}},function(b,d,a){var c=a(18);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192alcor_version"];return null==a?-1:a}},function(b,d,a){var c=Array.isArray,g=a(95),e=a(94),h=a(18),k=a(88),m=a(4).toFlatBuffer,p=a(4).computeFlatBufferHash;b.exports=function(a,b,d,r){var f,t,l=a._path,v=a._root,n=v.cache,w,y,z=l.length;if(z){if((f=
h(a))&&f.$type)return{criticalError:new k(l,l)};y=[];for(t=0;t<z;++t)y[t]=l[t];t=a._referenceContainer}else f=n,y=[];w=[];var D=a._boxed,F=v.expired,A=a._materialized,x=!!a._source,G=v.branchSelector,C=a._treatErrorsAsValues,E=a._allowFromWhenceYouCame,H=(l=d[0])&&l.json;d={values:d};if(a._recycleJSON&&!0!==r)c(r=b)&&(r=p(m(b))),b=e(n,f,H,r,0,l,d,w,y,z,!1,t,v,F,G,D,A,x,C,E),H=b[0],b[0]=void 0,b[1]=void 0;else for(var J=-1,M=b.length;++J<M;)r=b[J],a=r.length,H=g(n,f,H,r,0,l,d,w,a,y,z,!1,t,v,F,G,D,
A,x,C,E);d.hasValue&&(l.json=H);return d}},function(b,d,a){var c=a(12);b.exports=function(a,b,d,k,m,p){var e=-1;b+=!!m;m=Array(b);for(a=p?c(a):a.value;++e<b;)m[e]=k[e];(d.errors||(d.errors=[])).push({path:m,value:a})}},function(b,d,a){function c(a,b,f,d,y,u,D,F,A,x,G,C,E,H,J,M,R,S,W,V){var l,n;if(void 0===b||void 0!==(l=b.$type)||void 0===d)return e[1]=!1,e[0]=p(b,l,d,y,u,D,F,y,A,x,G,E,H,M,R,S,W,h,g),e;var v,B,z="",L,I,Q,X=d.$keys,da=y+1,T,U,ea,aa,Y,ja=x+1,ga,ha;V&&C&&(ha=C.value,ga=C["\u001e\u0192alcor_abs_path"]);
if(f&&(v=f["\u001e\u0192alcor_metadata"])){if(!(J||f instanceof m))delete f["\u001e\u0192alcor_metadata"],f.__proto__=new m(v);else if(v.version===b["\u001e\u0192alcor_version"]&&v.$code===d.$code&&v.abs_path===b["\u001e\u0192alcor_abs_path"])return D.hasValue=!0,e[0]=f,e[1]=!1,e;B=v.keys;v.version=b["\u001e\u0192alcor_version"];v.abs_path=b["\u001e\u0192alcor_abs_path"];v.deref_to=ha;v.deref_from=ga}l={};var ia=-1,ka=X.length,ba,fa,ca=!1;a:for(;++ia<ka;)if(G=X[ia],ba=d[ia],null===G){if(void 0!==
ba)throw new r;z=""+q(""+z+"null")}else{if("object"!==typeof G)I=G,T=void 0,Q=!1,fa=I;else{T=G.to;I=G.from||0;"number"!==typeof T&&(T=I+(G.length||0)-1);if(0>T-I)break a;Q=!0;fa="{from:"+I+",length:"+(T-I+1)+"}"}do if(G=!1,U=f&&f[I],Y=A,aa=ja,ea=C,L=b[I],F[y]=I,A[x]=I,L&&void 0!==ba&&L.$type===k&&!w(L)&&(n=t(a,L,E),L=n[0],G=!0,Y=n[1],ea=n[2],aa=Y.length,n[0]=n[1]=n[2]=void 0),e=c(a,L,U,ba,da,u,D,F,Y,aa,G,ea,E,H,J,M,R,S,W,V),U=e[0],ca=ca||e[1],void 0!==U){void 0===v&&(v={},v.version=b["\u001e\u0192alcor_version"],
v.abs_path=b["\u001e\u0192alcor_abs_path"],v.deref_to=ha,v.deref_from=ga);if(void 0===f||null===f)J?(f=J(v),f["\u001e\u0192alcor_metadata"]||(f["\u001e\u0192alcor_metadata"]=v)):f=Object.create(new m(v));l[I]=!0;B&&B.hasOwnProperty(I)&&(B[I]=!1);f[I]=U}else f&&f.hasOwnProperty(I)&&delete f[I],ca=!0;while(Q&&++I<=T);ca||(z=void 0===ba?""+q(""+z+fa):""+q(""+z+fa+ba.$code))}ca&&(z="__incomplete__");if(v&&(v.$code=z,v.keys=l,B))for(I in B)B[I]&&delete f[I];e[0]=f;e[1]=ca;return e}function g(a,b,c,e,d,
g,h){a=a?u(a):[[]];var l=e.slice(0,d);a.forEach(function(a){d=b+a.length;f(l.concat(a),b,c,e,d,g,h)})}var e=Array(2),h=a(52),k=a(0),m=a(28),p=a(31),f=a(30),w=a(2),t=a(51),r=a(10);a(26);var q=a(4).getHashCode,u=a(4).flatBufferToPaths;b.exports=c},function(b,d,a){function c(a,b,d,v,n,B,y,z,D,F,A,x,G,C,E,H,J,M,R,S,W){var l,q;if(void 0===b||(l=b.$type)||n===D)return p(b,l,v,n,B,y,z,D,F,A,x,C,E,J,M,R,S,e,m);var u,N,P=n+1,O,L,I,Q,X=-1,da=0,T,U,ea=A+1,aa,Y;x=v[n];if(null===x){if(P<D)throw new t;return d}W&&
G&&(Y=G.value,aa=G["\u001e\u0192alcor_abs_path"]);a:do{if("object"!==typeof x)l=x,O=void 0,N=!1;else if(g(x)){if(void 0!==L)throw new r(v,L);X=0;L=x;da=x.length;if(0===da)break a;x=L[X];continue a}else{O=x.to;l=x.from||0;"number"!==typeof O&&(O=l+(x.length||0)-1);if(0>O-l)break a;N=!0}do if(x=!1,I=d&&d[l],U=F,T=ea,Q=G,u=b[l],z[n]=l,F[A]=l,u&&P<D&&u.$type===h&&!f(u)&&(q=w(a,u,C),u=q[0],x=!0,U=q[1],Q=q[2],T=U.length,q[0]=q[1]=q[2]=void 0),I=c(a,u,I,v,P,B,y,z,D,U,T,x,Q,C,E,H,J,M,R,S,W),void 0!==I){if(void 0===
d||null===d)x={},x.version=b["\u001e\u0192alcor_version"],x.abs_path=b["\u001e\u0192alcor_abs_path"],x.deref_to=Y,x.deref_from=aa,H?(d=H(x),d["\u001e\u0192alcor_metadata"]||(d["\u001e\u0192alcor_metadata"]=x)):d=new k(x);d[l]=I}while(N&&++l<=O);if(++X===da)break a;x=L[X]}while(1);return d}var g=Array.isArray,e=a(52),h=a(0),k=a(28),m=a(30),p=a(31),f=a(2),w=a(51),t=a(10),r=a(26);b.exports=c},function(b,d,a){var c=a(99),g=a(86);b.exports=function(a,b,d){var e,h,f=a._root,k,t,r=a._path.length;if(r)return{criticalError:new g};
t=[];h=e=f.cache;k=[];var q=a._boxed,u=f.expired,l=a._materialized,v=!!a._source;a=a._treatErrorsAsValues;for(var n=d[0],B={values:d},y,z=-1,D=b.length;++z<D;)y=b[z],d=y.length,c(h,e,y,0,n,B,k,d,t,r,!1,f,u,q,l,v,a);return B}},function(b,d,a){var c=Array(2),g=a(12),e=a(0),h=a(29),k=a(14),m=a(2),p=a(11),f=a(49);b.exports=function(a,b,d,q,u,l){k(d,b);var v,n;u=0;l=a;var t=b.value,r=t,w=t.length;do{if(0===u&&void 0!==(v=b["\u001e\u0192alcor_context"]))l=v,u=w;else if(n=t[u++],void 0===(l=l[n]))break;
if(u===w){n=l.$type;if(void 0!==n&&m(l))break;else{if(l===b)throw new f(t);l!==v&&p(b,l)}if(n===e)k(d,l),h(g(l),t,w,q),u=0,b=l,l=a,t=r=b.value,w=t.length;else break}else if(void 0!==l.$type)break}while(1);u<w&&void 0!==l&&(w=u);u=-1;for(t=Array(w);++u<w;)t[u]=r[u];c[0]=l;c[1]=t;return c}},function(b,d,a){var c=a(12),g=a(0),e=a(23),h=a(17),k=a(29);b.exports=function(a,b,d,w,t,r,q,u,l,v,n){var f=a&&a.value;if(b&&void 0===f)if(n)f={$type:e};else return;else if(v||g===b||h===b||!a["\u001e\u0192alcor_wrapped_value"]||
"object"===typeof f)f=c(a);t&&r&&(t.hasValue=!0,k(f,q,u,w,v,n),(w.paths||(w.paths=[])).push(r.slice(0,d+!!l)));return f}},function(b,d,a){function c(a,b,d,n,B,y,z,D,F,A,x,G,C,E,H,J,M){var l,v;if(void 0===b||(l=b.$type)||n===D)return f(b,l,d,n,B,y,z,D,F,A,x,G,C,E,H,J,M,k,m);var u,V,Z=n+1,K,N,P=-1,O=0,L,I,Q=A+1;x=d[n];if(null===x){if(Z<D)throw new r;}else{a:do{if("object"!==typeof x)l=x,K=void 0,V=!1;else if(g(x)){if(void 0!==N)throw new q(d,N);P=0;N=x;O=x.length;if(0===O)break a;x=N[P];continue a}else{K=
x.to;l=x.from||0;"number"!==typeof K&&(K=l+(x.length||0)-1);if(0>K-l)break a;V=!0}do x=!1,I=F,L=Q,u=b[l],z[n]=l,F[A]=l,u&&Z<D&&u.$type===h&&!w(u)&&(p(e(u),F,L,B),v=t(a,u,G,B,E,H),u=v[0],x=!0,I=v[1],L=I.length,v[0]=v[1]=void 0),c(a,u,d,Z,B,y,z,D,I,L,x,G,C,E,H,J,M);while(V&&++l<=K);if(++P===O)break a;x=N[P]}while(1)}}var g=Array.isArray,e=a(12),h=a(0),k=a(98),m=a(30),p=a(29),f=a(31),w=a(2),t=a(97),r=a(10),q=a(26);b.exports=c},function(b,d,a){function c(a,b,e,d,h,k,m,t,r,u){if(!q(a)&&!a.$type)for(var n in a)if("\u001e"!==
n[0]&&"$"!==n[0]&&f(a,n)){var y=a[n],x=w(y)&&!y.$type,B=g(e,d,h,n,y,x,!1,k,m,t,r,u),z=B[0],B=B[1];z&&(x?c(y,b+1,e,B,z,k,m,t,r,u):v(z,B,n,t)&&l(B,p(z),t,k))}}function g(a,b,c,d,f,l,k,v,p,r,w,H){for(k=c.$type;k===h;){a:{b=f;k=a;var n=v,y=p,x=r,z=w,B=H;if(t(c))u(c,y,x),b=[void 0,k];else{m(x,c);var A=c,D=c.value,C;c=c["\u001e\u0192alcor_context"];if(null!=c)C=c["\u001e\u0192alcor_parent"]||k;else{var E=0,F=D.length-1;C=c=k;do{C=g(k,C,c,D[E],b,E<F,!0,n,y,x,z,B);c=C[0];if(q(c)){b=C;break a}C=C[1]}while(E++<
F);A["\u001e\u0192alcor_context"]!==c&&e(A,c)}b=[c,C]}}c=b[0];if(q(c))return b;b=b[1];k=c&&c.$type}if(void 0!==k)return[c,b];if(null==d){if(l)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[d];return[c,b]}var e=a(11),h=a(0),k=a(18),m=a(14),p=a(7),f=a(15),w=a(1),t=a(2),r=a(3),q=a(8),u=a(6),l=a(16),v=a(39);b.exports=function(a,b){var e=a._root,d=e.expired,f=e.version++,g=e._comparator,h=e._errorSelector,l=e.cache,n=k(a),m=n["\u001e\u0192alcor_parent"]||l;a=l["\u001e\u0192alcor_version"];
for(var v=-1,p=b.length;++v<p;)c(b[v].json,0,l,m,n,f,d,e,g,h);b=l["\u001e\u0192alcor_version"];e=e.onChange;r(e)&&a!==b&&e()}},function(b,d,a){function c(a,b,e,d,f,h,k,p){var l={},n=b<a.length-1,v=a[b],t=r(v,l);do{var w=g(e,d,f,t,n,!1,h,k,p),y=w[0],w=w[1];y&&(n?c(a,b+1,e,w,y,h,k,p):u(y,w,t,p)&&q(w,m(y),p,h));t=r(v,l)}while(!l.done)}function g(a,b,c,d,f,h,m,q,r){for(h=c.$type;h===e;){a:{b=a;var l=m,n=q,v=r;if(p(c))t(c,n,v),b=[void 0,b];else{k(v,c);h=c;var u=c.value,y;c=c["\u001e\u0192alcor_context"];
if(null!=c)y=c["\u001e\u0192alcor_parent"]||b;else{var B=0,z=u.length-1;y=c=b;do{y=g(b,y,c,u[B],B<z,!0,l,n,v);c=y[0];if(w(c)){b=y;break a}y=y[1]}while(B++<z);h["\u001e\u0192alcor_context"]!==c&&(b=c["\u001e\u0192alcor_refs_length"]||0,c["\u001e\u0192alcor_refs_length"]=b+1,c["\u001e\u0192alcor_ref"+b]=h,h["\u001e\u0192alcor_context"]=c,h["\u001e\u0192alcor_ref_index"]=b)}b=[c,y]}}c=b[0];if(w(c))return b;b=b[1];h=c.$type}if(void 0!==h)return[c,b];if(null==d){if(f)throw Error("`null` is not allowed in branch key positions.");
}else b=c,c=b[d];return[c,b]}var e=a(0),h=a(18),k=a(14),m=a(7),p=a(2),f=a(3),w=a(8),t=a(6),r=a(4).iterateKeySet,q=a(16),u=a(39);b.exports=function(a,b){var e=a._root,d=e.expired,g=e.version++,l=e.cache,k=h(a),m=k["\u001e\u0192alcor_parent"]||l;a=l["\u001e\u0192alcor_version"];for(var p=-1,q=b.length;++p<q;)c(b[p],0,l,m,k,g,d,e);b=l["\u001e\u0192alcor_version"];e=e.onChange;f(e)&&a!==b&&e()}},function(b,d,a){function c(a,b){var c=!1;return function(){c||a._disposed||(c=!0,a._callbacks[b]=null,a._optimizedPaths[b]=
[],a._requestedPaths[b]=[],0===--a._count&&(a._disposable.dispose(),a.requestQueue.removeRequest(a)))}}function g(a){for(var b=[],c=-1,e=0,d=a.length;e<d;++e)for(var f=a[e],g=0,h=f.length;g<h;++g)b[++c]=f[g];return b}function e(a){if(!a)return{dispose:t,unsubscribe:t};a.unsubscribe?a.dispose||(a.dispose=a.unsubscribe):a.unsubscribe=a.dispose;return a}var h=a(104),k=a(105),m=0,p=a(54).GetRequest,f=a(19),w=a(35),t=a(22),r=a(17),q=[],u=a(9);d=function(a,b){this.scheduled=this.sent=!1;this.requestQueue=
b;this.id=++m;this.type=p;this._scheduler=a;this._pathMap={};this._optimizedPaths=[];this._requestedPaths=[];this._callbacks=[];this._count=0;this._collapsed=this._disposable=null;this._disposed=!1};d.prototype={batch:function(a,b,d){var f=this,g=f._optimizedPaths,h=f._requestedPaths,m=f._callbacks,l=g.length;g[l]=b;h[l]=a;m[l]=d;++f._count;if(!f.scheduled){f.scheduled=!0;var p;a=f._scheduler.schedule(function(){f._disposable=p=e(k(f,g,function(a,b){var c,e,d;f.requestQueue.removeRequest(f);f._disposed=
!0;if(a instanceof u)for(c=0,d=m.length;c<d;++c)(e=m[c])&&e(a);else if(f._count)for(f._merge(h,g,a,b),c=0,d=m.length;c<d;++c)(e=m[c])&&e(a,b)}))});f._disposable=e(p||a)}return c(f,l)},add:function(a,b,e){var f=h(a,b,this._pathMap),d;f?(d=f[3],a=f[2]):(d=a,a=b);var g=!1,k=!1;a.length<b.length&&(g=!0,b=this._callbacks.length,this._callbacks[b]=e,this._requestedPaths[b]=f[0],this._optimizedPaths[b]=f[1],++this._count,k=c(this,b));return[g,d,a,k]},_merge:function(a,b,c,e){var d=this.requestQueue.model,
h=d._root,k=h.errorSelector,h=h.comparator,m=d._path;d._path=q;if(c){var l=c;l instanceof Error?l={message:l.message}:l.$type||(l={$type:r,value:l});a=g(a).map(function(a){return{path:a,value:l}});w(d,a,k,h)}else f(d,[{jsonGraph:e.jsonGraph,paths:g(b)}],k,h);d._path=m}};b.exports=d},function(b,d,a){function c(a,b){this.model=a;this.scheduler=b;this.requests=this._requests=[]}var g=a(54),e=a(106),h=a(102),k=a(4).collapse;c.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,b){a.paths=
k(a.paths);return e(a,this.model,b)},get:function(a,b,c){function e(a){p||(--f,0===f&&c(a))}var d=[],f=0,k=this._requests,m,l=a,p=!1,n;a=0;for(m=k.length;a<m&&(n=k[a],n.type!==g.GetRequest||(n.sent?(n=n.add(l,b,e),n[0]&&(l=n[1],b=n[2],d[d.length]=n[3],++f)):(n.batch(l,b,e),b=[],l=[],++f),b.length));++a);b.length&&(n=new h(this.scheduler,this),k[k.length]=n,++f,k=n.batch(l,b,e),d[d.length]=k);return function(){if(!p&&0!==f){p=!0;for(var a=d.length,b=0;b<a;++b)d[b]()}}},removeRequest:function(a){for(var b=
this._requests,c=b.length;0<=--c;)if(b[c].id===a.id){b.splice(c,1);break}}};b.exports=c},function(b,d,a){var c=a(4).hasIntersection;b.exports=function(a,b,d){for(var e=[],g=[],h=[],f=[],w=0,t=-1,r=!1,q=0,u=b.length;q<u;++q){var l=b[q],v=l.length,n=d[v];n&&c(n,l,0,v)?(!r&&0<q&&(g=a.slice(0,q),e=b.slice(0,q)),h[w]=a[q],f[w++]=b[q],r=!0):r&&(e[++t]=l,g[t]=a[q])}return r?[h,f,e,g]:null}},function(b,d,a){d=a(4);var c=d.toTree,g=d.toPaths,e=a(9);b.exports=function(a,b,d){if(0===a._count)return a.requestQueue.removeRequest(a),
null;a.sent=!0;a.scheduled=!1;for(var h=a._pathMap,f=0,k=Object.keys(b).length;f<k;++f)for(var m=b[f],r=0,q=m.length;r<q;++r){var u=m[r],l=u.length;h[l]?(l=h[l],l[l.length]=u):h[l]=[u]}b=Object.keys(h);f=0;for(k=b.length;f<k;++f)m=b[f],h[m]=c(h[m]);var h=a._collasped=g(h),v,n;try{n=a.requestQueue.model._source.get(h)}catch(B){return d(new e),null}return n.subscribe(function(a){v=a},function(a){d(a,v)},function(){d(null,v)})}},function(b,d,a){var c=a(19),g=a(35),e=a(9),h=[],k={dispose:function(){}};
b.exports=function(a,b,d){var f=a.paths,m=b._root,p=m.errorSelector,q=m.comparator,u=b._path,l,v;try{v=b._source.set(a)}catch(B){return d(new e),k}var n=v.subscribe(function(a){if(!n||!n.disposed){b._path=h;var e=c(b,[{paths:f,jsonGraph:a.jsonGraph}],p,q);a.paths=e[1];b._path=u;l=a}},function(a){n&&n.disposed||(b._path=h,g(b,f.map(function(b){return{path:b,value:a}}),p,q),b._path=u,d(a))},function(){d(null,l)});return n}},function(b,d,a){function c(a,b,c,e,d){this.callPath=b;this.args=c;d&&(this.paths=
d);e&&(this.suffix=e);this.model=a;b=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof b?b:a._root.version}var g=a(58);d=a(5);var e=a(9);c.prototype=Object.create(d.prototype);c.prototype._subscribe=function(a){var b=this.callPath,c=this.args,d=this.suffix,f=this.paths,h=this.model,t=h._clone({_path:[]}),b=h._path.concat(b),r=this.initialCacheVersion;if(h._source){var q,u;try{u=h._source.call(b,c,d,f)}catch(l){a.onError(new e(l));return}return u.subscribe(function(a){q=
a},function(b){a.onError(b)},function(){var b=q.invalidated;b&&b.length&&(++h._root.syncRefCount,t.invalidate.apply(t,b),--h._root.syncRefCount);return(new g(t.withoutDataSource(),[q],!1,!1,r)).subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}a.onError(Error("function does not exist"))};b.exports=c},function(b,d,a){function c(a,b,c){this._model=a;var d=[],f,k,l=-1,m=b.length,n=a._root.cache["\u001e\u0192alcor_version"];for(this.initialCacheVersion="number"===
typeof c?c:"number"===typeof n?n:a._root.version;++l<m;){a=b[l];if(g(a))c="PathValues";else if(e(a))c="PathValues";else if(h(a))c="PathMaps";else throw Error("Invalid Input");k!==c&&(k=c,f={inputType:c,arguments:[]},d.push(f));f.arguments.push(a)}this._groups=d}var g=Array.isArray;d=a(5);var e=a(21),h=a(20),k=a(22),m={dispose:k,unsubscribe:k},p=a(3);c.prototype=Object.create(d.prototype);c.prototype.progressively=function(){return this};c.prototype._toJSONG=function(){return this};c.prototype._subscribe=
function(a){var b=this._model;this._groups.forEach(function(a){(0,b["_invalidate"+a.inputType])(b,a.arguments)});a.onCompleted();a=b._root;var c=a.onChangesCompleted;this.initialCacheVersion!==a.cache["\u001e\u0192alcor_version"]&&0>=a.syncRefCount&&p(c)&&c.call(a.topLevelModel);return m};b.exports=c},function(b,d,a){function c(a,b){var c=[],e,d;e=0;for(d=a.length;e<d;e++)c[e]=a[e];a=0;for(d=b.length;a<d;a++)c[e++]=b[a];return c}var g=a(56),e=a(50),h=a(32),k=a(7),m=a(55),p=a(9),f=a(3);b.exports=function t(a,
b,d,l,v,n,B,y,z){if(10===n)throw new e;var q=b._request,u=d.requestedMissingPaths,r=d.optimizedMissingPaths,x=new m,G=[],C=b._path;if(C.length)for(var E=0,H=u.length;E<H;++E)G[E]=c(C,u[E]);else G=u;var J=a.isProgressive||!z?u:y,q=q.get(G,r,function(c){if(c instanceof p)l.onError(c);else if(c=g(b,J,l,a.isProgressive,a.isJSONGraph,d.values,v,z))x.currentDisposable=t(a,b,c,l,v,n+1,B,y,z);else{c=b._root;var e=c.cache,m=e["\u001e\u0192alcor_version"];h(c,c.expired,k(e),b._maxSize,b._collectRatio,m);e=
c.onChangesCompleted;B!==m&&0>=c.syncRefCount&&f(e)&&e.call(c.topLevelModel)}});x.currentDisposable=q;return x}},function(b,d,a){var c=a(5),g=a(57),e=a(40),h=a(33);b.exports=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];var f=e(b,g,"get");return!0!==f?new c(function(a){a.onError(f)}):new h(this,b)}},function(b,d,a){function c(a,b){for(var e,d,g,p=Object.keys(b),f=-1,w=p.length;++f<w;)g=p[f],"\u001e\u0192alcor_metadata"!==g&&(d=b[g],e=a[g],e!==d&&(void 0===e||"object"!==typeof d?
a[g]=d:c(e,d)));a["\u001e\u0192alcor_metadata"]=b["\u001e\u0192alcor_metadata"];return a}b.exports=c},function(b,d,a){var c=a(115),g=a(40),e=a(58),h=a(5);b.exports=function(){var a=g(arguments,c,"set");if(!0!==a)return new h(function(b){b.onError(a)});for(var b=-1,d=arguments.length,f=[];++b<d;)f[b]=arguments[b];return new e(this,f)}},function(b,d,a){function c(a){return a.path}function g(a){return a.paths}var e=a(119);b.exports=function(a,b){for(var d=a._root.errorSelector,h=-1,f=b.length,k=[],t=
[],r={requestedPaths:k,optimizedPaths:t};++h<f;){var q=b[h],u=q.inputType,q=q.arguments;if(0<q.length){var l=(0,a["_set"+u])(a,q,d);t.push.apply(t,l[1]);"PathValues"===u?k.push.apply(k,q.map(c)):"JSONGs"===u?k.push.apply(k,e(q,g)):k.push.apply(k,l[0])}}return r}},function(b,d,a){function c(a,b){var c=a._path,d={};a._path=e;a._getPathValuesAsJSONG(a._materialize().withoutDataSource(),b,[d]);a._path=c;return d}function g(a,b,c,d,e,f){return(new k(a,c,d,e,!0,f,!1)).subscribe(b)}var e=[],h=a(55),k=a(33),
m=a(113),p=a(27).getWithPathsAsPathMap,f=a(9),w=a(50);b.exports=function r(a,b,d,e,k,B,y){if(10===B)throw new w;var l=m(a,d),n=l.optimizedPaths,q=l.requestedPaths;if(void 0===a._source)return g(a,b,q,e,k,y);if(k){l=p(a,q,[{}],!0);if(l.criticalError)return b.onError(l.criticalError),null;b.onNext(l.values[0])}var l=c(a,n),v=new h,l=a._request.set(l,function(c,h){if(typeof c===f)b.onError(c);else{var l=!1;if(c||n.length===h.paths.length)l=!0;l?v.currentDisposable=g(a,b,q,e,k,y):r(a,b,d,e,k,B+1,y)}});
v.currentDisposable=l;return v}},function(b,d){b.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(b,d){function a(){}var c={dispose:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){a=setTimeout(a,this.delay);return new c(a)};c.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)};b.exports=a},function(b,
d,a){var c=a(5),g=a(21);b.exports=function(a,b){var d=g(a)?a:{path:a,value:b};a=0;var e=d.path;for(b=e.length;++a<b;)if("object"===typeof e[a])return new c(function(a){a.onError(Error("Paths must be simple paths"))});var h=this;return new c(function(a){return h.set(d).subscribe(function(b){b=b.json;for(var c=-1,d=e.length;b&&++c<d;)b=b[e[c]];a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}},function(b,d){b.exports=function(a,b){for(var c=-1,d=-1,h=a.length,k=[];++d<h;)for(var m=
b(a[d],d,a),p=-1,f=m.length;++p<f;)k[++c]=m[p];return k}},function(b,d,a){var c=a(15),g=Array.isArray,e=a(1);b.exports=function(a){var b=a;if(e(b)){var b=g(a)?[]:{},d;for(d in a)"\u001e"!==d.charAt(0)&&c(a,d)&&(b[d]=a[d])}return b}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(1);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=a(37),g=a(42),e=a(41);b.exports=function(a){a=a.$expires;return null!=
a&&a!==e&&a!==g&&a<c()}},function(b,d,a){b.exports=function(a){return"$size"===a||"\u001e\u0192alcor_wrapped_value"===a||"\u001e"===a.charAt(0)}},function(b,d,a){var c=a(0),g=a(17),e=a(7),h=a(59),k=a(1),m=a(2),p=a(3),f=a(65),w=a(60),t=a(6),r=a(63),q=a(16),u=a(62);b.exports=function(a,b,d,B,y,z,D,F,A,x,G){var l,n,v,J,M,R;if(b===d){if(null===d)return b=f(d,void 0,d),a=q(a,-b.$size,A,D),b=w(b,a,B,void 0,z);if(void 0===d)return d;if(v=k(b))if(l=b.$type,null==l)return null==b["\u001e\u0192alcor_parent"]&&
w(b,a,B,D,z),b}else if(v=k(b))l=b.$type;if(l!==c){if(J=k(d))n=d.$type;if(v&&!l&&(null==d||J&&!n))return b}else{if(null==d){if(m(b)){t(b,F,A);return}return b}if(J=k(d))if(n=d.$type,n===c)if(b===d){if(null!=b["\u001e\u0192alcor_parent"])return b}else if(M=b.$timestamp,R=d.$timestamp,!m(b)&&!m(d)&&R<M)return}if(l&&J&&!n)return w(r(b,d,a,B,A,D),a,B,void 0,z);n||!J?(n===g&&p(G)&&(d=G(u(y,B),d)),n&&b===d?null==b["\u001e\u0192alcor_parent"]&&(b=f(b,l,b.value),a=q(a,-b.$size,A,D),b=w(b,a,B,D,z)):(y=!0,(l&&
!m(b)||!v)&&(y=!1===h(d)<h(b))&&(l||n)&&p(x)&&(y=!x(b,d,z.slice(0,z.index))),y&&(d=f(d,n,n?d.value:d),x=e(b)-e(d),b=r(b,d,a,B,A,D),a=q(a,x,A,D),b=w(b,a,B,D,z))),m(b)&&t(b,F,A)):null==b&&(b=w(d,a,B,void 0,z));return b}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192alcor_refs_length"]||0,d=b["\u001e\u0192alcor_refs_length"]||0,g=-1;++g<c;){var m=a["\u001e\u0192alcor_ref"+g];void 0!==m&&(m["\u001e\u0192alcor_context"]=b,b["\u001e\u0192alcor_ref"+(d+g)]=m,a["\u001e\u0192alcor_ref"+
g]=void 0)}b["\u001e\u0192alcor_refs_length"]=c+d;a["\u001e\u0192alcor_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192alcor_refs_length"]||0;++b<c;){var d=a["\u001e\u0192alcor_ref"+b];null!=d&&(d["\u001e\u0192alcor_context"]=d["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_ref"+b]=void 0)}a["\u001e\u0192alcor_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192alcor_context"];if(b){for(var c=(a["\u001e\u0192alcor_ref_index"]||
0)-1,d=(b["\u001e\u0192alcor_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192alcor_ref"+c]=b["\u001e\u0192alcor_ref"+(c+1)];b["\u001e\u0192alcor_refs_length"]=d;a["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_context"]=void 0}return a}},function(b,d){function a(a){this.esObserver=a}function c(a){this.subscription=a}a.prototype={onNext:function(a){"function"===typeof this.esObserver.next&&this.esObserver.next(a)},onError:function(a){"function"===typeof this.esObserver.error&&this.esObserver.error(a)},
onCompleted:function(){"function"===typeof this.esObserver.complete&&this.esObserver.complete()}};c.prototype.unsubscribe=function(){this.subscription.dispose()};b.exports=function(b){return{subscribe:function(d){return new c(b.subscribe(new a(d)))}}}},function(b,d,a){b.exports=a(67)}])});
//# sourceMappingURL=falcor.min.js.map
