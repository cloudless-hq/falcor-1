(function(b,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define("falcor",[],c):"object"===typeof exports?exports.falcor=c():b.falcor=c()})(this,function(){return function(b){function c(d){if(a[d])return a[d].exports;var h=a[d]={i:d,l:!1,exports:{}};b[d].call(h.exports,h,h.exports,c);h.l=!0;return h.exports}var a={};c.m=b;c.c=a;c.i=function(a){return a};c.d=function(a,h,f){Object.defineProperty(a,h,{configurable:!1,enumerable:!0,get:f})};
c.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(d,"a",d);return d};c.o=function(a,h){return Object.prototype.hasOwnProperty.call(a,h)};c.p="";return c(c.s=130)}([function(b,c){b.exports="ref"},function(b,c){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,c,a){var d=a(37),h=a(42),f=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&(a===h||a<d())}},function(b,c){b.exports=function(a){return!!a&&"function"===typeof a}},
function(b,c,a){b.exports=a(73)},function(b,c,a){(function(d){function h(a){this._subscribe=a}var f=a(22),e=a(83),k=a(129);h.prototype[e.observable]=function(){return k(this)};h.prototype._toJSONG=function(){return this};h.prototype.progressively=function(){return this};h.prototype.subscribe=h.prototype.forEach=function(a,d,h){var e=a;e&&"object"===typeof e?e.onNext||e.onError||e.onCompleted||(e={onNext:(e.next||f).bind(e),onError:(e.error||f).bind(e),onCompleted:(e.complete||f).bind(e)}):e={onNext:a||
f,onError:d||f,onCompleted:h||f};a=this._subscribe(e);switch(typeof a){case "function":return{dispose:a,unsubscribe:a};case "object":return a||{dispose:f,unsubscribe:f};default:return{dispose:f,unsubscribe:f}}};h.prototype.then=function(a,f){var h=this;h._promise||(h._promise=new d.Promise(function(a,d){var f=!1,e=[];h.subscribe(function(a){e[e.length]=a},function(a){f=!0;d(a)},function(){var d=e;1>=e.length&&(d=e[0]);!1===f&&a(d)})}));return h._promise.then(a,f)};b.exports=h}).call(c,a(66))},function(b,
c,a){var d=a(53);b.exports=function(a,f,e){a["\u001e\u0192alcor_invalidated"]||(a["\u001e\u0192alcor_invalidated"]=!0,f.push(a),d(e,a));return a}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$size||0}},function(b,c){b.exports=function(a){return null==a||"object"!==typeof a}},function(b,c){function a(a){var d=Error.call(this,"An exception was thrown when making a request.");d.name="InvalidSourceError";this.stack=d.stack;this.message=d.message;this.innerError=a;return this}a.prototype=
Object.create(Error.prototype);a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,c){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,c,a){b.exports=function(a,
h){var d=h["\u001e\u0192alcor_refs_length"]||0;h["\u001e\u0192alcor_ref"+d]=a;h["\u001e\u0192alcor_refs_length"]=d+1;a["\u001e\u0192alcor_ref_index"]=d;a["\u001e\u0192alcor_context"]=h}},function(b,c,a){b.exports=function(a){for(var d,f=Object.keys(a),e={},k=-1,g=f.length;++k<g;)d=f[k],"\u001e"!==d.charAt(0)&&(e[d]=a[d]);return e}},function(b,c,a){var d=a(41);b.exports=function(a,f){if(f.$expires!==d){var e=a["\u001e\u0192alcor_head"];if(!e)a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_tail"]=
f;else if(e!==f){var h=f["\u001e\u0192alcor_prev"],g=f["\u001e\u0192alcor_next"];g&&(g["\u001e\u0192alcor_prev"]=h);h&&(h["\u001e\u0192alcor_next"]=g);f["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_head"]=f;f["\u001e\u0192alcor_next"]=e;e["\u001e\u0192alcor_prev"]=f;f===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=h)}}}},function(b,c,a){var d=a(1),h=Object.prototype.hasOwnProperty;b.exports=function(a,e){return d(a)&&h.call(a,e)}},function(b,c,a){var d=a(38),h=a(64);b.exports=
function(a,e,k,g){var f=a;do{var p=f["\u001e\u0192alcor_parent"];0>=(f.$size=(f.$size||0)-e)&&null!=p?d(f,p,f["\u001e\u0192alcor_key"],k):f["\u001e\u0192alcor_version"]!==g&&h(f,g);f=p}while(f);return a}},function(b,c){b.exports="error"},function(b,c,a){var d=a(18);b.exports=function(a,f){f=f||a._path;var e=a._node;if(!e||void 0===e["\u001e\u0192alcor_parent"]||e["\u001e\u0192alcor_invalidated"])a._node=null,0===f.length?e=a._root.cache:(e=d(a._root.cache,f),f===a._path&&(a._node=e));return e}},function(b,
c,a){function d(a,e){var f=a,g,b=0,p=e.length;if(0<p){do for(f=f[e[b]];f&&(g=f.$type)===h;)f=d(a,f.value);while(++b<p&&f&&!g)}return f}var h=a(0);b.exports=d},function(b,c,a){function d(a,f,e,g,p,k,b,t,v,u,q,B,c,G,H,J,M){var l={},m=f<a.length-1,y=a[f],x=n(y,l),r=B.index;do{q.depth=f;var A=h(e,g,p,k,b,t,x,m,!1,q,B,c,G,H,J,M);q[f]=x;q.index=f;var w=A[0],C=A[1],z=A[4];z[z.index++]=x;w&&(m?d(a,f+1,e,C,w,k,A[3],A[2],v,u,q,z,c,G,H,J,M):(v.push(q.slice(0,q.index+1)),u.push(z.slice(0,z.index))));x=n(y,l);
if(l.done)break;B.index=r}while(1)}function h(a,d,m,y,b,n,t,c,E,z,w,B,F,G,H,J){for(E=m.$type;E===e;){a:{d=a;b=y;w=z;var l=B,r=F,x=G,A=H,C=J,D,K,O=m.value;E=O.slice(0);if(g(m))v(m,r,x),m=void 0,D=d,K=b,E.index=O.length;else{var P=0,L=m,I=O.length-1;D=m=d;K=n=b;do{var N=O[P],Q=P<I;E.index=P;K=h(d,D,m,b,K,n,N,Q,!0,w,E,l,r,x,A,C);m=K[0];E=K[4];if(p(m)){E.index=P;w=K;break a}D=K[1];n=K[2];K=K[3]}while(P++<I);E.index=P;L["\u001e\u0192alcor_context"]!==m&&k(L,m)}f[0]=m;f[1]=D;f[2]=n;f[3]=K;f[4]=E;w=f}m=
w[0];if(p(m))return w;d=w[1];n=w[2];b=w[3];w=w[4];E=m.$type}if(void 0===E){if(null==t){if(c)throw new q;m&&(t=m["\u001e\u0192alcor_key"])}else d=m,b=n,m=d[t],n=b&&b[t];m=u(d,m,n,t,z,w,B,F,G,H,J)}f[0]=m;f[1]=d;f[2]=n;f[3]=b;f[4]=w;return f}var f=Array(5),e=a(0),k=a(11),g=a(123),t=a(3),p=a(8),v=a(6),n=a(4).iterateKeySet,u=a(125),q=a(10);b.exports=function(a,e,h,g){var p=a._root,k=p.expired,b=p.version++,m=p.cache;a=m["\u001e\u0192alcor_version"];for(var l=[],n=[],y=[],v=[],u=-1,q=e.length;++u<q;)for(var r=
e[u],c=r.paths,r=r.jsonGraph,M=-1,R=c.length;++M<R;){var S=c[M];n.index=0;d(S,0,m,m,m,r,r,r,y,v,l,n,b,k,p,g,h)}f[0]=void 0;f[1]=void 0;f[2]=void 0;f[3]=void 0;f[4]=void 0;e=m["\u001e\u0192alcor_version"];h=p.onChange;t(h)&&a!==e&&h();return[y,v]}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&"json"in a}},function(b,c,a){var d=Array.isArray,h=a(1);b.exports=function(a){return h(a)&&(d(a.path)||"string"===typeof a.path)}},function(b,c){b.exports=function(){}},function(b,c){b.exports=
"atom"},function(b,c,a){function d(a,k,g,b){if(g===b)return!0;var e,t=-1,n=0,u=g+1,q,r,l;e=k[g];if(null===e)return a===f;a:do{if("object"!==typeof e)g=e,r=void 0,q=!1;else if(h(e)){if(void 0!==l)break a;t=0;l=e;n=e.length;if(0===n)break a;e=l[t];continue a}else{r=e.to;g=e.from||0;"number"!==typeof r&&(r=g+(e.length||0)-1);if(0>r-g)break a;q=!0}do if(u===b){if(null!==a[g])return!1}else if(e=a[g],null===e||void 0===e||!1===d(e,k,u,b))return!1;while(q&&++g<=r);if(++t===n)break a;e=l[t]}while(1);return!0}
var h=Array.isArray,f=a(25);b.exports=d},function(b,c){b.exports={$__null__$:null}},function(b,c){function a(a,h){a=Error.call(this,"The KeySet "+JSON.stringify(h)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");a.name="InvalidKeySetError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===a.name};b.exports=a},function(b,
c,a){b.exports={getWithPathsAsPathMap:a(92),getWithPathsAsJSONGraph:a(96)}},function(b,c,a){function d(a){this["\u001e\u0192alcor_metadata"]=a||{}}function h(a,e){var g=arguments.length;a=0===g?this:a;if(!a||typeof a!==k)return a;if(a.self!==a&&a.global!==a&&a.window!==a){var g=f(a,0<g&&e||h),b=g["\u001e\u0192alcor_metadata"];b&&(delete g["\u001e\u0192alcor_metadata"],b.version=a["\u001e\u0192alcor_metadata"].version);g.__proto__=new d(b);return g}}function f(a,d){var h=arguments.length;a=0===h?this:
a;if(!a||typeof a!==k)return a;if(a.self!==a&&a.global!==a&&a.window!==a){var b,g,t,q;d=0<h&&d||f;if(e(a))for(h=-1,b=a.length,q=Array(b);++h<b;)q[h]=a[h];else{q={};h=-1;g=a["\u001e\u0192alcor_metadata"];t=Object.keys(a);b=t.length;if(g){var r=g.$code,l=g.abs_path,m=g.deref_to,y=g.deref_from;q["\u001e\u0192alcor_metadata"]=g={};r&&(g.$code=r);l&&(g.abs_path=l);m&&(g.deref_to=m);y&&(g.deref_from=y)}for(;++h<b;)g=t[h],"\u001e\u0192alcor_metadata"!==g&&(q[g]=d(a[g],d))}return q}}d.prototype=Object.create(Object.prototype,
Object.assign({toJSON:{value:f},toProps:{value:h},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,d){var f=Array.prototype[d];
a[d]={writable:!0,enumerable:!1,value:function(){return f.apply(this,arguments)}};return a},{})));var e=Array.isArray,k="object";b.exports=d},function(b,c){b.exports=function(a,d,h,f){var e=0,k;k=f.jsonGraph;k||(k={},f.jsonGraph=k);do{f=d[e++];if(e>=h){k=k[f]=a;break}k=k[f]||(k[f]={})}while(1);return k}},function(b,c){var a=Array.isArray;b.exports=function(d,h,f,e,k,b,t){for(var g,v=-1,n=k-h,u=n&&Array(n)||void 0;++v<n;){g=d[v+h];var q;q=g;if("object"!==typeof q||null===q)q=!1;else if(a(q))q=0===
q.length;else{var r=q.to,l=q.from||0;"number"!==typeof r&&(r=l+(q.length||0));q=l>=r}if(q)return;u[v]=g}d=null===g;r=h;h=k;v=e;e=f.requestedMissingPaths||(f.requestedMissingPaths=[]);g=!0;do{if(n<k||!g){q=-1;l=r;for(r=Array(h);++q<l;)r[q]=v[q];for(v=-1;q<h;)r[q++]=u[++v];e.push(r)}else e.push(u);if(g=!g)break;r=t;h=t+n-Number(d);v=b;e=f.optimizedMissingPaths||(f.optimizedMissingPaths=[])}while(1)}},function(b,c,a){var d=a(23),h=a(13),f=a(2),e=a(6);b.exports=function(a,g,b,p,v,n,u,q,r,l,m,y,x,A,c,
D,E,z,w){if(!a||!g){if(c&&!D){if(v)return n.hasValue=!0,{$type:d};return}return w(b,p,n,u,q,r,l)}if(f(a))return a["\u001e\u0192alcor_invalidated"]||e(a,x,y),w(b,p,n,u,q,r,l);h(y,a);if(v)return m&&(u[p]=null),z(a,g,p,v,n,u,r,l,m,A,c,E)}},function(b,c,a){var d=a(38),h=a(15);b.exports=function(a,e,b,g,t,p){var f=t;"number"!==typeof f&&(f=.75);t="number"===typeof p;var f=g*f,k,u,q;for(u=e.pop();u;)q=u.$size||0,b-=q,!0===t?h(u,q,a,p):(k=u["\u001e\u0192alcor_parent"])&&d(u,k,u["\u001e\u0192alcor_key"],
a),u=e.pop();if(b>=g){for(u=e=a["\u001e\u0192alcor_tail"];b>=f&&u;)e=e["\u001e\u0192alcor_prev"],q=u.$size||0,b-=q,!0===t&&h(u,q,a,p),u=e;a["\u001e\u0192alcor_tail"]=a["\u001e\u0192alcor_prev"]=u;null==u?a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_next"]=void 0:u["\u001e\u0192alcor_next"]=void 0}}},function(b,c,a){c=a(5);var d=a(56),h=a(109),f=a(22),e={dispose:f,unsubscribe:f},k=a(32),g=a(7),t=a(3),p=b.exports=function(a,d,f,e,h,b,g){d&&d[0]&&Array.isArray(d[0].$keys)&&(d=d[0]);this.model=a;
this.currentRemainingPaths=d;this.isJSONGraph=f||!1;this.isProgressive=e||!1;this.forceCollect=h||!1;this.recycleJSON=void 0!==g?g:a._recycleJSON;d=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof b?b:"number"===typeof d?d:a._root.version};p.prototype=Object.create(c.prototype);p.prototype._toJSONG=function(){return new p(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};p.prototype.progressively=
function(){return new p(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};p.prototype._subscribe=function(a){var f=[],b=this.model,p=this.recycleJSON,v=this.isProgressive,l=this.currentRemainingPaths,m=a.isJSONG=this.isJSONGraph,y=[m||v||!p?{}:b._seed||(b._seed={})],v=d(b,l,a,v,m,y,f,p);return v?h(this,b,v,a,f,1,this.initialCacheVersion,l,p):(a=b._root,p=a.cache,f=p["\u001e\u0192alcor_version"],this.forceCollect&&k(a,a.expired,
g(p),b._maxSize,b._collectRatio,f),b=a.onChangesCompleted,this.initialCacheVersion!==f&&0>=a.syncRefCount&&t(b)&&b.call(a.topLevelModel),e)}},function(b,c,a){function d(a,f,b,g,k,m,l,t,n,u,q,r,c,M){var y;if(v(a)&&!a.$type){y=[];var x=0;e(a)&&(y[x++]="length");for(var B in a)"\u001e"!==B[0]&&"$"!==B[0]&&p(a,B)&&(y[x++]=B)}else y=void 0;if(y&&y.length){x=0;B=y.length;var A=n.index;do{var w=y[x],C=a[w],z=v(C)&&!C.$type;t.depth=f;var F=h(b,g,k,w,C,z,!1,t,n,u,q,r,c,M);t[f]=w;t.index=f;var G=F[0],E=F[1],
F=F[2];F[F.index++]=w;G&&(z?d(C,f+1,b,E,G,m,l,t,F,u,q,r,c,M):(m.push(t.slice(0,t.index+1)),l.push(F.slice(0,F.index))));if(++x>=B)break;n.index=A}while(1)}}function h(a,d,e,b,p,t,v,u,B,c,G,H,J,M){for(var y=e.$type;y===k;){a:{d=p;B=a;var y=u,x,A=c,w=G,C=H,z=J,F=M,E,D=e.value;x=D.slice(0);if(n(e))r(e,w,C),e=void 0,E=B,x.index=D.length;else{var I=e;e=e["\u001e\u0192alcor_context"];if(null!=e)E=e["\u001e\u0192alcor_parent"]||B,x.index=D.length;else{var N=0,Q=D.length-1;x.index=N;E=e=B;do{E=h(B,E,e,D[N],
d,N<Q,!0,y,x,A,w,C,z,F);e=E[0];x=E[2];if(q(e)){x.index=N;B=E;break a}E=E[1]}while(N++<Q);x.index=N;I["\u001e\u0192alcor_context"]!==e&&g(I,e)}}f[0]=e;f[1]=E;f[2]=x;B=f}e=B[0];if(q(e))return B;d=B[1];B=B[2];y=e&&e.$type}if(void 0===y){if(null==b){if(t)throw new m;e&&(b=e["\u001e\u0192alcor_key"])}else d=e,e=d[b];e=l(d,e,b,p,t,v,u,B,c,G,H,J,M)}f[0]=e;f[1]=d;f[2]=B;return f}var f=Array(3),e=Array.isArray,k=a(0),g=a(11),t=a(18),p=a(14),v=a(1),n=a(2),u=a(3),q=a(8),r=a(6),l=a(61),m=a(10);b.exports=function(a,
e,h,b){var g=a._root,k=g.expired,m=g.version++,l=a._path,p=g.cache,y=t(p,l),n=y["\u001e\u0192alcor_parent"]||p;a=p["\u001e\u0192alcor_version"];for(var v=[],q=[],r=[],x=l.length,c=-1,A=e.length;++c<A;){var C=e[c],Z=l.slice(0);Z.index=x;d(C.json,0,p,n,y,q,r,v,Z,m,k,g,b,h)}f[0]=void 0;f[1]=void 0;f[2]=void 0;e=p["\u001e\u0192alcor_version"];g=g.onChange;u(g)&&a!==e&&g();return[q,r]}},function(b,c,a){function d(a,f,e,b,g,k,p,t,n,v,q,r,c,H,J){var m={},l=e<f.length-1,y=f[e],x=u(y,m),B=v.index;do{n.depth=
e;n[e]=x;n.index=e;var A=h(b,g,k,x,a,l,!1,n,v,q,r,c,H,J);n[e]=x;n.index=e;var w=A[0],C=A[1],A=A[2];A[A.index++]=x;w&&(l?d(a,f,e+1,b,C,w,p,t,n,A,q,r,c,H,J):(p.push(n.slice(0,n.index+1)),t.push(A.slice(0,A.index))));x=u(y,m);if(m.done)break;v.index=B}while(1)}function h(a,d,b,g,p,u,c,E,z,w,B,F,G,H){for(var l=b.$type;l===e;){a:{d=p;z=a;var l=E,m,y=w,x=B,A=F,C=G,D=H,K,O=b.value;m=O.slice(0);if(t(b))n(b,x,A),b=void 0,K=z,m.index=O.length;else{var P=b;b=b["\u001e\u0192alcor_context"];if(null!=b)K=b["\u001e\u0192alcor_parent"]||
z,m.index=O.length;else{var L=0,I=O.length-1;K=b=z;do{var N=O[L],Q=L<I;m.index=L;K=h(z,K,b,N,d,Q,!0,l,m,y,x,A,C,D);b=K[0];m=K[2];if(v(b)){m.index=L;z=K;break a}K=K[1]}while(L++<I);m.index=L;P["\u001e\u0192alcor_context"]!==b&&k(P,b)}}f[0]=b;f[1]=K;f[2]=m;z=f}b=z[0];if(v(b))return z;d=z[1];z=z[2];l=b.$type}if(!u||void 0===l){if(null==g){if(u)throw new r;b&&(g=b["\u001e\u0192alcor_key"])}else d=b,b=d[g];b=q(d,b,g,p,u,c,E,z,w,B,F,G,H)}f[0]=b;f[1]=d;f[2]=z;return f}var f=Array(3),e=a(0),k=a(11),g=a(18),
t=a(2),p=a(3),v=a(8),n=a(6),u=a(4).iterateKeySet,q=a(61),r=a(10);b.exports=function(a,e,b,h){var k=a._root,m=k.expired,l=k.version++,t=a._path,n=k.cache,y=g(n,t),v=y["\u001e\u0192alcor_parent"]||n;a=n["\u001e\u0192alcor_version"];for(var u=[],q=[],r=[],c=t.length,x=-1,R=e.length;++x<R;){var S=e[x],W=S.path,S=S.value,Y=t.slice(0);Y.index=c;d(S,W,0,n,v,y,q,r,u,Y,l,m,k,h,b)}f[0]=void 0;f[1]=void 0;f[2]=void 0;e=n["\u001e\u0192alcor_version"];k=k.onChange;p(k)&&a!==e&&k();return[q,r]}},function(b,c,a){var d=
Array.isArray,h=a(1);b.exports=function(a){return h(a)&&d(a.paths)&&(h(a.jsonGraph)||h(a.jsong)||h(a.json)||h(a.values)||h(a.value))}},function(b,c){b.exports=Date.now},function(b,c,a){var d=a(0),h=a(53),f=a(1),e=a(127),k=a(128);b.exports=function(a,b,p,v){if(f(a)){var g=a.$type;g&&(g===d&&k(a),h(v,a));e(a);b[p]=a["\u001e\u0192alcor_parent"]=void 0;return!0}return!1}},function(b,c,a){var d=a(14),h=a(38);b.exports=function e(a,b,t,p){if(h(a,b,t,p)){if(null==a.$type)for(var g in a)"\u001e"!==g[0]&&
"$"!==g[0]&&d(a,g)&&e(a[g],a,g,p);return!0}return!1}},function(b,c,a){var d=Array.isArray,h=a(21),f=a(36),e=a(20);b.exports=function(a,b,t){for(var g=0,k=a.length;g<k;++g){var n=a[g],u=!1;d(n)&&b.path?u=!0:d(n.$keys)&&b.flatBuffer?u=!0:h(n)&&b.pathValue?u=!0:f(n)&&b.jsonGraph?u=!0:e(n)&&b.json?u=!0:"function"===typeof n&&g+1===k&&b.selector&&(u=!0);if(!u)return Error("Unrecognized argument "+typeof n+" ["+String(n)+"] to Model#"+t+"")}return!0}},function(b,c){b.exports=1},function(b,c){b.exports=
0},function(b,c){b.exports=function(a){for(var d=5381,b=a.length;b;)d=33*d^a.charCodeAt(--b);return d>>>0}},function(b,c){function a(a,d){var e=d.from=a.from||0;a=d.to=a.to||"number"===typeof a.length&&d.from+a.length-1||0;d.rangeOffset=d.from;d.loaded=!0;e>a&&(d.empty=!0)}var d=Array.isArray;b.exports=function(b,f){if(void 0===f.isArray){f.done=!1;var e=f.isObject=!(!b||"object"!==typeof b);f.isArray=e&&d(b);f.arrayOffset=0}if(f.isArray){var h;do{f.loaded&&f.rangeOffset>f.to&&(++f.arrayOffset,f.loaded=
!1);if(f.arrayOffset>=b.length){f.done=!0;break}e=b[f.arrayOffset];"object"===typeof e?(f.loaded||a(e,f),f.empty||(h=f.rangeOffset++)):(++f.arrayOffset,h=e)}while(void 0===h);return h}if(f.isObject){f.loaded||a(b,f);if(f.rangeOffset>f.to){f.done=!0;return}return f.rangeOffset++}f.done=!0;return b}},function(b,c){b.exports=function(a,d){var b=[],f=a.length;for(d=d||0;d<f;d++)b[d]=a[d];return b}},function(b,c){b.exports={$ref:"ref",$atom:"atom",$error:"error"}},function(b,c,a){function d(a,b,h){var g,
p=e(String(b)),m=Object.create(null),t=[],n=-1,v=0,q=[],u=0,c,z,w,B,F,G;w=[];B=-1;if(b<h-1){for(F=f(a,w);++B<F;)g=w[B],c=d(a[g],b+1,h),z=c.code,m[z]?c=m[z]:(t[v++]=z,c=m[z]={keys:[],sets:c.sets}),p=e(p+g+z),k(g)&&c.keys.push(parseInt(g,10))||c.keys.push(g);for(;++n<v;)if(g=t[n],c=m[g],w=c.keys,F=w.length,0<F)for(a=c.sets,b=-1,h=a.length,B=w[0];++b<h;){g=a[b];c=-1;z=g.length;G=Array(z+1);for(G[0]=1<F&&w||B;++c<z;)G[c+1]=g[c];q[u++]=G}}else for(F=f(a,w),1<F?q[u++]=[w]:q[u++]=w;++B<F;)p=e(p+w[B]);return{code:p,
sets:q}}function h(a,d){return a-d}function f(a,d,e){var f=0;if(a===v)d[f++]=null;else{for(var b in a)d[f++]=b;1<f&&d.sort(e)}return f}function e(a){for(var d=5381,e=-1,f=a.length;++e<f;)d=(d<<5)+d+a.charCodeAt(e);return String(d)}function k(a){var d=a,e=typeof a;if("string"===e){d=a.length;if(0===d||17<d||!p.test(a))return!1;if(16>d)return!0;d=+a}else if("number"!==e)return!1;return 0===d%1&&9007199254740991>=t(d)}var g=Array.isArray,t=Math.abs,p=/^(0|(\-?[1-9][0-9]*))$/,v=a(25);b.exports=function(a){var e,
f=[],b=0,p;for(p in a){var m;if(m=k(p))m=e=a[p],m=null!==m&&"object"===typeof m;if(m){m=d(e,0,parseInt(p,10)).sets;for(var t=-1,n=m.length;++t<n;){for(var v=b++,c=m[t],D=-1,E=c.length;++D<E;){var z=c[D];if(g(z)){var w=c,B=D;for(var F=-1,G=z.length-1,H=0<G;++F<=G;){var J=z[F];if(!k(J)){H=!1;break}z[F]=parseInt(J,10)}!0===H&&(z.sort(h),F=z[0],H=z[G],H-F<=G&&(z={from:F,to:H}));w[B]=z}}f[v]=c}}}return f};b.exports._isSafeNumber=k},function(b,c,a){function d(a,b,g,t){if(g===t)return!0;var e,k=-1,n=0,c,
q=g+1,r,l,m;e=b[g];if(null===e)return f;a=a||{};a:do{if("object"!==typeof e)g=e,l=void 0,r=!1;else if(h(e)){if(void 0!==m)break a;k=0;m=e;n=e.length;if(0===n)break a;e=m[k];continue a}else{l=e.to;g=e.from||0;"number"!==typeof l&&(l=g+(e.length||0)-1);if(0>l-g)break a;r=!0}do q===t?a[g]=null:(e=a[g],(c=d(e,b,q,t))?e||(a[g]=c):a[g]=null);while(r&&++g<=l);if(++k===n)break a;e=m[k]}while(1);return a}var h=Array.isArray,f=a(25);b.exports=function(a){return a.reduce(function(a,e){return d(a,e,0,e.length)},
{})}},function(b,c){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="CircularReferenceError";b.exports=a},function(b,c){function a(){var a=Error.call(this,"The allowed number of retries have been exceeded.");a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);
a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,c,a){var d=Array(3),h=a(0),f=a(13),e=a(2),k=a(11),g=a(49);b.exports=function(a,b,v){f(v,b);var t,p,c=0,r=a,l=b.value,m=l,y=l.length;do{if(0===c&&void 0!==(t=b["\u001e\u0192alcor_context"]))r=t,c=y;else if(p=l[c++],void 0===(r=r[p]))break;if(c===y){p=r.$type;if(void 0!==p&&e(r))break;else{if(r===b)throw new g(l);r!==t&&k(b,r)}if(p===h)f(v,r),c=0,b=r,r=a,l=m=b.value,y=l.length;
else break}else if(void 0!==r.$type)break}while(1);c<y&&void 0!==r&&(y=c);c=-1;for(l=Array(y);++c<y;)l[c]=m[c];d[0]=r;d[1]=l;d[2]=b;return d}},function(b,c,a){var d=a(12),h=a(93),f=a(23),e=a(16);b.exports=function(a,b,t,p,c,n,u,q,r,l,m,y){if(e===b&&!y)return h(a,t,c,n,r,l);t=a&&a.value;if(b&&void 0===t){if(m)return c.hasValue=!0,{$type:f}}else return c.hasValue=!0,l?d(a):t}},function(b,c,a){b.exports=function(a,b){var d=b["\u001e\u0192alcor_prev"],e=b["\u001e\u0192alcor_next"];e&&(e["\u001e\u0192alcor_prev"]=
d);d&&(d["\u001e\u0192alcor_next"]=e);b["\u001e\u0192alcor_prev"]=b["\u001e\u0192alcor_next"]=void 0;b===a["\u001e\u0192alcor_head"]&&(a["\u001e\u0192alcor_head"]=e);b===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=d)}},function(b,c){b.exports={GetRequest:"GET"}},function(b,c){c=function(a){this.disposed=!1;this.currentDisposable=a};c.prototype={unsubscribe:function(){return this.dispose()},dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var a=this.currentDisposable;
this.currentDisposable=null;a.dispose?a.dispose():a.unsubscribe?a.unsubscribe():"function"===typeof a&&a()}}};b.exports=c},function(b,c,a){c=a(27);var d=a(111),h=a(4).collapse,f=c.getWithPathsAsPathMap,e=c.getWithPathsAsJSONGraph;b.exports=function(a,b,t,p,c,n,u,q){var g,k,m,y,v=p&&!c&&n,A=!c&&!p&&q;v?(y=n[0],n[0]={}):A&&n[0]&&(g=n[0].json)&&(k=g["\u001e\u0192alcor_metadata"])&&(m=k.$code);b=c?e(a,b,n):f(a,b,n,!q);if(b.criticalError)return t.onError(b.criticalError),null;q=b.hasValue;var C=b.values[0],
D=!!(C&&C.json||C.jsonGraph),E=!b.requestedMissingPaths||!b.requestedMissingPaths.length||!a._source;if(b.errors)for(var z=b.errors,w=u.length,B=0,F=z.length;B<F;++B,++w)u[w]=z[B];v&&y&&(C=d(C,y));if(q&&p||D&&E)try{if(c&&C){var G=C.paths;G&&0<G.length&&(C.paths=h(G))}++a._root.syncRefCount;t.onNext(C)}catch(H){throw H;}finally{--a._root.syncRefCount}if(E){if(u.length)t.onError(u);else t.onCompleted();return null}A&&n[0]&&(g=n[0].json)&&(k=g["\u001e\u0192alcor_metadata"])&&(k.$code=m);return b}},function(b,
c){b.exports={path:!0,pathSyntax:!0,flatBuffer:!0}},function(b,c,a){c=a(5);var d=Array.isArray,h=a(21),f=a(36),e=a(20),k=a(114),g=b.exports=function(a,b,g,k,c){this._model=a;this._isJSONGraph=g||!1;this._isProgressive=k||!1;this._initialArgs=b;this._value=[{}];g=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof c?c:"number"===typeof g?g:a._root.version;a=[];var t,p;c=-1;for(g=b.length;++c<g;){k=b[c];var l;d(k)?l="PathValues":h(k)?l="PathValues":f(k)?l="JSONGs":
e(k)&&(l="PathMaps");p!==l&&(p=l,t={inputType:l,arguments:[]},a.push(t));t.arguments.push(k)}this._groups=a};g.prototype=Object.create(c.prototype);g.prototype._subscribe=function(a){return k(this._model,a,this._groups,this._isJSONGraph,this._isProgressive,0,this.initialCacheVersion)};g.prototype._toJSONG=function(){return new g(this._model,this._initialArgs,!0,this._isProgressive,this.initialCacheVersion)};g.prototype.progressively=function(){return new g(this._model,this._initialArgs,this._isJSONGraph,
!0,this.initialCacheVersion)}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$timestamp||void 0}},function(b,c,a){b.exports=function(a,b,f,e,k){a["\u001e\u0192alcor_key"]=f;a["\u001e\u0192alcor_parent"]=b;void 0!==e&&(a["\u001e\u0192alcor_version"]=e);a["\u001e\u0192alcor_abs_path"]||(a["\u001e\u0192alcor_abs_path"]=k.slice(0,k.index).concat(f));return b[f]=a}},function(b,c,a){var d=a(0),h=a(16),f=a(122),e=a(7),k=a(59),g=a(2),t=a(8),p=a(3),v=a(65),n=a(6),u=a(60),q=a(63),r=a(15),
l=a(62);b.exports=function(a,b,c,A,C,D,E,z,w,B,F,G,H){var m=f(b,D);if(C||D){if(m&&g(b)&&(m="expired",n(b,B,F)),m&&m!==d||t(b))b=q(b,{},a,c,F,w),b=u(b,a,c,w,z)}else C=f(A),D=!1===k(A)<k(b),(m||C)&&p(G)&&(D=!G(b,A,z.slice(0,z.index))),D&&(C===h&&p(H)&&(A=H(l(E,c),A)),A=v(A,C,C?A.value:A),E=e(b)-e(A),b=q(b,A,a,c,F,w),a=r(a,E,F,w),b=u(b,a,c,w,z));return b}},function(b,c){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,c,a){var d=a(1),h=a(126),f=a(39),e=a(64);b.exports=
function(a,b,t,p,c,n){if(a===b)return a;d(a)&&(h(a,b),f(a,t,p,c),e(b,n));return t[p]=b}},function(b,c,a){b.exports=function(a,b){var d=[a],e=0;do{var h=d[e];if(h&&h["\u001e\u0192alcor_version"]!==b){h["\u001e\u0192alcor_version"]=b;d[e++]=h["\u001e\u0192alcor_parent"];for(var g=-1,t=h["\u001e\u0192alcor_refs_length"]||0;++g<t;)d[e++]=h["\u001e\u0192alcor_ref"+g]}}while(-1<--e);return a}},function(b,c,a){var d=a(37),h=a(42),f=a(120),e=Array.isArray,k=a(7),g=a(121),t=a(23);b.exports=function(a,b,c){var p=
0;if(b){var n=a["\u001e\u0192alcor_wrapped_value"];a=f(a);p=k(a);a.$type=b;a["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_next"]=void 0;a["\u001e\u0192alcor_wrapped_value"]=n||!1}else a={$type:t,value:c,"\u001e\u0192alcor_prev":void 0,"\u001e\u0192alcor_next":void 0,"\u001e\u0192alcor_wrapped_value":!0};if(null==c)p=51;else if(null==p||0>=p)switch(typeof c){case "object":p=e(c)?50+c.length:51;break;case "string":p=50+c.length;break;default:p=51}b=g(a);"number"===typeof b&&b<h&&(a.$expires=
d()+-1*b);a.$size=p;return a}},function(b,c){c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(c=window)}b.exports=c},function(b,c,a){function d(a){return new h(a)}var h=a(80);c=a(28);d.Model=h;d.FalcorJSON=c;d.toProps=c.prototype.toProps;b.exports=d},function(b,c,a){var d=a(47),h=a(48);b.exports=function(a){var b=a.reduce(function(a,b){var d=b.length;a[d]||(a[d]=[]);a[d].push(b);return a},{});Object.keys(b).forEach(function(a){b[a]=
h(b[a])});return d(b)}},function(b,c,a){function d(a){if(void 0!==a){for(var b="",f=a.$keys,g=-1,t=f.length;++g<t;){var p=f[g];if(null===p)b=""+h(""+b+"null");else{"object"===typeof p&&(p="{from:"+p.from+",length:"+p.length+"}");var c=d(a[g]),b=void 0===c?""+h(""+b+p):""+h(""+b+p+c.$code)}}a.$code=b;return a}}var h=a(43);b.exports=d},function(b,c){b.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},
function(b,c){function a(b,h,f){f=f||[];h=h||[];for(var d=[],c=b.$keys,g=c.length,t=-1;++t<g;){var p=b[t],v=c[t];p?a(p,h,f.concat([v])):d.push(v)}1===d.length?h.push(f.concat(d)):1<d.length&&h.push(f.concat([d]));return h}b.exports=a},function(b,c,a){var d=a(45),h=a(46).$ref,f=a(70);b.exports=function(a,b,g){for(var e=a,c=-1,k=b.length,n,u=0;++c<k;){n=b[c];n=(e=e[n])&&e.$type;if(!e||n&&n!==h)break;if(n&&n===h&&c+1<k)throw a=Error(f.innerReferences),a.throwToNext=!0,a;if(c+1===k&&(n===h&&(c=-1,b=e.value,
k=b.length,e=a,u++),u>g))throw Error(f.circularReference);}return[e,d(b)]}},function(b,c,a){b.exports={toTree:a(48),toPaths:a(47),collapse:a(68),pathCount:a(75),getHashCode:a(43),toFlatBuffer:a(79),iterateKeySet:a(44),hasIntersection:a(24),optimizePathSets:a(74),flatBufferToPaths:a(71),computeFlatBufferHash:a(69),pathsComplementFromTree:a(77),pathsComplementFromLengthTree:a(76)}},function(b,c,a){function d(a,b,c,n,u,q,r){if(void 0===a)u[u.length]=e(q,c,n);else if(!(null===a||a.$type&&a.$type!==k||
"object"!==typeof a||a.$type===k&&n===c.length)){var l=c[n];n+=1;var m=!1,p=l;"object"===typeof l&&(m={},p=h(l,m));var t,v;do{t=a[p];var C=q.length;null!==p&&(q[C]=p);t&&t.$type===k&&n<c.length?(v=g(b,t.value,r),t=v[0],v=f(v[1])):v=q;d(t,b,c,n,u,v,r);q.length=C;m&&!m.done&&(p=h(l,m))}while(m&&!m.done)}}var h=a(44),f=a(45),e=a(78),k=a(46).$ref,g=a(72);b.exports=function(a,b,e){var f=[];b.forEach(function(b){d(a,a,b,0,f,[],e)});return f}},function(b,c){function a(a){if(null==a)return 1;if(Array.isArray(a))throw Error("Unexpected Array found in keySet: "+
JSON.stringify(a));if("object"===typeof a){var b=a.to,d=a.length;if(null!=b){if(isNaN(b)||parseInt(b,10)!==b)throw Error("Invalid range, 'to' is not an integer: "+JSON.stringify(a));d=a.from||0;if(isNaN(d)||parseInt(d,10)!==d)throw Error("Invalid range, 'from' is not an integer: "+JSON.stringify(a));a=d<=b?b-d+1:0}else if(null!=d){if(isNaN(d)||parseInt(d,10)!==d)throw Error("Invalid range, 'length' is not an integer: "+JSON.stringify(a));a=d}else throw Error("Invalid range, expected 'to' or 'length': "+
JSON.stringify(a));return a}return 1}b.exports=function(b){if(0===b.length)throw Error("All paths must have length larger than zero.");for(var d=1,f=0;f<b.length;f++){var e=b[f];if(Array.isArray(e)){for(var c=0,g=0;g<e.length;g++)c+=a(e[g]);d*=c}else d*=a(e)}return d}},function(b,c,a){var d=a(24);b.exports=function(a,b){for(var e=[],f=-1,g=0,h=a.length;g<h;++g){var c=a[g];d(b[c.length],c,0,c.length)||(e[++f]=c)}return e}},function(b,c,a){var d=a(24);b.exports=function(a,b){for(var e=[],f=-1,g=0,h=
a.length;g<h;++g)d(b,a[g],0,a[g].length)||(e[++f]=a[g]);return e}},function(b,c){b.exports=function(a,b,h){var d=[],e,c;e=0;for(c=a.length;e<c;++e)d[e]=a[e];a=h||0;for(c=b.length;a<c;++a,++e)d[e]=b[a];return d}},function(b,c){function a(b,e,c,g){if(c!==g){b=b||{};var f=b.$keys||(b.$keys=[]),p=b.$keysMap||(b.$keysMap={}),k,n=-1,u=0,q,r=c+1,l;k=e[c];if(null===k)return h;a:do{if("object"!==typeof k)q=k,"undefined"===typeof(c=p[q])&&(c=f.length),f[c]=q,p[q]=c,k=a(b[c],e,r,g),void 0!==k&&(b[c]=k);else if(d(k)){if(void 0!==
l)break a;n=0;l=k;u=k.length;if(0===u)break a;k=l[n];continue a}else{c=k.to;q=k.from||0;"number"!==typeof c&&(c=q+(k.length||0)-1);if(0>c-q)break a;k={from:q,length:c-q+1};q="{from:"+q+",length:"+(c-q+1)+"}";"undefined"===typeof(c=p[q])&&(c=f.length);f[c]=k;p[q]=c;k=a(b[c],e,r,g);void 0!==k&&(b[c]=k)}if(++n===u)break a;k=l[n]}while(1);return b}}var d=Array.isArray,h={$keys:[null],$keysMap:{"null":0}};b.exports=function(b){return b.reduce(function(b,d){return a(b,d,0,d.length)},{})}},function(b,c,
a){function d(a){a=a||{};this._root=a._root||new h(a,this);this._path=a.path||a._path||[];this._node=a._node||this._root.cache;this._source=a.source||a._source;this._recycleJSON=a.recycleJSON||a._recycleJSON;this._request=a.request||a._request||new e(this,a.scheduler||new v);this._maxSize="number"===typeof a.maxSize?a.maxSize:a._maxSize||d.prototype._maxSize;a._seed&&(this._seed=a._seed,this._recycleJSON=!0);this._collectRatio="number"===typeof a.collectRatio?a.collectRatio:a._collectRatio||d.prototype._collectRatio;
if(a.boxed||a.hasOwnProperty("_boxed"))this._boxed=a.boxed||a._boxed;if(a.materialized||a.hasOwnProperty("_materialized"))this._materialized=a.materialized||a._materialized;"boolean"===typeof a.treatErrorsAsValues?this._treatErrorsAsValues=a.treatErrorsAsValues:a.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=a._treatErrorsAsValues:this._recycleJSON&&(this._treatErrorsAsValues=!0);this._allowFromWhenceYouCame=a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}
var h=a(82),f=a(81),e=a(103),k=a(5),g=a(107),t=a(108),p=a(117),v=a(116),n=a(32),u=a(7),q=a(1),r=a(3),l=a(8),m=a(20),y=a(36),x=a(34),A=a(19),C=a(40),D=function(){},E=a(89),z=a(27),w=a(57);b.exports=d;d.prototype.constructor=d;d.prototype._materialized=!1;d.prototype._boxed=!1;d.prototype._progressive=!1;d.prototype._treatErrorsAsValues=!1;d.prototype._maxSize=Math.pow(2,53)-1;d.prototype._collectRatio=.75;d.prototype.get=a(110);d.prototype.set=a(112);d.prototype.preload=function(){var a=C(arguments,
w,"preload");if(!0!==a)return new k(function(b){b.onError(a)});var b=Array.prototype.slice.call(arguments),d=this;return new k(function(a){return d.get.apply(d,b).subscribe(function(){},function(b){a.onError(b)},function(){a.onCompleted()})})};d.prototype.call=function(){var a,b=-1,d=arguments.length;for(a=Array(d);++b<d;){var e=arguments[b];a[b]=e;var f=typeof e;if(1<b&&!Array.isArray(e)||0===b&&!Array.isArray(e)&&"string"!==f||1===b&&!Array.isArray(e)&&!l(e))return new k(function(a){a.onError(Error("Invalid argument"))})}return new g(this,
a[0],a[1],a[2],a[3])};d.prototype.invalidate=function(){var a,b=-1,d=arguments.length;for(a=[];++b<d;)if(a[b]=arguments[b],!Array.isArray(a[b]))throw Error("Invalid argument");(new t(this,a)).subscribe(D,function(a){throw a;})};d.prototype.deref=a(85);d.prototype._hasValidParentReference=a(84);d.prototype.getValue=a(90);d.prototype.setValue=a(118);d.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var d=this._root,e=this._path;this._path=[];this._root.cache={};"undefined"!==typeof b&&
n(d,d.expired,u(b),0);var f;y(a)?f=A(this,[a])[0]:m(a)?f=x(this,[a])[0]:q(a)&&(f=x(this,[{json:a}])[0]);f&&z.getWithPathsAsPathMap(this,f,[],!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};d.prototype.getCache=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];if(0===b.length)return E(this._root.cache);var d=[{}],e=this._path;z.getWithPathsAsJSONGraph(this,b,d);this._path=e;return d[0].jsonGraph};d.prototype.getVersion=function(a){a=void 0===a?
[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};d.prototype._syncCheck=function(a){if(this._source&&0>=this._root.syncRefCount&&!1===this._root.unsafeMode)throw Error("Model#"+a+" may only be called within the context of a request selector.");return!0};d.prototype._clone=function(a){var b=new d(this);if(a)for(var e in a){var f=a[e];"delete"===f?delete b[e]:"_path"===e?(b[e]=
f,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=f}0<b._path.length&&(b.setCache=void 0);return b};d.prototype.batch=function(a){var b;"number"===typeof a?b=new p(Math.round(Math.abs(a))):a?r(a.schedule)?b=a:r(a)&&(b={scheudle:a}):b=new p(1);a=this._clone();a._request=new e(a,b);return a};d.prototype.unbatch=function(){var a=this._clone();a._request=new e(a,new v);return a};d.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};d.prototype.asDataSource=function(){return new f(this)};
d.prototype._materialize=function(){return this._clone({_materialized:!0})};d.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};d.prototype.boxValues=function(){return this._clone({_boxed:!0})};d.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};d.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};d.prototype.toJSON=function(){return{$type:"ref",value:this._path}};d.prototype.getPath=function(){return this._path.slice(0)};
d.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};d.prototype._getVersion=a(91);d.prototype._getPathValuesAsPathMap=z.getWithPathsAsPathMap;d.prototype._getPathValuesAsJSONG=z.getWithPathsAsJSONGraph;d.prototype._setPathValues=a(35);d.prototype._setPathMaps=a(34);d.prototype._setJSONGs=a(19);d.prototype._setCache=a(34);d.prototype._invalidatePathValues=a(101);d.prototype._invalidatePathMaps=a(100)},function(b,c){function a(a){this._model=a._materialize().boxValues().treatErrorsAsValues()}
a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,f,e){a=[a,b,f].concat(e);return this._model.call.apply(this._model,a)._toJSONG()};b.exports=a},function(b,c,a){function d(a,b){a=a||{};this.syncRefCount=this.version=0;this.expired=a.expired||[];this.unsafeMode=a.unsafeMode||!1;this.cache={};this.topLevelModel=b;f(a.comparator)&&(this.comparator=a.comparator);f(a.branchSelector)&&
(this.branchSelector=a.branchSelector);f(a.errorSelector)&&(this.errorSelector=a.errorSelector);f(a.branchSelector)&&(this.branchSelector=a.branchSelector);f(a.onChange)&&(this.onChange=a.onChange);f(a.onChangesCompleted)&&(this.onChangesCompleted=a.onChangesCompleted)}var h=a(14),f=a(3);d.prototype.errorSelector=function(a,b){return b};d.prototype.comparator=function(a,b){return h(a,"value")&&h(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=d},function(b,
c,a){(function(a){function d(a){a.Symbol||(a.Symbol=function(a){return"@@Symbol("+a+"):"+g++ +"}"});return a.Symbol}function f(a){return"@@"+a}var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},c=e[typeof self]&&self||e[typeof window]&&window;a=e[typeof a]&&a;!a||a.global!==a&&a.window!==a||(c=a);var g=0;b.exports=function(a){a=d(a);a.observable||(a.observable="function"===typeof a.for?a.for("observable"):"@@observable");a.for||(a["for"]=f);return a}(c)}).call(c,a(66))},
function(b,c,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192alcor_parent"]||a&&a["\u001e\u0192alcor_invalidated"]?!1:!0:!0}},function(b,c,a){var d=a(0),h=a(18),f=a(87);b.exports=function(a){if(!a||"object"!==typeof a)throw new f;var b,e,c,p;c=a&&a["\u001e\u0192alcor_metadata"];if(!c||"object"!==typeof c)return this._clone({_node:void 0});var v=this._recycleJSON,n=c.abs_path;if(!n)return this._clone({_node:void 0,
_seed:v&&{json:a}||void 0});if(0===n.length)return this._clone({_path:n,_node:this._root.cache,_referenceContainer:!0,_seed:v&&{json:a}||void 0});var u=c.deref_to;e=c.deref_from;var q=this._root.cache,r=h(q,n),l="e";if(e){l=!1;c=-1;p=e.length;for(b=q;++c<p&&(b=b[e[c]],b&&!b.$type););if(u&&b&&b.$type===d){c=0;p=u.length;e=b.value;for(l=!0;l&&c<p;++c)e[c]!==u[c]&&(l=!1);!1===l&&(r=void 0)}}l?"e"===l&&(b=!0):b=!1;return this._clone({_node:r,_path:n,_referenceContainer:b,_seed:v&&{json:a}||void 0})}},
function(b,c){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";b.exports=a},function(b,c){function a(){var a=
Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";b.exports=a},function(b,c){function a(a,b){var d=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");
d.name="InvalidModelError";this.stack=d.stack;this.message=d.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,c,a){function d(a,b,c){Object.keys(a).filter(function(b){return!h(b)&&void 0!==a[b]}).forEach(function(e){var f=a[e],c=b[e];c||(c=b[e]={});if(f.$type){c=!f["\u001e\u0192alcor_wrapped_value"];
if(f.value&&"object"===typeof f.value||c){var c={},g=Object.keys(f),k,u,q;u=0;for(q=g.length;u<q;u++)k=g[u],h(k)||(c[k]=f[k]);f=c}else f=f.value;b[e]=f}else d(f,c,e)})}var h=a(124);b.exports=function(a){var b={};d(a,b);return b}},function(b,c,a){var d=a(33),h=a(5);b.exports=function(a){for(var b=0,f=a.length;++b<f;)if("object"===typeof a[b])return new h(function(a){a.onError(Error("Paths must be simple paths"))});var c=this;return new h(function(b){return(new d(c,[a],!1,!1,!1,void 0,!1)).subscribe(function(d){d=
d.json;for(var e=-1,f=a.length;d&&++e<f;)d=d[a[e]];b.onNext(d)},function(a){b.onError(a)},function(){b.onCompleted()})})}},function(b,c,a){var d=a(17);b.exports=function(a,b){a=(a=d(a,b))&&a["\u001e\u0192alcor_version"];return null==a?-1:a}},function(b,c,a){var d=Array.isArray,h=a(95),f=a(94),e=a(17),k=a(88),g=a(4).toFlatBuffer,t=a(4).computeFlatBufferHash;b.exports=function(a,b,c,u){var p,n,l=a._path,m=a._root,y=m.cache,x,v=l.length;if(v){if((p=e(a))&&p.$type)return{criticalError:new k(l,l)};x=[];
for(n=0;n<v;++n)x[n]=l[n];n=a._referenceContainer}else p=y,x=[];var l=[],C=a._boxed,D=m.expired,E=a._materialized,z=!!a._source,w=m.branchSelector,B=a._treatErrorsAsValues,F=a._allowFromWhenceYouCame,G=c[0],H=G&&G.json;c={values:c};if(a._recycleJSON&&!0!==u)d(u=b)&&(u=t(g(b))),H=f(y,p,H,u,0,G,c,l,x,v,!1,n,m,D,w,C,E,z,B,F);else for(var J=-1,M=b.length;++J<M;)u=b[J],a=u.length,H=h(y,p,H,u,0,G,c,l,a,x,v,!1,n,m,D,w,C,E,z,B,F);c.hasValue&&(G.json=H);return c}},function(b,c,a){var d=a(12);b.exports=function(a,
b,e,c,g,t){var f=-1;b+=!!g;g=Array(b);for(a=t?d(a):a.value;++f<b;)g[f]=c[f];(e.errors||(e.errors=[])).push({path:g,value:a})}},function(b,c,a){function d(a,b,c,y,t,q,C,D,E,z,w,B,F,G,H,J,M,R,S,W){var m,l;if(void 0===b||void 0!==(m=b.$type)||void 0===y)return g(b,m,y,t,q,C,D,t,E,z,w,F,G,J,M,R,S,f,h);var x,r,A="",L,I,N,Q=y.$keys,aa=t+1,T,U,V,ca,X,da=z+1,fa,ga;W&&B&&(ga=B.value,fa=B["\u001e\u0192alcor_abs_path"]);if(c&&(x=c["\u001e\u0192alcor_metadata"])){if(!(H||c instanceof k))delete c["\u001e\u0192alcor_metadata"],
c.__proto__=new k(x);else if(x.version===b["\u001e\u0192alcor_version"]&&x.$code===y.$code&&x.abs_path===b["\u001e\u0192alcor_abs_path"])return C.hasValue=!0,c;r=x.keys;x.version=b["\u001e\u0192alcor_version"];x.abs_path=b["\u001e\u0192alcor_abs_path"];x.deref_to=ga;x.deref_from=fa}m={};var ha=-1,ja=Q.length,ba,ea,ia;a:for(;++ha<ja;)if(w=Q[ha],ba=y[ha],ia=!1,null===w){if(void 0!==ba)throw new n;A=""+u(""+A+"null")}else{if("object"!==typeof w)I=w,T=void 0,N=!1,ea=I;else{T=w.to;I=w.from||0;"number"!==
typeof T&&(T=I+(w.length||0)-1);if(0>T-I)break a;N=!0;ea="{from:"+I+",length:"+(T-I+1)+"}"}do w=!1,U=c&&c[I],X=E,ca=da,V=B,L=b[I],D[t]=I,E[z]=I,L&&void 0!==ba&&L.$type===e&&!p(L)&&(l=v(a,L,F),L=l[0],w=!0,X=l[1],V=l[2],ca=X.length,l[0]=l[1]=l[2]=void 0),U=d(a,L,U,ba,aa,q,C,D,X,ca,w,V,F,G,H,J,M,R,S,W),void 0!==U?(void 0===x&&(x={},x.version=b["\u001e\u0192alcor_version"],x.abs_path=b["\u001e\u0192alcor_abs_path"],x.deref_to=ga,x.deref_from=fa),void 0===c&&(H?(c=H(x),c["\u001e\u0192alcor_metadata"]||
(c["\u001e\u0192alcor_metadata"]=x)):c=Object.create(new k(x))),m[I]=!0,r&&r.hasOwnProperty(I)&&(r[I]=!1),c[I]=U):(c&&c.hasOwnProperty(I)&&delete c[I],ia=!0);while(N&&++I<=T);A=!0===ia||void 0===ba?""+u(""+A+ea):""+u(""+A+ea+ba.$code)}if(x&&(x.$code=A,x.keys=m,r))for(I in r)r[I]&&delete c[I];return c}function h(a,b,d,e,f,c,g){a=a?q(a):[[]];var h=e.slice(0,f);a.forEach(function(a){f=b+a.length;t(h.concat(a),b,d,e,f,c,g)})}var f=a(52),e=a(0),k=a(28),g=a(31),t=a(30),p=a(2),v=a(51),n=a(10);a(26);var u=
a(4).getHashCode,q=a(4).flatBufferToPaths;b.exports=d},function(b,c,a){function d(a,b,c,m,y,x,A,C,D,E,z,w,B,F,G,H,J,M,R,S,W){var l,q;if(void 0===b||(l=b.$type)||y===D)return t(b,l,m,y,x,A,C,D,E,z,w,F,G,J,M,R,S,f,g);var r,O,P=y+1,L,I,N,Q,aa=-1,T=0,U,V,ca=z+1,X,da;w=m[y];if(null===w){if(P<D)throw new n;return c}W&&B&&(da=B.value,X=B["\u001e\u0192alcor_abs_path"]);a:do{if("object"!==typeof w)l=w,L=void 0,O=!1;else if(h(w)){if(void 0!==I)throw new u(m,I);aa=0;I=w;T=w.length;if(0===T)break a;w=I[aa];continue a}else{L=
w.to;l=w.from||0;"number"!==typeof L&&(L=l+(w.length||0)-1);if(0>L-l)break a;O=!0}do w=!1,N=c&&c[l],V=E,U=ca,Q=B,r=b[l],C[y]=l,E[z]=l,r&&P<D&&r.$type===e&&!p(r)&&(q=v(a,r,F),r=q[0],w=!0,V=q[1],Q=q[2],U=V.length,q[0]=q[1]=q[2]=void 0),N=d(a,r,N,m,P,x,A,C,D,V,U,w,Q,F,G,H,J,M,R,S,W),void 0!==N&&(void 0===c&&(w={},w.version=b["\u001e\u0192alcor_version"],w.abs_path=b["\u001e\u0192alcor_abs_path"],w.deref_to=da,w.deref_from=X,H?(c=H(w),c["\u001e\u0192alcor_metadata"]||(c["\u001e\u0192alcor_metadata"]=
w)):c=new k(w)),c[l]=N);while(O&&++l<=L);if(++aa===T)break a;w=I[aa]}while(1);return c}var h=Array.isArray,f=a(52),e=a(0),k=a(28),g=a(30),t=a(31),p=a(2),v=a(51),n=a(10),u=a(26);b.exports=d},function(b,c,a){var d=a(99),h=a(86);b.exports=function(a,b,c){var e,f,p=a._root,k,n,u=a._path.length;if(u)return{criticalError:new h};n=[];f=e=p.cache;k=[];var q=a._boxed,r=p.expired,l=a._materialized,m=!!a._source;a=a._treatErrorsAsValues;for(var y=c[0],x={values:c},A,C=-1,D=b.length;++C<D;)A=b[C],c=A.length,
d(f,e,A,0,y,x,k,c,n,u,!1,p,r,q,l,m,a);return x}},function(b,c,a){var d=Array(2),h=a(12),f=a(0),e=a(29),k=a(13),g=a(2),t=a(11),p=a(49);b.exports=function(a,b,c,q,r,l){k(c,b);var m,y;r=0;l=a;var n=b.value,u=n,v=n.length;do{if(0===r&&void 0!==(m=b["\u001e\u0192alcor_context"]))l=m,r=v;else if(y=n[r++],void 0===(l=l[y]))break;if(r===v){y=l.$type;if(void 0!==y&&g(l))break;else{if(l===b)throw new p(n);l!==m&&t(b,l)}if(y===f)k(c,l),e(h(l),n,v,q),r=0,b=l,l=a,n=u=b.value,v=n.length;else break}else if(void 0!==
l.$type)break}while(1);r<v&&void 0!==l&&(v=r);r=-1;for(n=Array(v);++r<v;)n[r]=u[r];d[0]=l;d[1]=n;return d}},function(b,c,a){var d=a(12),h=a(0),f=a(23),e=a(16),k=a(29);b.exports=function(a,b,c,v,n,u,q,r,l,m,y){var g=a&&a.value;if(b&&void 0===g)if(y)g={$type:f};else return;else if(m||h===b||e===b||!a["\u001e\u0192alcor_wrapped_value"]||"object"===typeof g)g=d(a);n&&u&&(n.hasValue=!0,k(g,q,r,v,m,y),(v.paths||(v.paths=[])).push(u.slice(0,c+!!l)));return g}},function(b,c,a){function d(a,b,c,y,x,A,C,D,
E,z,w,B,F,G,H,J,M){var m,l;if(void 0===b||(m=b.$type)||y===D)return p(b,m,c,y,x,A,C,D,E,z,w,B,F,G,H,J,M,k,g);var r,Y,Z=y+1,K,O,P=-1,L=0,I,N,Q=z+1;w=c[y];if(null===w){if(Z<D)throw new u;}else{a:do{if("object"!==typeof w)m=w,K=void 0,Y=!1;else if(h(w)){if(void 0!==O)throw new q(c,O);P=0;O=w;L=w.length;if(0===L)break a;w=O[P];continue a}else{K=w.to;m=w.from||0;"number"!==typeof K&&(K=m+(w.length||0)-1);if(0>K-m)break a;Y=!0}do w=!1,N=E,I=Q,r=b[m],C[y]=m,E[z]=m,r&&Z<D&&r.$type===e&&!v(r)&&(t(f(r),E,I,
x),l=n(a,r,B,x,G,H),r=l[0],w=!0,N=l[1],I=N.length,l[0]=l[1]=void 0),d(a,r,c,Z,x,A,C,D,N,I,w,B,F,G,H,J,M);while(Y&&++m<=K);if(++P===L)break a;w=O[P]}while(1)}}var h=Array.isArray,f=a(12),e=a(0),k=a(98),g=a(30),t=a(29),p=a(31),v=a(2),n=a(97),u=a(10),q=a(26);b.exports=d},function(b,c,a){function d(a,b,e,c,f,g,k,n,r,u){if(!q(a)&&!a.$type)for(var y in a)if("\u001e"!==y[0]&&"$"!==y[0]&&p(a,y)){var x=a[y],w=v(x)&&!x.$type,A=h(e,c,f,y,x,w,!1,g,k,n,r,u),z=A[0],A=A[1];z&&(w?d(x,b+1,e,A,z,g,k,n,r,u):m(z,A,y,
n)&&l(A,t(z),n,g))}}function h(a,b,d,c,m,l,k,p,t,u,v,H){for(k=d.$type;k===e;){a:{b=m;k=a;var y=p,x=t,w=u,A=v,C=H;if(n(d))r(d,x,w),b=[void 0,k];else{g(w,d);var z=d,E=d.value,D;d=d["\u001e\u0192alcor_context"];if(null!=d)D=d["\u001e\u0192alcor_parent"]||k;else{var F=0,B=E.length-1;D=d=k;do{D=h(k,D,d,E[F],b,F<B,!0,y,x,w,A,C);d=D[0];if(q(d)){b=D;break a}D=D[1]}while(F++<B);z["\u001e\u0192alcor_context"]!==d&&f(z,d)}b=[d,D]}}d=b[0];if(q(d))return b;b=b[1];k=d&&d.$type}if(void 0!==k)return[d,b];if(null==
c){if(l)throw Error("`null` is not allowed in branch key positions.");}else b=d,d=b[c];return[d,b]}var f=a(11),e=a(0),k=a(17),g=a(13),t=a(7),p=a(14),v=a(1),n=a(2),u=a(3),q=a(8),r=a(6),l=a(15),m=a(39);b.exports=function(a,b){var e=a._root,c=e.expired,f=e.version++,g=e._comparator,h=e._errorSelector,m=e.cache,l=k(a),p=l["\u001e\u0192alcor_parent"]||m;a=m["\u001e\u0192alcor_version"];for(var n=-1,y=b.length;++n<y;)d(b[n].json,0,m,p,l,f,c,e,g,h);b=m["\u001e\u0192alcor_version"];e=e.onChange;u(e)&&a!==
b&&e()}},function(b,c,a){function d(a,b,e,c,f,k,p,n){var m={},l=b<a.length-1,y=a[b],t=u(y,m);do{var v=h(e,c,f,t,l,!1,k,p,n),x=v[0],v=v[1];x&&(l?d(a,b+1,e,v,x,k,p,n):r(x,v,t,n)&&q(v,g(x),n,k));t=u(y,m)}while(!m.done)}function h(a,b,d,e,c,g,p,q,u){for(g=d.$type;g===f;){a:{b=a;var l=p,m=q,y=u;if(t(d))n(d,m,y),b=[void 0,b];else{k(y,d);g=d;var r=d.value,x;d=d["\u001e\u0192alcor_context"];if(null!=d)x=d["\u001e\u0192alcor_parent"]||b;else{var A=0,z=r.length-1;x=d=b;do{x=h(b,x,d,r[A],A<z,!0,l,m,y);d=x[0];
if(v(d)){b=x;break a}x=x[1]}while(A++<z);g["\u001e\u0192alcor_context"]!==d&&(b=d["\u001e\u0192alcor_refs_length"]||0,d["\u001e\u0192alcor_refs_length"]=b+1,d["\u001e\u0192alcor_ref"+b]=g,g["\u001e\u0192alcor_context"]=d,g["\u001e\u0192alcor_ref_index"]=b)}b=[d,x]}}d=b[0];if(v(d))return b;b=b[1];g=d.$type}if(void 0!==g)return[d,b];if(null==e){if(c)throw Error("`null` is not allowed in branch key positions.");}else b=d,d=b[e];return[d,b]}var f=a(0),e=a(17),k=a(13),g=a(7),t=a(2),p=a(3),v=a(8),n=a(6),
u=a(4).iterateKeySet,q=a(15),r=a(39);b.exports=function(a,b){var c=a._root,f=c.expired,g=c.version++,h=c.cache,l=e(a),m=l["\u001e\u0192alcor_parent"]||h;a=h["\u001e\u0192alcor_version"];for(var k=-1,n=b.length;++k<n;)d(b[k],0,h,m,l,g,f,c);b=h["\u001e\u0192alcor_version"];c=c.onChange;p(c)&&a!==b&&c()}},function(b,c,a){function d(a,b){var d=!1;return function(){d||a._disposed||(d=!0,a._callbacks[b]=null,a._optimizedPaths[b]=[],a._requestedPaths[b]=[],0===--a._count&&(a._disposable.dispose(),a.requestQueue.removeRequest(a)))}}
function h(a){for(var b=[],d=-1,e=0,c=a.length;e<c;++e)for(var f=a[e],g=0,h=f.length;g<h;++g)b[++d]=f[g];return b}function f(a){if(!a)return{dispose:n,unsubscribe:n};a.unsubscribe?a.dispose||(a.dispose=a.unsubscribe):a.unsubscribe=a.dispose;return a}var e=a(104),k=a(105),g=0,t=a(54).GetRequest,p=a(19),v=a(35),n=a(22),u=a(16),q=[],r=a(9);c=function(a,b){this.scheduled=this.sent=!1;this.requestQueue=b;this.id=++g;this.type=t;this._scheduler=a;this._pathMap={};this._optimizedPaths=[];this._requestedPaths=
[];this._callbacks=[];this._count=0;this._collapsed=this._disposable=null;this._disposed=!1};c.prototype={batch:function(a,b,e){var c=this,g=c._optimizedPaths,h=c._requestedPaths,m=c._callbacks,l=g.length;g[l]=b;h[l]=a;m[l]=e;++c._count;if(!c.scheduled){c.scheduled=!0;var p;a=c._scheduler.schedule(function(){c._disposable=p=f(k(c,g,function(a,b){var d,e,f;c.requestQueue.removeRequest(c);c._disposed=!0;if(a instanceof r)for(d=0,f=m.length;d<f;++d)(e=m[d])&&e(a);else if(c._count)for(c._merge(h,a,b),
d=0,f=m.length;d<f;++d)(e=m[d])&&e(a,b)}))});c._disposable=f(p||a)}return d(c,l)},add:function(a,b,c){var f=e(a,b,this._pathMap),g;f?(g=f[2],a=f[1]):(g=a,a=b);var h=!1,m=!1;a.length<b.length&&(h=!0,b=this._callbacks.length,this._callbacks[b]=c,this._requestedPaths[b]=f[0],this._optimizedPaths[b]=[],++this._count,m=d(this,b));return[h,g,a,m]},_merge:function(a,b,d){var c=this.requestQueue.model,e=c._root,f=e.errorSelector,e=e.comparator,g=c._path;c._path=q;a=h(a);if(b){var k=b;k instanceof Error?k=
{message:k.message}:k.$type||(k={$type:u,value:k});b=a.map(function(a){return{path:a,value:k}});v(c,b,f,e)}else p(c,[{paths:a,jsonGraph:d.jsonGraph}],f,e);c._path=g}};b.exports=c},function(b,c,a){function d(a,b){this.model=a;this.scheduler=b;this.requests=this._requests=[]}var h=a(54),f=a(106),e=a(102),k=a(4).collapse;d.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,b){a.paths=k(a.paths);return f(a,this.model,b)},get:function(a,b,d){function c(a){m||(--g,0===g&&d(a))}var f=[],
g=0,k=this._requests,p,l=a,m=!1,t;a=0;for(p=k.length;a<p&&(t=k[a],t.type!==h.GetRequest||(t.sent?(t=t.add(l,b,c),t[0]&&(l=t[1],b=t[2],f[f.length]=t[3],++g)):(t.batch(l,b,c),b=[],l=[],++g),b.length));++a);b.length&&(t=new e(this.scheduler,this),k[k.length]=t,++g,k=t.batch(l,b,c),f[f.length]=k);return function(){if(!m&&0!==g){m=!0;for(var a=f.length,b=0;b<a;++b)f[b]()}}},removeRequest:function(a){for(var b=this._requests,d=b.length;0<=--d;)if(b[d].id===a.id){b.splice(d,1);break}}};b.exports=d},function(b,
c,a){var d=a(4).hasIntersection;b.exports=function(a,b,c){for(var e=[],f=[],h=[],p=-1,v=-1,n=!1,u=0,q=b.length;u<q;++u){var r=b[u],l=r.length,m=c[l];m&&d(m,r,0,l)?(!n&&0<u&&(f=a.slice(0,u),e=b.slice(0,u)),h[++p]=a[u],n=!0):n&&(e[++v]=r,f[v]=a[u])}return n?[h,e,f]:null}},function(b,c,a){c=a(4);var d=c.toTree,h=c.toPaths,f=a(9);b.exports=function(a,b,c){if(0===a._count)return a.requestQueue.removeRequest(a),null;a.sent=!0;a.scheduled=!1;for(var e=a._pathMap,g=0,k=Object.keys(b).length;g<k;++g)for(var n=
b[g],u=0,q=n.length;u<q;++u){var r=n[u],l=r.length;e[l]?(l=e[l],l[l.length]=r):e[l]=[r]}b=Object.keys(e);g=0;for(k=b.length;g<k;++g)n=b[g],e[n]=d(e[n]);var e=a._collasped=h(e),m,y;try{y=a.requestQueue.model._source.get(e)}catch(x){return c(new f),null}return y.subscribe(function(a){m=a},function(a){c(a,m)},function(){c(null,m)})}},function(b,c,a){var d=a(19),h=a(35),f=a(9),e=[],k={dispose:function(){}};b.exports=function(a,b,c){var g=a.paths,n=b._root,p=n.errorSelector,q=n.comparator,r=b._path,l,
m;try{m=b._source.set(a)}catch(x){return c(new f),k}var t=m.subscribe(function(a){if(!t||!t.disposed){b._path=e;var c=d(b,[{paths:g,jsonGraph:a.jsonGraph}],p,q);a.paths=c[1];b._path=r;l=a}},function(a){t&&t.disposed||(b._path=e,h(b,g.map(function(b){return{path:b,value:a}}),p,q),b._path=r,c(a))},function(){c(null,l)});return t}},function(b,c,a){function d(a,b,d,c,f){this.callPath=b;this.args=d;f&&(this.paths=f);c&&(this.suffix=c);this.model=a;b=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion=
"number"===typeof b?b:a._root.version}var h=a(58);c=a(5);var f=a(9);d.prototype=Object.create(c.prototype);d.prototype._subscribe=function(a){var b=this.callPath,d=this.args,c=this.suffix,e=this.paths,v=this.model,n=v._clone({_path:[]}),b=v._path.concat(b),u=this.initialCacheVersion;if(v._source){var q,r;try{r=v._source.call(b,d,c,e)}catch(l){a.onError(new f(l));return}return r.subscribe(function(a){q=a},function(b){a.onError(b)},function(){var b=q.invalidated;b&&b.length&&(++v._root.syncRefCount,
n.invalidate.apply(n,b),--v._root.syncRefCount);return(new h(n.withoutDataSource(),[q],!1,!1,u)).subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}a.onError(Error("function does not exist"))};b.exports=d},function(b,c,a){function d(a,b,d){this._model=a;var c=[],g,k,l=-1,m=b.length,n=a._root.cache["\u001e\u0192alcor_version"];for(this.initialCacheVersion="number"===typeof d?d:"number"===typeof n?n:a._root.version;++l<m;){a=b[l];if(h(a))d="PathValues";else if(f(a))d=
"PathValues";else if(e(a))d="PathMaps";else throw Error("Invalid Input");k!==d&&(k=d,g={inputType:d,arguments:[]},c.push(g));g.arguments.push(a)}this._groups=c}var h=Array.isArray;c=a(5);var f=a(21),e=a(20),k=a(22),g={dispose:k,unsubscribe:k},t=a(3);d.prototype=Object.create(c.prototype);d.prototype.progressively=function(){return this};d.prototype._toJSONG=function(){return this};d.prototype._subscribe=function(a){var b=this._model;this._groups.forEach(function(a){(0,b["_invalidate"+a.inputType])(b,
a.arguments)});a.onCompleted();a=b._root;var d=a.onChangesCompleted;this.initialCacheVersion!==a.cache["\u001e\u0192alcor_version"]&&0>=a.syncRefCount&&t(d)&&d.call(a.topLevelModel);return g};b.exports=d},function(b,c,a){function d(a,b){var d=[],c,e;c=0;for(e=a.length;c<e;c++)d[c]=a[c];a=0;for(e=b.length;a<e;a++)d[c++]=b[a];return d}var h=a(56),f=a(50),e=a(32),k=a(7),g=a(55),t=a(9),p=a(3);b.exports=function n(a,b,c,l,m,y,x,A,C){if(10===y)throw new f;var q=b._request,r=c.requestedMissingPaths,u=c.optimizedMissingPaths,
w=new g,B=[],F=b._path;if(F.length)for(var G=0,H=r.length;G<H;++G)B[G]=d(F,r[G]);else B=r;var J=a.isProgressive||!C?r:A,q=q.get(B,u,function(d){if(d instanceof t)l.onError(d);else if(d=h(b,J,l,a.isProgressive,a.isJSONGraph,c.values,m,C))w.currentDisposable=n(a,b,d,l,m,y+1,x,A,C);else{d=b._root;var f=d.cache,g=f["\u001e\u0192alcor_version"];e(d,d.expired,k(f),b._maxSize,b._collectRatio,g);f=d.onChangesCompleted;x!==g&&0>=d.syncRefCount&&p(f)&&f.call(d.topLevelModel)}});w.currentDisposable=q;return w}},
function(b,c,a){var d=a(5),h=a(57),f=a(40),e=a(33);b.exports=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var k=f(b,h,"get");return!0!==k?new d(function(a){a.onError(k)}):new e(this,b)}},function(b,c,a){function d(a,b){for(var c,f,g,h=Object.keys(b),p=-1,v=h.length;++p<v;)g=h[p],"\u001e\u0192alcor_metadata"!==g&&(f=b[g],c=a[g],c!==f&&(void 0===c||"object"!==typeof f?a[g]=f:d(c,f)));a["\u001e\u0192alcor_metadata"]=b["\u001e\u0192alcor_metadata"];return a}b.exports=d},function(b,
c,a){var d=a(115),h=a(40),f=a(58),e=a(5);b.exports=function(){var a=h(arguments,d,"set");if(!0!==a)return new e(function(b){b.onError(a)});for(var b=-1,c=arguments.length,p=[];++b<c;)p[b]=arguments[b];return new f(this,p)}},function(b,c,a){function d(a){return a.path}function h(a){return a.paths}var f=a(119);b.exports=function(a,b){for(var c=a._root.errorSelector,e=-1,k=b.length,v=[],n=[],u={requestedPaths:v,optimizedPaths:n};++e<k;){var q=b[e],r=q.inputType,q=q.arguments;if(0<q.length){var l=(0,a["_set"+
r])(a,q,c);n.push.apply(n,l[1]);"PathValues"===r?v.push.apply(v,q.map(d)):"JSONGs"===r?v.push.apply(v,f(q,h)):v.push.apply(v,l[0])}}return u}},function(b,c,a){function d(a,b){var d=a._path,c={};a._path=f;a._getPathValuesAsJSONG(a._materialize().withoutDataSource(),b,[c]);a._path=d;return c}function h(a,b,d,c,e,f){return(new k(a,d,c,e,!0,f,!1)).subscribe(b)}var f=[],e=a(55),k=a(33),g=a(113),t=a(27).getWithPathsAsPathMap,p=a(9),v=a(50);b.exports=function u(a,b,c,f,k,x,A){if(10===x)throw new v;var m=
g(a,c),l=m.optimizedPaths,q=m.requestedPaths;if(void 0===a._source)return h(a,b,q,f,k,A);if(k){m=t(a,q,[{}],!0);if(m.criticalError)return b.onError(m.criticalError),null;b.onNext(m.values[0])}var m=d(a,l),r=new e,m=a._request.set(m,function(d,e){if(typeof d===p)b.onError(d);else{var g=!1;if(d||l.length===e.paths.length)g=!0;g?r.currentDisposable=h(a,b,q,f,k,A):u(a,b,c,f,k,x+1,A)}});r.currentDisposable=m;return r}},function(b,c){b.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(b,
c){function a(){}var d={dispose:function(){}};a.prototype.schedule=function(a){a();return d};b.exports=a},function(b,c){function a(a){this.delay=a}var d=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){a=setTimeout(a,this.delay);return new d(a)};d.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)};b.exports=a},function(b,c,a){var d=a(5),h=a(21);b.exports=function(a,b){var c=h(a)?a:{path:a,value:b};a=0;var e=c.path;for(b=e.length;++a<b;)if("object"===
typeof e[a])return new d(function(a){a.onError(Error("Paths must be simple paths"))});var f=this;return new d(function(a){return f.set(c).subscribe(function(b){b=b.json;for(var d=-1,c=e.length;b&&++d<c;)b=b[e[d]];a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}},function(b,c){b.exports=function(a,b){for(var d=-1,c=-1,e=a.length,k=[];++c<e;)for(var g=b(a[c],c,a),t=-1,p=g.length;++t<p;)k[++d]=g[t];return k}},function(b,c,a){var d=a(14),h=Array.isArray,f=a(1);b.exports=function(a){var b=
a;if(f(b)){var b=h(a)?[]:{},c;for(c in a)"\u001e"!==c.charAt(0)&&d(a,c)&&(b[c]=a[c])}return b}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$expires||void 0}},function(b,c,a){var d=a(1);b.exports=function(a,b){a=d(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,c,a){var d=a(37),h=a(42),f=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&a!==h&&a<d()}},function(b,c,a){b.exports=function(a){return"$size"===a||"\u001e\u0192alcor_wrapped_value"===a||"\u001e"===
a.charAt(0)}},function(b,c,a){var d=a(0),h=a(16),f=a(7),e=a(59),k=a(1),g=a(2),t=a(3),p=a(65),v=a(60),n=a(6),u=a(63),q=a(15),r=a(62);b.exports=function(a,b,c,x,A,C,D,E,z,w,B){var l,m,y,J,M,R;if(b===c){if(null===c)return b=p(c,void 0,c),a=q(a,-b.$size,z,D),b=v(b,a,x,void 0,C);if(void 0===c)return c;if(y=k(b))if(l=b.$type,null==l)return null==b["\u001e\u0192alcor_parent"]&&v(b,a,x,D,C),b}else if(y=k(b))l=b.$type;if(l!==d){if(J=k(c))m=c.$type;if(y&&!l&&(null==c||J&&!m))return b}else{if(null==c){if(g(b)){n(b,
E,z);return}return b}if(J=k(c))if(m=c.$type,m===d)if(b===c){if(null!=b["\u001e\u0192alcor_parent"])return b}else if(M=b.$timestamp,R=c.$timestamp,!g(b)&&!g(c)&&R<M)return}if(l&&J&&!m)return v(u(b,c,a,x,z,D),a,x,void 0,C);m||!J?(m===h&&t(B)&&(c=B(r(A,x),c)),m&&b===c?null==b["\u001e\u0192alcor_parent"]&&(b=p(b,l,b.value),a=q(a,-b.$size,z,D),b=v(b,a,x,D,C)):(A=!0,(l&&!g(b)||!y)&&(A=!1===e(c)<e(b))&&(l||m)&&t(w)&&(A=!w(b,c,C.slice(0,C.index))),A&&(c=p(c,m,m?c.value:c),w=f(b)-f(c),b=u(b,c,a,x,z,D),a=q(a,
w,z,D),b=v(b,a,x,D,C))),g(b)&&n(b,E,z)):null==b&&(b=v(c,a,x,void 0,C));return b}},function(b,c,a){b.exports=function(a,b){for(var d=a["\u001e\u0192alcor_refs_length"]||0,c=b["\u001e\u0192alcor_refs_length"]||0,h=-1;++h<d;){var g=a["\u001e\u0192alcor_ref"+h];void 0!==g&&(g["\u001e\u0192alcor_context"]=b,b["\u001e\u0192alcor_ref"+(c+h)]=g,a["\u001e\u0192alcor_ref"+h]=void 0)}b["\u001e\u0192alcor_refs_length"]=d+c;a["\u001e\u0192alcor_refs_length"]=void 0;return b}},function(b,c,a){b.exports=function(a){for(var b=
-1,d=a["\u001e\u0192alcor_refs_length"]||0;++b<d;){var c=a["\u001e\u0192alcor_ref"+b];null!=c&&(c["\u001e\u0192alcor_context"]=c["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_ref"+b]=void 0)}a["\u001e\u0192alcor_refs_length"]=void 0;return a}},function(b,c,a){b.exports=function(a){var b=a["\u001e\u0192alcor_context"];if(b){for(var c=(a["\u001e\u0192alcor_ref_index"]||0)-1,d=(b["\u001e\u0192alcor_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192alcor_ref"+c]=b["\u001e\u0192alcor_ref"+(c+1)];b["\u001e\u0192alcor_refs_length"]=
d;a["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_context"]=void 0}return a}},function(b,c){function a(a){this.esObserver=a}function d(a){this.subscription=a}a.prototype={onNext:function(a){"function"===typeof this.esObserver.next&&this.esObserver.next(a)},onError:function(a){"function"===typeof this.esObserver.error&&this.esObserver.error(a)},onCompleted:function(){"function"===typeof this.esObserver.complete&&this.esObserver.complete()}};d.prototype.unsubscribe=function(){this.subscription.dispose()};
b.exports=function(b){return{subscribe:function(c){return new d(b.subscribe(new a(c)))}}}},function(b,c,a){b.exports=a(67)}])});
//# sourceMappingURL=falcor.min.js.map
