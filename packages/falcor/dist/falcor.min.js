(function(b,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define("falcor",[],c):"object"===typeof exports?exports.falcor=c():b.falcor=c()})(this,function(){return function(b){function c(d){if(a[d])return a[d].exports;var h=a[d]={i:d,l:!1,exports:{}};b[d].call(h.exports,h,h.exports,c);h.l=!0;return h.exports}var a={};c.m=b;c.c=a;c.i=function(a){return a};c.d=function(a,h,f){Object.defineProperty(a,h,{configurable:!1,enumerable:!0,get:f})};
c.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(d,"a",d);return d};c.o=function(a,h){return Object.prototype.hasOwnProperty.call(a,h)};c.p="";return c(c.s=130)}([function(b,c){b.exports="ref"},function(b,c){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,c,a){var d=a(37),h=a(42),f=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&(a===h||a<d())}},function(b,c){b.exports=function(a){return!!a&&"function"===typeof a}},
function(b,c,a){b.exports=a(73)},function(b,c,a){(function(d){function h(a){this._subscribe=a}var f=a(22),e=a(83),l=a(129);h.prototype[e.observable]=function(){return l(this)};h.prototype._toJSONG=function(){return this};h.prototype.progressively=function(){return this};h.prototype.subscribe=h.prototype.forEach=function(a,d,h){var e=a;e&&"object"===typeof e?e.onNext||e.onError||e.onCompleted||(e={onNext:(e.next||f).bind(e),onError:(e.error||f).bind(e),onCompleted:(e.complete||f).bind(e)}):e={onNext:a||
f,onError:d||f,onCompleted:h||f};a=this._subscribe(e);switch(typeof a){case "function":return{dispose:a,unsubscribe:a};case "object":return a||{dispose:f,unsubscribe:f};default:return{dispose:f,unsubscribe:f}}};h.prototype.then=function(a,f){var h=this;h._promise||(h._promise=new d.Promise(function(a,d){var f=!1,e=[];h.subscribe(function(a){e[e.length]=a},function(a){f=!0;d(a)},function(){var d=e;1>=e.length&&(d=e[0]);!1===f&&a(d)})}));return h._promise.then(a,f)};b.exports=h}).call(c,a(66))},function(b,
c,a){var d=a(53);b.exports=function(a,f,e){a["\u001e\u0192alcor_invalidated"]||(a["\u001e\u0192alcor_invalidated"]=!0,f.push(a),d(e,a));return a}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$size||0}},function(b,c){b.exports=function(a){return null==a||"object"!==typeof a}},function(b,c){function a(a){var d=Error.call(this,"An exception was thrown when making a request.");d.name="InvalidSourceError";this.stack=d.stack;this.message=d.message;this.innerError=a;return this}a.prototype=
Object.create(Error.prototype);a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,c){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,c,a){b.exports=function(a,
h){var d=h["\u001e\u0192alcor_refs_length"]||0;h["\u001e\u0192alcor_ref"+d]=a;h["\u001e\u0192alcor_refs_length"]=d+1;a["\u001e\u0192alcor_ref_index"]=d;a["\u001e\u0192alcor_context"]=h}},function(b,c,a){b.exports=function(a){for(var d,f=Object.keys(a),e={},l=-1,g=f.length;++l<g;)d=f[l],"\u001e"!==d.charAt(0)&&(e[d]=a[d]);return e}},function(b,c,a){var d=a(41);b.exports=function(a,f){if(f.$expires!==d){var e=a["\u001e\u0192alcor_head"];if(!e)a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_tail"]=
f;else if(e!==f){var h=f["\u001e\u0192alcor_prev"],g=f["\u001e\u0192alcor_next"];g&&(g["\u001e\u0192alcor_prev"]=h);h&&(h["\u001e\u0192alcor_next"]=g);f["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_head"]=f;f["\u001e\u0192alcor_next"]=e;e["\u001e\u0192alcor_prev"]=f;f===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=h)}}}},function(b,c,a){var d=a(1),h=Object.prototype.hasOwnProperty;b.exports=function(a,e){return d(a)&&h.call(a,e)}},function(b,c,a){var d=a(38),h=a(64);b.exports=
function(a,e,l,g){var f=a;do{var n=f["\u001e\u0192alcor_parent"];0>=(f.$size=(f.$size||0)-e)&&null!=n?d(f,n,f["\u001e\u0192alcor_key"],l):f["\u001e\u0192alcor_version"]!==g&&h(f,g);f=n}while(f);return a}},function(b,c){b.exports="error"},function(b,c,a){var d=a(18);b.exports=function(a,f){f=f||a._path;var e=a._node;if(!e||void 0===e["\u001e\u0192alcor_parent"]||e["\u001e\u0192alcor_invalidated"])a._node=null,0===f.length?e=a._root.cache:(e=d(a._root.cache,f),f===a._path&&(a._node=e));return e}},function(b,
c,a){function d(a,e){var f=a,g,r=0,n=e.length;if(0<n){do for(f=f[e[r]];f&&(g=f.$type)===h;)f=d(a,f.value);while(++r<n&&f&&!g)}return f}var h=a(0);b.exports=d},function(b,c,a){function d(a,f,e,n,g,l,r,b,v,u,q,B,c,G,H,J,M){var k={},t=f<a.length-1,w=a[f],p=m(w,k),y=B.index;do{q.depth=f;var A=h(e,n,g,l,r,b,p,t,!1,q,B,c,G,H,J,M);q[f]=p;q.index=f;var x=A[0],C=A[1],z=A[4];z[z.index++]=p;x&&(t?d(a,f+1,e,C,x,l,A[3],A[2],v,u,q,z,c,G,H,J,M):(v.push(q.slice(0,q.index+1)),u.push(z.slice(0,z.index))));p=m(w,k);
if(k.done)break;B.index=y}while(1)}function h(a,d,t,w,r,b,m,c,E,z,x,B,F,G,H,J){for(E=t.$type;E===e;){a:{d=a;r=w;x=z;var k=B,p=F,y=G,A=H,C=J,D,K,O=t.value;E=O.slice(0);if(g(t))v(t,p,y),t=void 0,D=d,K=r,E.index=O.length;else{var P=0,L=t,I=O.length-1;D=t=d;K=b=r;do{var N=O[P],Q=P<I;E.index=P;K=h(d,D,t,r,K,b,N,Q,!0,x,E,k,p,y,A,C);t=K[0];E=K[4];if(n(t)){E.index=P;x=K;break a}D=K[1];b=K[2];K=K[3]}while(P++<I);E.index=P;L["\u001e\u0192alcor_context"]!==t&&l(L,t)}f[0]=t;f[1]=D;f[2]=b;f[3]=K;f[4]=E;x=f}t=
x[0];if(n(t))return x;d=x[1];b=x[2];r=x[3];x=x[4];E=t.$type}if(void 0===E){if(null==m){if(c)throw new q;t&&(m=t["\u001e\u0192alcor_key"])}else d=t,r=b,t=d[m],b=r&&r[m];t=u(d,t,b,m,z,x,B,F,G,H,J)}f[0]=t;f[1]=d;f[2]=b;f[3]=r;f[4]=x;return f}var f=Array(5),e=a(0),l=a(11),g=a(123),r=a(3),n=a(8),v=a(6),m=a(4).iterateKeySet,u=a(125),q=a(10);b.exports=function(a,e,h,n){var g=a._root,l=g.expired,t=g.version++,b=g.cache;a=b["\u001e\u0192alcor_version"];for(var k=[],w=[],m=[],v=[],u=-1,q=e.length;++u<q;)for(var p=
e[u],c=p.paths,p=p.jsonGraph,M=-1,R=c.length;++M<R;){var S=c[M];w.index=0;d(S,0,b,b,b,p,p,p,m,v,k,w,t,l,g,n,h)}f[0]=void 0;f[1]=void 0;f[2]=void 0;f[3]=void 0;f[4]=void 0;e=b["\u001e\u0192alcor_version"];h=g.onChange;r(h)&&a!==e&&h();return[m,v]}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&"json"in a}},function(b,c,a){var d=Array.isArray,h=a(1);b.exports=function(a){return h(a)&&(d(a.path)||"string"===typeof a.path)}},function(b,c){b.exports=function(){}},function(b,c){b.exports=
"atom"},function(b,c,a){function d(a,l,g,b){if(g===b)return!0;var e,r=-1,m=0,u=g+1,q,p,k;e=l[g];if(null===e)return a===f;a:do{if("object"!==typeof e)g=e,p=void 0,q=!1;else if(h(e)){if(void 0!==k)break a;r=0;k=e;m=e.length;if(0===m)break a;e=k[r];continue a}else{p=e.to;g=e.from||0;"number"!==typeof p&&(p=g+(e.length||0)-1);if(0>p-g)break a;q=!0}do if(u===b){if(null!==a[g])return!1}else if(e=a[g],null===e||void 0===e||!1===d(e,l,u,b))return!1;while(q&&++g<=p);if(++r===m)break a;e=k[r]}while(1);return!0}
var h=Array.isArray,f=a(25);b.exports=d},function(b,c){b.exports={$__null__$:null}},function(b,c){function a(a,h){a=Error.call(this,"The KeySet "+JSON.stringify(h)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");a.name="InvalidKeySetError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===a.name};b.exports=a},function(b,
c,a){b.exports={getWithPathsAsPathMap:a(92),getWithPathsAsJSONGraph:a(96)}},function(b,c,a){function d(a){this["\u001e\u0192alcor_metadata"]=a||{}}function h(a,e){a=void 0!==a&&a||this;e=void 0!==e&&e||h;var g=a&&typeof a===l;e=g&&f(a,e)||a;if(g){if(g=e["\u001e\u0192alcor_metadata"])delete e["\u001e\u0192alcor_metadata"],g.version=a["\u001e\u0192alcor_metadata"].version;e.__proto__=new d(g)}return e}function f(a,d){a=void 0!==a&&a||this;d=void 0!==d&&d||f;var h,g,b,r,q,p;if(e(a))for(h=-1,g=a.length,
p=Array(g);++h<g;)p[h]=a[h];else{p={};h=-1;b=a["\u001e\u0192alcor_metadata"];r=Object.keys(a);g=r.length;if(b){q=b.$code;var k=b.abs_path,t=b.deref_to,w=b.deref_from;p["\u001e\u0192alcor_metadata"]=b={};q&&(b.$code=q);k&&(b.abs_path=k);t&&(b.deref_to=t);w&&(b.deref_from=w)}for(;++h<g;)q=r[h],"\u001e\u0192alcor_metadata"!==q&&(b=a[q],p[q]=!(!b||typeof b!==l)&&d(b,d)||b)}return p}d.prototype=Object.create(Object.prototype,Object.assign({toJSON:{value:f},toProps:{value:h},$__hash:{enumerable:!1,get:function(){var a=
this["\u001e\u0192alcor_metadata"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,d){var f=Array.prototype[d];a[d]={writable:!0,enumerable:!1,value:function(){return f.apply(this,arguments)}};return a},
{})));var e=Array.isArray,l="object";b.exports=d},function(b,c){b.exports=function(a,d,h,f){var e=0,b;b=f.jsonGraph;b||(b={},f.jsonGraph=b);do{f=d[e++];if(e>=h){b=b[f]=a;break}b=b[f]||(b[f]={})}while(1);return b}},function(b,c){var a=Array.isArray;b.exports=function(d,h,f,e,b,g,r){for(var l,v=-1,m=b-h,u=m&&Array(m)||void 0;++v<m;){l=d[v+h];var q;q=l;if("object"!==typeof q||null===q)q=!1;else if(a(q))q=0===q.length;else{var p=q.to,k=q.from||0;"number"!==typeof p&&(p=k+(q.length||0));q=k>=p}if(q)return;
u[v]=l}d=null===l;p=h;h=b;v=e;e=f.requestedMissingPaths||(f.requestedMissingPaths=[]);l=!0;do{if(m<b||!l){q=-1;k=p;for(p=Array(h);++q<k;)p[q]=v[q];for(v=-1;q<h;)p[q++]=u[++v];e.push(p)}else e.push(u);if(l=!l)break;p=r;h=r+m-Number(d);v=g;e=f.optimizedMissingPaths||(f.optimizedMissingPaths=[])}while(1)}},function(b,c,a){var d=a(23),h=a(13),f=a(2),e=a(6);b.exports=function(a,b,r,n,v,m,u,q,p,k,t,w,y,A,c,D,E,z,x){if(!a||!b){if(c&&!D){if(v)return m.hasValue=!0,{$type:d};return}return x(r,n,m,u,q,p,k)}if(f(a))return a["\u001e\u0192alcor_invalidated"]||
e(a,y,w),x(r,n,m,u,q,p,k);h(w,a);if(v)return t&&(u[n]=null),z(a,b,n,v,m,u,p,k,t,A,c,E)}},function(b,c,a){var d=a(38),h=a(15);b.exports=function(a,e,b,g,r,n){var f=r;"number"!==typeof f&&(f=.75);r="number"===typeof n;var f=g*f,l,u,q;for(u=e.pop();u;)q=u.$size||0,b-=q,!0===r?h(u,q,a,n):(l=u["\u001e\u0192alcor_parent"])&&d(u,l,u["\u001e\u0192alcor_key"],a),u=e.pop();if(b>=g){for(u=e=a["\u001e\u0192alcor_tail"];b>=f&&u;)e=e["\u001e\u0192alcor_prev"],q=u.$size||0,b-=q,!0===r&&h(u,q,a,n),u=e;a["\u001e\u0192alcor_tail"]=
a["\u001e\u0192alcor_prev"]=u;null==u?a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_next"]=void 0:u["\u001e\u0192alcor_next"]=void 0}}},function(b,c,a){c=a(5);var d=a(56),h=a(109),f=a(22),e={dispose:f,unsubscribe:f},l=a(32),g=a(7),r=a(3),n=b.exports=function(a,d,f,e,h,b,g){d&&d[0]&&Array.isArray(d[0].$keys)&&(d=d[0]);this.model=a;this.currentRemainingPaths=d;this.isJSONGraph=f||!1;this.isProgressive=e||!1;this.forceCollect=h||!1;this.recycleJSON=void 0!==g?g:a._recycleJSON;d=a._root.cache["\u001e\u0192alcor_version"];
this.initialCacheVersion="number"===typeof b?b:"number"===typeof d?d:a._root.version};n.prototype=Object.create(c.prototype);n.prototype._toJSONG=function(){return new n(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};n.prototype.progressively=function(){return new n(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};n.prototype._subscribe=function(a){var f=
[],b=this.model,n=this.recycleJSON,v=this.isProgressive,k=this.currentRemainingPaths,t=a.isJSONG=this.isJSONGraph,w=[t||v||!n?{}:b._seed||(b._seed={})],v=d(b,k,a,v,t,w,f,n);return v?h(this,b,v,a,f,1,this.initialCacheVersion,k,n):(a=b._root,n=a.cache,f=n["\u001e\u0192alcor_version"],this.forceCollect&&l(a,a.expired,g(n),b._maxSize,b._collectRatio,f),b=a.onChangesCompleted,this.initialCacheVersion!==f&&0>=a.syncRefCount&&r(b)&&b.call(a.topLevelModel),e)}},function(b,c,a){function d(a,f,b,g,l,t,k,r,
m,q,u,p,c,M){var w;if(v(a)&&!a.$type){w=[];var y=0;e(a)&&(w[y++]="length");for(var B in a)"\u001e"!==B[0]&&"$"!==B[0]&&n(a,B)&&(w[y++]=B)}else w=void 0;if(w&&w.length){y=0;B=w.length;var A=m.index;do{var x=w[y],C=a[x],z=v(C)&&!C.$type;r.depth=f;var F=h(b,g,l,x,C,z,!1,r,m,q,u,p,c,M);r[f]=x;r.index=f;var G=F[0],E=F[1],F=F[2];F[F.index++]=x;G&&(z?d(C,f+1,b,E,G,t,k,r,F,q,u,p,c,M):(t.push(r.slice(0,r.index+1)),k.push(F.slice(0,F.index))));if(++y>=B)break;m.index=A}while(1)}}function h(a,d,e,b,r,n,v,u,
B,c,G,H,J,M){for(var w=e.$type;w===l;){a:{d=r;B=a;var w=u,y,A=c,x=G,C=H,z=J,F=M,E,D=e.value;y=D.slice(0);if(m(e))p(e,x,C),e=void 0,E=B,y.index=D.length;else{var I=e;e=e["\u001e\u0192alcor_context"];if(null!=e)E=e["\u001e\u0192alcor_parent"]||B,y.index=D.length;else{var N=0,Q=D.length-1;y.index=N;E=e=B;do{E=h(B,E,e,D[N],d,N<Q,!0,w,y,A,x,C,z,F);e=E[0];y=E[2];if(q(e)){y.index=N;B=E;break a}E=E[1]}while(N++<Q);y.index=N;I["\u001e\u0192alcor_context"]!==e&&g(I,e)}}f[0]=e;f[1]=E;f[2]=y;B=f}e=B[0];if(q(e))return B;
d=B[1];B=B[2];w=e&&e.$type}if(void 0===w){if(null==b){if(n)throw new t;e&&(b=e["\u001e\u0192alcor_key"])}else d=e,e=d[b];e=k(d,e,b,r,n,v,u,B,c,G,H,J,M)}f[0]=e;f[1]=d;f[2]=B;return f}var f=Array(3),e=Array.isArray,l=a(0),g=a(11),r=a(18),n=a(14),v=a(1),m=a(2),u=a(3),q=a(8),p=a(6),k=a(61),t=a(10);b.exports=function(a,e,b,h){var g=a._root,l=g.expired,t=g.version++,k=a._path,w=g.cache,n=r(w,k),m=n["\u001e\u0192alcor_parent"]||w;a=w["\u001e\u0192alcor_version"];for(var v=[],q=[],p=[],c=k.length,y=-1,A=
e.length;++y<A;){var C=e[y],Z=k.slice(0);Z.index=c;d(C.json,0,w,m,n,q,p,v,Z,t,l,g,h,b)}f[0]=void 0;f[1]=void 0;f[2]=void 0;e=w["\u001e\u0192alcor_version"];g=g.onChange;u(g)&&a!==e&&g();return[q,p]}},function(b,c,a){function d(a,f,e,b,g,l,r,n,m,v,q,p,c,H,J){var k={},t=e<f.length-1,w=f[e],y=u(w,k),B=v.index;do{m.depth=e;m[e]=y;m.index=e;var A=h(b,g,l,y,a,t,!1,m,v,q,p,c,H,J);m[e]=y;m.index=e;var x=A[0],C=A[1],A=A[2];A[A.index++]=y;x&&(t?d(a,f,e+1,b,C,x,r,n,m,A,q,p,c,H,J):(r.push(m.slice(0,m.index+1)),
n.push(A.slice(0,A.index))));y=u(w,k);if(k.done)break;v.index=B}while(1)}function h(a,d,b,g,n,u,c,E,z,x,B,F,G,H){for(var k=b.$type;k===e;){a:{d=n;z=a;var k=E,t,w=x,y=B,A=F,C=G,D=H,K,O=b.value;t=O.slice(0);if(r(b))m(b,y,A),b=void 0,K=z,t.index=O.length;else{var P=b;b=b["\u001e\u0192alcor_context"];if(null!=b)K=b["\u001e\u0192alcor_parent"]||z,t.index=O.length;else{var L=0,I=O.length-1;K=b=z;do{var N=O[L],Q=L<I;t.index=L;K=h(z,K,b,N,d,Q,!0,k,t,w,y,A,C,D);b=K[0];t=K[2];if(v(b)){t.index=L;z=K;break a}K=
K[1]}while(L++<I);t.index=L;P["\u001e\u0192alcor_context"]!==b&&l(P,b)}}f[0]=b;f[1]=K;f[2]=t;z=f}b=z[0];if(v(b))return z;d=z[1];z=z[2];k=b.$type}if(!u||void 0===k){if(null==g){if(u)throw new p;b&&(g=b["\u001e\u0192alcor_key"])}else d=b,b=d[g];b=q(d,b,g,n,u,c,E,z,x,B,F,G,H)}f[0]=b;f[1]=d;f[2]=z;return f}var f=Array(3),e=a(0),l=a(11),g=a(18),r=a(2),n=a(3),v=a(8),m=a(6),u=a(4).iterateKeySet,q=a(61),p=a(10);b.exports=function(a,e,b,h){var l=a._root,r=l.expired,k=l.version++,t=a._path,m=l.cache,w=g(m,
t),v=w["\u001e\u0192alcor_parent"]||m;a=m["\u001e\u0192alcor_version"];for(var u=[],q=[],p=[],c=t.length,y=-1,R=e.length;++y<R;){var S=e[y],W=S.path,S=S.value,Y=t.slice(0);Y.index=c;d(S,W,0,m,v,w,q,p,u,Y,k,r,l,h,b)}f[0]=void 0;f[1]=void 0;f[2]=void 0;e=m["\u001e\u0192alcor_version"];l=l.onChange;n(l)&&a!==e&&l();return[q,p]}},function(b,c,a){var d=Array.isArray,h=a(1);b.exports=function(a){return h(a)&&d(a.paths)&&(h(a.jsonGraph)||h(a.jsong)||h(a.json)||h(a.values)||h(a.value))}},function(b,c){b.exports=
Date.now},function(b,c,a){var d=a(0),h=a(53),f=a(1),e=a(127),l=a(128);b.exports=function(a,b,n,v){if(f(a)){var g=a.$type;g&&(g===d&&l(a),h(v,a));e(a);b[n]=a["\u001e\u0192alcor_parent"]=void 0;return!0}return!1}},function(b,c,a){var d=a(14),h=a(38);b.exports=function e(a,b,r,n){if(h(a,b,r,n)){if(null==a.$type)for(var g in a)"\u001e"!==g[0]&&"$"!==g[0]&&d(a,g)&&e(a[g],a,g,n);return!0}return!1}},function(b,c,a){var d=Array.isArray,h=a(21),f=a(36),e=a(20);b.exports=function(a,b,r){for(var g=0,l=a.length;g<
l;++g){var m=a[g],u=!1;d(m)&&b.path?u=!0:d(m.$keys)&&b.flatBuffer?u=!0:h(m)&&b.pathValue?u=!0:f(m)&&b.jsonGraph?u=!0:e(m)&&b.json?u=!0:"function"===typeof m&&g+1===l&&b.selector&&(u=!0);if(!u)return Error("Unrecognized argument "+typeof m+" ["+String(m)+"] to Model#"+r+"")}return!0}},function(b,c){b.exports=1},function(b,c){b.exports=0},function(b,c){b.exports=function(a){for(var d=5381,b=a.length;b;)d=33*d^a.charCodeAt(--b);return d>>>0}},function(b,c){function a(a,d){var e=d.from=a.from||0;a=d.to=
a.to||"number"===typeof a.length&&d.from+a.length-1||0;d.rangeOffset=d.from;d.loaded=!0;e>a&&(d.empty=!0)}var d=Array.isArray;b.exports=function(b,f){if(void 0===f.isArray){f.done=!1;var e=f.isObject=!(!b||"object"!==typeof b);f.isArray=e&&d(b);f.arrayOffset=0}if(f.isArray){var h;do{f.loaded&&f.rangeOffset>f.to&&(++f.arrayOffset,f.loaded=!1);if(f.arrayOffset>=b.length){f.done=!0;break}e=b[f.arrayOffset];"object"===typeof e?(f.loaded||a(e,f),f.empty||(h=f.rangeOffset++)):(++f.arrayOffset,h=e)}while(void 0===
h);return h}if(f.isObject){f.loaded||a(b,f);if(f.rangeOffset>f.to){f.done=!0;return}return f.rangeOffset++}f.done=!0;return b}},function(b,c){b.exports=function(a,d){var b=[],f=a.length;for(d=d||0;d<f;d++)b[d]=a[d];return b}},function(b,c){b.exports={$ref:"ref",$atom:"atom",$error:"error"}},function(b,c,a){function d(a,b,h){var g,k=e(String(b)),r=Object.create(null),n=[],m=-1,v=0,q=[],u=0,c,z,x,B,F,G;x=[];B=-1;if(b<h-1){for(F=f(a,x);++B<F;)g=x[B],c=d(a[g],b+1,h),z=c.code,r[z]?c=r[z]:(n[v++]=z,c=r[z]=
{keys:[],sets:c.sets}),k=e(k+g+z),l(g)&&c.keys.push(parseInt(g,10))||c.keys.push(g);for(;++m<v;)if(g=n[m],c=r[g],x=c.keys,F=x.length,0<F)for(a=c.sets,b=-1,h=a.length,B=x[0];++b<h;){g=a[b];c=-1;z=g.length;G=Array(z+1);for(G[0]=1<F&&x||B;++c<z;)G[c+1]=g[c];q[u++]=G}}else for(F=f(a,x),1<F?q[u++]=[x]:q[u++]=x;++B<F;)k=e(k+x[B]);return{code:k,sets:q}}function h(a,d){return a-d}function f(a,d,e){var b=0;if(a===v)d[b++]=null;else{for(var f in a)d[b++]=f;1<b&&d.sort(e)}return b}function e(a){for(var d=5381,
e=-1,b=a.length;++e<b;)d=(d<<5)+d+a.charCodeAt(e);return String(d)}function l(a){var d=a,e=typeof a;if("string"===e){d=a.length;if(0===d||17<d||!n.test(a))return!1;if(16>d)return!0;d=+a}else if("number"!==e)return!1;return 0===d%1&&9007199254740991>=r(d)}var g=Array.isArray,r=Math.abs,n=/^(0|(\-?[1-9][0-9]*))$/,v=a(25);b.exports=function(a){var e,b=[],f=0,r;for(r in a){var n;if(n=l(r))n=e=a[r],n=null!==n&&"object"===typeof n;if(n){n=d(e,0,parseInt(r,10)).sets;for(var w=-1,m=n.length;++w<m;){for(var v=
f++,c=n[w],D=-1,E=c.length;++D<E;){var z=c[D];if(g(z)){var x=c,B=D;for(var F=-1,G=z.length-1,H=0<G;++F<=G;){var J=z[F];if(!l(J)){H=!1;break}z[F]=parseInt(J,10)}!0===H&&(z.sort(h),F=z[0],H=z[G],H-F<=G&&(z={from:F,to:H}));x[B]=z}}b[v]=c}}}return b};b.exports._isSafeNumber=l},function(b,c,a){function d(a,b,g,r){if(g===r)return!0;var e,l=-1,m=0,c,q=g+1,p,k,t;e=b[g];if(null===e)return f;a=a||{};a:do{if("object"!==typeof e)g=e,k=void 0,p=!1;else if(h(e)){if(void 0!==t)break a;l=0;t=e;m=e.length;if(0===
m)break a;e=t[l];continue a}else{k=e.to;g=e.from||0;"number"!==typeof k&&(k=g+(e.length||0)-1);if(0>k-g)break a;p=!0}do q===r?a[g]=null:(e=a[g],(c=d(e,b,q,r))?e||(a[g]=c):a[g]=null);while(p&&++g<=k);if(++l===m)break a;e=t[l]}while(1);return a}var h=Array.isArray,f=a(25);b.exports=function(a){return a.reduce(function(a,e){return d(a,e,0,e.length)},{})}},function(b,c){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;
this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="CircularReferenceError";b.exports=a},function(b,c){function a(){var a=Error.call(this,"The allowed number of retries have been exceeded.");a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,c,a){var d=Array(3),
h=a(0),f=a(13),e=a(2),l=a(11),g=a(49);b.exports=function(a,b,v){f(v,b);var r,n,c=0,p=a,k=b.value,t=k,w=k.length;do{if(0===c&&void 0!==(r=b["\u001e\u0192alcor_context"]))p=r,c=w;else if(n=k[c++],void 0===(p=p[n]))break;if(c===w){n=p.$type;if(void 0!==n&&e(p))break;else{if(p===b)throw new g(k);p!==r&&l(b,p)}if(n===h)f(v,p),c=0,b=p,p=a,k=t=b.value,w=k.length;else break}else if(void 0!==p.$type)break}while(1);c<w&&void 0!==p&&(w=c);c=-1;for(k=Array(w);++c<w;)k[c]=t[c];d[0]=p;d[1]=k;d[2]=b;return d}},
function(b,c,a){var d=a(12),h=a(93),f=a(23),e=a(16);b.exports=function(a,b,r,n,c,m,u,q,p,k,t,w){if(e===b&&!w)return h(a,r,c,m,p,k);r=a&&a.value;if(b&&void 0===r){if(t)return c.hasValue=!0,{$type:f}}else return c.hasValue=!0,k?d(a):r}},function(b,c,a){b.exports=function(a,b){var d=b["\u001e\u0192alcor_prev"],e=b["\u001e\u0192alcor_next"];e&&(e["\u001e\u0192alcor_prev"]=d);d&&(d["\u001e\u0192alcor_next"]=e);b["\u001e\u0192alcor_prev"]=b["\u001e\u0192alcor_next"]=void 0;b===a["\u001e\u0192alcor_head"]&&
(a["\u001e\u0192alcor_head"]=e);b===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=d)}},function(b,c){b.exports={GetRequest:"GET"}},function(b,c){c=function(a){this.disposed=!1;this.currentDisposable=a};c.prototype={unsubscribe:function(){return this.dispose()},dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var a=this.currentDisposable;this.currentDisposable=null;a.dispose?a.dispose():a.unsubscribe?a.unsubscribe():"function"===typeof a&&a()}}};b.exports=
c},function(b,c,a){c=a(27);var d=a(111),h=a(4).collapse,f=c.getWithPathsAsPathMap,e=c.getWithPathsAsJSONGraph;b.exports=function(a,b,r,n,c,m,u,q){var g,k,l,w,v=n&&!c&&m,A=!c&&!n&&q;v?(w=m[0],m[0]={}):A&&m[0]&&(g=m[0].json)&&(k=g["\u001e\u0192alcor_metadata"])&&(l=k.$code);b=c?e(a,b,m):f(a,b,m,!q);if(b.criticalError)return r.onError(b.criticalError),null;q=b.hasValue;var C=b.values[0],D=!!(C&&C.json||C.jsonGraph),E=!b.requestedMissingPaths||!b.requestedMissingPaths.length||!a._source;if(b.errors)for(var z=
b.errors,x=u.length,B=0,F=z.length;B<F;++B,++x)u[x]=z[B];v&&w&&(C=d(C,w));if(q&&n||D&&E)try{if(c&&C){var G=C.paths;G&&0<G.length&&(C.paths=h(G))}++a._root.syncRefCount;r.onNext(C)}catch(H){throw H;}finally{--a._root.syncRefCount}if(E){if(u.length)r.onError(u);else r.onCompleted();return null}A&&m[0]&&(g=m[0].json)&&(k=g["\u001e\u0192alcor_metadata"])&&(k.$code=l);return b}},function(b,c){b.exports={path:!0,pathSyntax:!0,flatBuffer:!0}},function(b,c,a){c=a(5);var d=Array.isArray,h=a(21),f=a(36),e=
a(20),l=a(114),g=b.exports=function(a,b,g,l,c){this._model=a;this._isJSONGraph=g||!1;this._isProgressive=l||!1;this._initialArgs=b;this._value=[{}];g=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof c?c:"number"===typeof g?g:a._root.version;a=[];var r,n;c=-1;for(g=b.length;++c<g;){l=b[c];var k;d(l)?k="PathValues":h(l)?k="PathValues":f(l)?k="JSONGs":e(l)&&(k="PathMaps");n!==k&&(n=k,r={inputType:k,arguments:[]},a.push(r));r.arguments.push(l)}this._groups=a};g.prototype=
Object.create(c.prototype);g.prototype._subscribe=function(a){return l(this._model,a,this._groups,this._isJSONGraph,this._isProgressive,0,this.initialCacheVersion)};g.prototype._toJSONG=function(){return new g(this._model,this._initialArgs,!0,this._isProgressive,this.initialCacheVersion)};g.prototype.progressively=function(){return new g(this._model,this._initialArgs,this._isJSONGraph,!0,this.initialCacheVersion)}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$timestamp||void 0}},
function(b,c,a){b.exports=function(a,b,f,e,l){a["\u001e\u0192alcor_key"]=f;a["\u001e\u0192alcor_parent"]=b;void 0!==e&&(a["\u001e\u0192alcor_version"]=e);a["\u001e\u0192alcor_abs_path"]||(a["\u001e\u0192alcor_abs_path"]=l.slice(0,l.index).concat(f));return b[f]=a}},function(b,c,a){var d=a(0),h=a(16),f=a(122),e=a(7),l=a(59),g=a(2),r=a(8),n=a(3),v=a(65),m=a(6),u=a(60),q=a(63),p=a(15),k=a(62);b.exports=function(a,b,c,A,C,D,E,z,x,B,F,G,H){var t=f(b,D);if(C||D){if(t&&g(b)&&(t="expired",m(b,B,F)),t&&t!==
d||r(b))b=q(b,{},a,c,F,x),b=u(b,a,c,x,z)}else C=f(A),D=!1===l(A)<l(b),(t||C)&&n(G)&&(D=!G(b,A,z.slice(0,z.index))),D&&(C===h&&n(H)&&(A=H(k(E,c),A)),A=v(A,C,C?A.value:A),E=e(b)-e(A),b=q(b,A,a,c,F,x),a=p(a,E,F,x),b=u(b,a,c,x,z));return b}},function(b,c){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,c,a){var d=a(1),h=a(126),f=a(39),e=a(64);b.exports=function(a,b,r,n,c,m){if(a===b)return a;d(a)&&(h(a,b),f(a,r,n,c),e(b,m));return r[n]=b}},function(b,c,a){b.exports=function(a,
b){var d=[a],e=0;do{var h=d[e];if(h&&h["\u001e\u0192alcor_version"]!==b){h["\u001e\u0192alcor_version"]=b;d[e++]=h["\u001e\u0192alcor_parent"];for(var g=-1,r=h["\u001e\u0192alcor_refs_length"]||0;++g<r;)d[e++]=h["\u001e\u0192alcor_ref"+g]}}while(-1<--e);return a}},function(b,c,a){var d=a(37),h=a(42),f=a(120),e=Array.isArray,l=a(7),g=a(121),r=a(23);b.exports=function(a,b,c){var n=0;if(b){var m=a["\u001e\u0192alcor_wrapped_value"];a=f(a);n=l(a);a.$type=b;a["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_next"]=
void 0;a["\u001e\u0192alcor_wrapped_value"]=m||!1}else a={$type:r,value:c,"\u001e\u0192alcor_prev":void 0,"\u001e\u0192alcor_next":void 0,"\u001e\u0192alcor_wrapped_value":!0};if(null==c)n=51;else if(null==n||0>=n)switch(typeof c){case "object":n=e(c)?50+c.length:51;break;case "string":n=50+c.length;break;default:n=51}b=g(a);"number"===typeof b&&b<h&&(a.$expires=d()+-1*b);a.$size=n;return a}},function(b,c){c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"===
typeof window&&(c=window)}b.exports=c},function(b,c,a){function d(a){return new h(a)}var h=a(80);c=a(28);d.Model=h;d.JSONProto=c;d.toProps=c.prototype.toProps;b.exports=d},function(b,c,a){var d=a(47),h=a(48);b.exports=function(a){var b=a.reduce(function(a,b){var d=b.length;a[d]||(a[d]=[]);a[d].push(b);return a},{});Object.keys(b).forEach(function(a){b[a]=h(b[a])});return d(b)}},function(b,c,a){function d(a){if(void 0!==a){for(var b="",f=a.$keys,g=-1,r=f.length;++g<r;){var c=f[g];if(null===c)b=""+
h(""+b+"null");else{"object"===typeof c&&(c="{from:"+c.from+",length:"+c.length+"}");var v=d(a[g]),b=void 0===v?""+h(""+b+c):""+h(""+b+c+v.$code)}}a.$code=b;return a}}var h=a(43);b.exports=d},function(b,c){b.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},function(b,c){function a(b,h,f){f=f||[];h=h||[];for(var d=[],c=b.$keys,g=c.length,r=-1;++r<g;){var n=b[r],v=c[r];n?
a(n,h,f.concat([v])):d.push(v)}1===d.length?h.push(f.concat(d)):1<d.length&&h.push(f.concat([d]));return h}b.exports=a},function(b,c,a){var d=a(45),h=a(46).$ref,f=a(70);b.exports=function(a,b,g){for(var e=a,c=-1,l=b.length,m,u=0;++c<l;){m=b[c];m=(e=e[m])&&e.$type;if(!e||m&&m!==h)break;if(m&&m===h&&c+1<l)throw a=Error(f.innerReferences),a.throwToNext=!0,a;if(c+1===l&&(m===h&&(c=-1,b=e.value,l=b.length,e=a,u++),u>g))throw Error(f.circularReference);}return[e,d(b)]}},function(b,c,a){b.exports={toTree:a(48),
toPaths:a(47),collapse:a(68),pathCount:a(75),getHashCode:a(43),toFlatBuffer:a(79),iterateKeySet:a(44),hasIntersection:a(24),optimizePathSets:a(74),flatBufferToPaths:a(71),computeFlatBufferHash:a(69),pathsComplementFromTree:a(77),pathsComplementFromLengthTree:a(76)}},function(b,c,a){function d(a,b,c,m,u,q,p){if(void 0===a)u[u.length]=e(q,c,m);else if(!(null===a||a.$type&&a.$type!==l||"object"!==typeof a||a.$type===l&&m===c.length)){var k=c[m];m+=1;var r=!1,n=k;"object"===typeof k&&(r={},n=h(k,r));
var v,A;do{v=a[n];var C=q.length;null!==n&&(q[C]=n);v&&v.$type===l&&m<c.length?(A=g(b,v.value,p),v=A[0],A=f(A[1])):A=q;d(v,b,c,m,u,A,p);q.length=C;r&&!r.done&&(n=h(k,r))}while(r&&!r.done)}}var h=a(44),f=a(45),e=a(78),l=a(46).$ref,g=a(72);b.exports=function(a,b,e){var f=[];b.forEach(function(b){d(a,a,b,0,f,[],e)});return f}},function(b,c){function a(a){if(null==a)return 1;if(Array.isArray(a))throw Error("Unexpected Array found in keySet: "+JSON.stringify(a));if("object"===typeof a){var b=a.to,d=a.length;
if(null!=b){if(isNaN(b)||parseInt(b,10)!==b)throw Error("Invalid range, 'to' is not an integer: "+JSON.stringify(a));d=a.from||0;if(isNaN(d)||parseInt(d,10)!==d)throw Error("Invalid range, 'from' is not an integer: "+JSON.stringify(a));a=d<=b?b-d+1:0}else if(null!=d){if(isNaN(d)||parseInt(d,10)!==d)throw Error("Invalid range, 'length' is not an integer: "+JSON.stringify(a));a=d}else throw Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(a));return a}return 1}b.exports=function(b){if(0===
b.length)throw Error("All paths must have length larger than zero.");for(var d=1,f=0;f<b.length;f++){var e=b[f];if(Array.isArray(e)){for(var c=0,g=0;g<e.length;g++)c+=a(e[g]);d*=c}else d*=a(e)}return d}},function(b,c,a){var d=a(24);b.exports=function(a,b){for(var e=[],f=-1,h=0,c=a.length;h<c;++h){var n=a[h];d(b[n.length],n,0,n.length)||(e[++f]=n)}return e}},function(b,c,a){var d=a(24);b.exports=function(a,b){for(var e=[],f=-1,h=0,c=a.length;h<c;++h)d(b,a[h],0,a[h].length)||(e[++f]=a[h]);return e}},
function(b,c){b.exports=function(a,b,h){var d=[],e,c;e=0;for(c=a.length;e<c;++e)d[e]=a[e];a=h||0;for(c=b.length;a<c;++a,++e)d[e]=b[a];return d}},function(b,c){function a(b,e,c,g){if(c!==g){b=b||{};var f=b.$keys||(b.$keys=[]),n=b.$keysMap||(b.$keysMap={}),l,m=-1,u=0,q,p=c+1,k;l=e[c];if(null===l)return h;a:do{if("object"!==typeof l)q=l,"undefined"===typeof(c=n[q])&&(c=f.length),f[c]=q,n[q]=c,l=a(b[c],e,p,g),void 0!==l&&(b[c]=l);else if(d(l)){if(void 0!==k)break a;m=0;k=l;u=l.length;if(0===u)break a;
l=k[m];continue a}else{c=l.to;q=l.from||0;"number"!==typeof c&&(c=q+(l.length||0)-1);if(0>c-q)break a;l={from:q,length:c-q+1};q="{from:"+q+",length:"+(c-q+1)+"}";"undefined"===typeof(c=n[q])&&(c=f.length);f[c]=l;n[q]=c;l=a(b[c],e,p,g);void 0!==l&&(b[c]=l)}if(++m===u)break a;l=k[m]}while(1);return b}}var d=Array.isArray,h={$keys:[null],$keysMap:{"null":0}};b.exports=function(b){return b.reduce(function(b,d){return a(b,d,0,d.length)},{})}},function(b,c,a){function d(a){a=a||{};this._root=a._root||new h(a,
this);this._path=a.path||a._path||[];this._node=a._node||this._root.cache;this._source=a.source||a._source;this._recycleJSON=a.recycleJSON||a._recycleJSON;this._request=a.request||a._request||new e(this,a.scheduler||new v);this._maxSize="number"===typeof a.maxSize?a.maxSize:a._maxSize||d.prototype._maxSize;a._seed&&(this._seed=a._seed,this._recycleJSON=!0);this._collectRatio="number"===typeof a.collectRatio?a.collectRatio:a._collectRatio||d.prototype._collectRatio;if(a.boxed||a.hasOwnProperty("_boxed"))this._boxed=
a.boxed||a._boxed;if(a.materialized||a.hasOwnProperty("_materialized"))this._materialized=a.materialized||a._materialized;"boolean"===typeof a.treatErrorsAsValues?this._treatErrorsAsValues=a.treatErrorsAsValues:a.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=a._treatErrorsAsValues:this._recycleJSON&&(this._treatErrorsAsValues=!0);this._allowFromWhenceYouCame=a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var h=a(82),f=a(81),e=a(103),l=a(5),
g=a(107),r=a(108),n=a(117),v=a(116),m=a(32),u=a(7),q=a(1),p=a(3),k=a(8),t=a(20),w=a(36),y=a(34),A=a(19),C=a(40),D=function(){},E=a(89),z=a(27),x=a(57);b.exports=d;d.prototype.constructor=d;d.prototype._materialized=!1;d.prototype._boxed=!1;d.prototype._progressive=!1;d.prototype._treatErrorsAsValues=!1;d.prototype._maxSize=Math.pow(2,53)-1;d.prototype._collectRatio=.75;d.prototype.get=a(110);d.prototype.set=a(112);d.prototype.preload=function(){var a=C(arguments,x,"preload");if(!0!==a)return new l(function(b){b.onError(a)});
var b=Array.prototype.slice.call(arguments),d=this;return new l(function(a){return d.get.apply(d,b).subscribe(function(){},function(b){a.onError(b)},function(){a.onCompleted()})})};d.prototype.call=function(){var a,b=-1,d=arguments.length;for(a=Array(d);++b<d;){var e=arguments[b];a[b]=e;var f=typeof e;if(1<b&&!Array.isArray(e)||0===b&&!Array.isArray(e)&&"string"!==f||1===b&&!Array.isArray(e)&&!k(e))return new l(function(a){a.onError(Error("Invalid argument"))})}return new g(this,a[0],a[1],a[2],a[3])};
d.prototype.invalidate=function(){var a,b=-1,d=arguments.length;for(a=[];++b<d;)if(a[b]=arguments[b],!Array.isArray(a[b]))throw Error("Invalid argument");(new r(this,a)).subscribe(D,function(a){throw a;})};d.prototype.deref=a(85);d.prototype._hasValidParentReference=a(84);d.prototype.getValue=a(90);d.prototype.setValue=a(118);d.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var d=this._root,e=this._path;this._path=[];this._root.cache={};"undefined"!==typeof b&&m(d,d.expired,u(b),
0);var f;w(a)?f=A(this,[a])[0]:t(a)?f=y(this,[a])[0]:q(a)&&(f=y(this,[{json:a}])[0]);f&&z.getWithPathsAsPathMap(this,f,[],!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};d.prototype.getCache=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];if(0===b.length)return E(this._root.cache);var d=[{}],e=this._path;z.getWithPathsAsJSONGraph(this,b,d);this._path=e;return d[0].jsonGraph};d.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");
this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};d.prototype._syncCheck=function(a){if(this._source&&0>=this._root.syncRefCount&&!1===this._root.unsafeMode)throw Error("Model#"+a+" may only be called within the context of a request selector.");return!0};d.prototype._clone=function(a){var b=new d(this);if(a)for(var e in a){var f=a[e];"delete"===f?delete b[e]:"_path"===e?(b[e]=f,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=f}0<b._path.length&&(b.setCache=void 0);
return b};d.prototype.batch=function(a){var b;"number"===typeof a?b=new n(Math.round(Math.abs(a))):a?p(a.schedule)?b=a:p(a)&&(b={scheudle:a}):b=new n(1);a=this._clone();a._request=new e(a,b);return a};d.prototype.unbatch=function(){var a=this._clone();a._request=new e(a,new v);return a};d.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};d.prototype.asDataSource=function(){return new f(this)};d.prototype._materialize=function(){return this._clone({_materialized:!0})};
d.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};d.prototype.boxValues=function(){return this._clone({_boxed:!0})};d.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};d.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};d.prototype.toJSON=function(){return{$type:"ref",value:this._path}};d.prototype.getPath=function(){return this._path.slice(0)};d.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===
a?!0:a})};d.prototype._getVersion=a(91);d.prototype._getPathValuesAsPathMap=z.getWithPathsAsPathMap;d.prototype._getPathValuesAsJSONG=z.getWithPathsAsJSONGraph;d.prototype._setPathValues=a(35);d.prototype._setPathMaps=a(34);d.prototype._setJSONGs=a(19);d.prototype._setCache=a(34);d.prototype._invalidatePathValues=a(101);d.prototype._invalidatePathMaps=a(100)},function(b,c){function a(a){this._model=a._materialize().boxValues().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,
a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,f,e){a=[a,b,f].concat(e);return this._model.call.apply(this._model,a)._toJSONG()};b.exports=a},function(b,c,a){function d(a,b){a=a||{};this.syncRefCount=this.version=0;this.expired=a.expired||[];this.unsafeMode=a.unsafeMode||!1;this.cache={};this.topLevelModel=b;f(a.comparator)&&(this.comparator=a.comparator);f(a.branchSelector)&&(this.branchSelector=a.branchSelector);f(a.errorSelector)&&
(this.errorSelector=a.errorSelector);f(a.branchSelector)&&(this.branchSelector=a.branchSelector);f(a.onChange)&&(this.onChange=a.onChange);f(a.onChangesCompleted)&&(this.onChangesCompleted=a.onChangesCompleted)}var h=a(14),f=a(3);d.prototype.errorSelector=function(a,b){return b};d.prototype.comparator=function(a,b){return h(a,"value")&&h(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=d},function(b,c,a){(function(a){function d(a){a.Symbol||(a.Symbol=function(a){return"@@Symbol("+
a+"):"+g++ +"}"});return a.Symbol}function f(a){return"@@"+a}var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},c=e[typeof self]&&self||e[typeof window]&&window;a=e[typeof a]&&a;!a||a.global!==a&&a.window!==a||(c=a);var g=0;b.exports=function(a){a=d(a);a.observable||(a.observable="function"===typeof a.for?a.for("observable"):"@@observable");a.for||(a["for"]=f);return a}(c)}).call(c,a(66))},function(b,c,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&
!0!==a?!1===a||a&&void 0===a["\u001e\u0192alcor_parent"]||a&&a["\u001e\u0192alcor_invalidated"]?!1:!0:!0}},function(b,c,a){var d=a(0),h=a(18),f=a(87);b.exports=function(a){if(!a||"object"!==typeof a)throw new f;var b,e,c,n;c=a&&a["\u001e\u0192alcor_metadata"];if(!c||"object"!==typeof c)return this._clone({_node:void 0});var v=this._recycleJSON,m=c.abs_path;if(!m)return this._clone({_node:void 0,_seed:v&&{json:a}||void 0});if(0===m.length)return this._clone({_path:m,_node:this._root.cache,_referenceContainer:!0,
_seed:v&&{json:a}||void 0});var u=c.deref_to;e=c.deref_from;var q=this._root.cache,p=h(q,m),k="e";if(e){k=!1;c=-1;n=e.length;for(b=q;++c<n&&(b=b[e[c]],b&&!b.$type););if(u&&b&&b.$type===d){c=0;n=u.length;e=b.value;for(k=!0;k&&c<n;++c)e[c]!==u[c]&&(k=!1);!1===k&&(p=void 0)}}k?"e"===k&&(b=!0):b=!1;return this._clone({_node:p,_path:m,_referenceContainer:b,_seed:v&&{json:a}||void 0})}},function(b,c){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");
a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";b.exports=a},function(b,c){function a(){var a=Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;
return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";b.exports=a},function(b,c){function a(a,b){var d=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");d.name="InvalidModelError";this.stack=d.stack;this.message=d.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);
a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,c,a){function d(a,b,c){Object.keys(a).filter(function(b){return!h(b)&&void 0!==a[b]}).forEach(function(e){var f=a[e],c=b[e];c||(c=b[e]={});if(f.$type){c=!f["\u001e\u0192alcor_wrapped_value"];if(f.value&&"object"===typeof f.value||c){var c={},g=Object.keys(f),m,l,q;l=0;for(q=g.length;l<q;l++)m=g[l],h(m)||(c[m]=f[m]);f=c}else f=f.value;
b[e]=f}else d(f,c,e)})}var h=a(124);b.exports=function(a){var b={};d(a,b);return b}},function(b,c,a){var d=a(33),h=a(5);b.exports=function(a){for(var b=0,f=a.length;++b<f;)if("object"===typeof a[b])return new h(function(a){a.onError(Error("Paths must be simple paths"))});var c=this;return new h(function(b){return(new d(c,[a],!1,!1,!1,void 0,!1)).subscribe(function(d){d=d.json;for(var e=-1,f=a.length;d&&++e<f;)d=d[a[e]];b.onNext(d)},function(a){b.onError(a)},function(){b.onCompleted()})})}},function(b,
c,a){var d=a(17);b.exports=function(a,b){a=(a=d(a,b))&&a["\u001e\u0192alcor_version"];return null==a?-1:a}},function(b,c,a){var d=Array.isArray,h=a(95),f=a(94),e=a(17),l=a(88),g=a(4).toFlatBuffer,r=a(4).computeFlatBufferHash;b.exports=function(a,b,c,u){var n,m,k=a._path,t=a._root,w=t.cache,y,v=k.length;if(v){if((n=e(a))&&n.$type)return{criticalError:new l(k,k)};y=[];for(m=0;m<v;++m)y[m]=k[m];m=a._referenceContainer}else n=w,y=[];var k=[],C=a._boxed,D=t.expired,E=a._materialized,z=!!a._source,x=t.branchSelector,
B=a._treatErrorsAsValues,F=a._allowFromWhenceYouCame,G=c[0],H=G&&G.json;c={values:c};if(a._recycleJSON&&!0!==u)d(u=b)&&(u=r(g(b))),H=f(w,n,H,u,0,G,c,k,y,v,!1,m,t,D,x,C,E,z,B,F);else for(var J=-1,M=b.length;++J<M;)u=b[J],a=u.length,H=h(w,n,H,u,0,G,c,k,a,y,v,!1,m,t,D,x,C,E,z,B,F);c.hasValue&&(G.json=H);return c}},function(b,c,a){var d=a(12);b.exports=function(a,b,e,c,g,r){var f=-1;b+=!!g;g=Array(b);for(a=r?d(a):a.value;++f<b;)g[f]=c[f];(e.errors||(e.errors=[])).push({path:g,value:a})}},function(b,c,
a){function d(a,b,c,w,r,q,C,D,E,z,x,B,F,G,H,J,M,R,S,W){var k,t;if(void 0===b||void 0!==(k=b.$type)||void 0===w)return g(b,k,w,r,q,C,D,r,E,z,x,F,G,J,M,R,S,l,h);var p,y,A="",L,I,N,Q=w.$keys,aa=r+1,T,U,V,ca,X,da=z+1,fa,ga;W&&B&&(ga=B.value,fa=B["\u001e\u0192alcor_abs_path"]);if(c&&(p=c["\u001e\u0192alcor_metadata"])){if(!(H||c instanceof f))delete c["\u001e\u0192alcor_metadata"],c.__proto__=new f(p);else if(p.version===b["\u001e\u0192alcor_version"]&&p.$code===w.$code&&p.abs_path===b["\u001e\u0192alcor_abs_path"])return C.hasValue=
!0,c;y=p.keys||{};p.version=b["\u001e\u0192alcor_version"];p.abs_path=b["\u001e\u0192alcor_abs_path"];p.deref_to=ga;p.deref_from=fa}k={};var ha=-1,ja=Q.length,ba,ea,ia;a:for(;++ha<ja;)if(x=Q[ha],ba=w[ha],ia=!1,null===x){if(void 0!==ba)throw new m;A=""+u(""+A+"null")}else{if("object"!==typeof x)I=x,T=void 0,N=!1,ea=I;else{T=x.to;I=x.from||0;"number"!==typeof T&&(T=I+(x.length||0)-1);if(0>T-I)break a;N=!0;ea="{from:"+I+",length:"+(T-I+1)+"}"}do x=!1,U=c&&c[I],X=E,ca=da,V=B,L=b[I],D[r]=I,E[z]=I,L&&void 0!==
ba&&L.$type===e&&!n(L)&&(t=v(a,L,F),L=t[0],x=!0,X=t[1],V=t[2],ca=X.length,t[0]=t[1]=t[2]=void 0),U=d(a,L,U,ba,aa,q,C,D,X,ca,x,V,F,G,H,J,M,R,S,W),void 0!==U?(void 0===p&&(p={},p.version=b["\u001e\u0192alcor_version"],p.abs_path=b["\u001e\u0192alcor_abs_path"],p.deref_to=ga,p.deref_from=fa),void 0===c&&(H?(c=H(p),c["\u001e\u0192alcor_metadata"]||(c["\u001e\u0192alcor_metadata"]=p)):c=Object.create(new f(p))),k[I]=!0,y&&delete y[I],c[I]=U):(c&&c.hasOwnProperty(I)&&delete c[I],ia=!0);while(N&&++I<=T);
A=!0===ia||void 0===ba?""+u(""+A+ea):""+u(""+A+ea+ba.$code)}if(p){p.$code=A;p.keys=k;if(!y)return c;for(I in y)delete c[I]}return c}function h(a,b,d,e,c,f,h){a=a?q(a):[[]];var g=e.slice(0,c);a.forEach(function(a){c=b+a.length;r(g.concat(a),b,d,e,c,f,h)})}var f=a(28),e=a(0),l=a(52),g=a(31),r=a(30),n=a(2),v=a(51),m=a(10);a(26);var u=a(4).getHashCode,q=a(4).flatBufferToPaths;b.exports=d},function(b,c,a){function d(a,b,c,t,w,y,A,C,D,E,z,x,B,F,G,H,J,M,R,S,W){var k,q;if(void 0===b||(k=b.$type)||w===D)return r(b,
k,t,w,y,A,C,D,E,z,x,F,G,J,M,R,S,l,g);var p,O,P=w+1,L,I,N,Q,aa=-1,T=0,U,V,ca=z+1,X,da;x=t[w];if(null===x){if(P<D)throw new m;return c}W&&B&&(da=B.value,X=B["\u001e\u0192alcor_abs_path"]);a:do{if("object"!==typeof x)k=x,L=void 0,O=!1;else if(f(x)){if(void 0!==I)throw new u(t,I);aa=0;I=x;T=x.length;if(0===T)break a;x=I[aa];continue a}else{L=x.to;k=x.from||0;"number"!==typeof L&&(L=k+(x.length||0)-1);if(0>L-k)break a;O=!0}do x=!1,N=c&&c[k],V=E,U=ca,Q=B,p=b[k],C[w]=k,E[z]=k,p&&P<D&&p.$type===e&&!n(p)&&
(q=v(a,p,F),p=q[0],x=!0,V=q[1],Q=q[2],U=V.length,q[0]=q[1]=q[2]=void 0),N=d(a,p,N,t,P,y,A,C,D,V,U,x,Q,F,G,H,J,M,R,S,W),void 0!==N&&(void 0===c&&(x={},x.version=b["\u001e\u0192alcor_version"],x.abs_path=b["\u001e\u0192alcor_abs_path"],x.deref_to=da,x.deref_from=X,H?(c=H(x),c["\u001e\u0192alcor_metadata"]||(c["\u001e\u0192alcor_metadata"]=x)):c=new h(x)),c[k]=N);while(O&&++k<=L);if(++aa===T)break a;x=I[aa]}while(1);return c}var h=a(28),f=Array.isArray,e=a(0),l=a(52),g=a(30),r=a(31),n=a(2),v=a(51),m=
a(10),u=a(26);b.exports=d},function(b,c,a){var d=a(99),h=a(86);b.exports=function(a,b,c){var e,f,n=a._root,l,m,u=a._path.length;if(u)return{criticalError:new h};m=[];f=e=n.cache;l=[];var q=a._boxed,p=n.expired,k=a._materialized,t=!!a._source;a=a._treatErrorsAsValues;for(var w=c[0],y={values:c},A,C=-1,D=b.length;++C<D;)A=b[C],c=A.length,d(f,e,A,0,w,y,l,c,m,u,!1,n,p,q,k,t,a);return y}},function(b,c,a){var d=Array(2),h=a(12),f=a(0),e=a(29),l=a(13),g=a(2),r=a(11),n=a(49);b.exports=function(a,b,c,q,p,
k){l(c,b);var t,w;p=0;k=a;var m=b.value,u=m,v=m.length;do{if(0===p&&void 0!==(t=b["\u001e\u0192alcor_context"]))k=t,p=v;else if(w=m[p++],void 0===(k=k[w]))break;if(p===v){w=k.$type;if(void 0!==w&&g(k))break;else{if(k===b)throw new n(m);k!==t&&r(b,k)}if(w===f)l(c,k),e(h(k),m,v,q),p=0,b=k,k=a,m=u=b.value,v=m.length;else break}else if(void 0!==k.$type)break}while(1);p<v&&void 0!==k&&(v=p);p=-1;for(m=Array(v);++p<v;)m[p]=u[p];d[0]=k;d[1]=m;return d}},function(b,c,a){var d=a(12),h=a(0),f=a(23),e=a(16),
l=a(29);b.exports=function(a,b,c,v,m,u,q,p,k,t,w){var g=a&&a.value;if(b&&void 0===g)if(w)g={$type:f};else return;else if(t||h===b||e===b||!a["\u001e\u0192alcor_wrapped_value"]||"object"===typeof g)g=d(a);m&&u&&(m.hasValue=!0,l(g,q,p,v,t,w),(v.paths||(v.paths=[])).push(u.slice(0,c+!!k)));return g}},function(b,c,a){function d(a,b,c,w,y,A,C,D,E,z,x,B,F,G,H,J,M){var k,t;if(void 0===b||(k=b.$type)||w===D)return n(b,k,c,w,y,A,C,D,E,z,x,B,F,G,H,J,M,l,g);var p,Y,Z=w+1,K,O,P=-1,L=0,I,N,Q=z+1;x=c[w];if(null===
x){if(Z<D)throw new u;}else{a:do{if("object"!==typeof x)k=x,K=void 0,Y=!1;else if(h(x)){if(void 0!==O)throw new q(c,O);P=0;O=x;L=x.length;if(0===L)break a;x=O[P];continue a}else{K=x.to;k=x.from||0;"number"!==typeof K&&(K=k+(x.length||0)-1);if(0>K-k)break a;Y=!0}do x=!1,N=E,I=Q,p=b[k],C[w]=k,E[z]=k,p&&Z<D&&p.$type===e&&!v(p)&&(r(f(p),E,I,y),t=m(a,p,B,y,G,H),p=t[0],x=!0,N=t[1],I=N.length,t[0]=t[1]=void 0),d(a,p,c,Z,y,A,C,D,N,I,x,B,F,G,H,J,M);while(Y&&++k<=K);if(++P===L)break a;x=O[P]}while(1)}}var h=
Array.isArray,f=a(12),e=a(0),l=a(98),g=a(30),r=a(29),n=a(31),v=a(2),m=a(97),u=a(10),q=a(26);b.exports=d},function(b,c,a){function d(a,b,e,c,f,g,m,l,p,u){if(!q(a)&&!a.$type)for(var w in a)if("\u001e"!==w[0]&&"$"!==w[0]&&n(a,w)){var y=a[w],A=v(y)&&!y.$type,x=h(e,c,f,w,y,A,!1,g,m,l,p,u),z=x[0],x=x[1];z&&(A?d(y,b+1,e,x,z,g,m,l,p,u):t(z,x,w,l)&&k(x,r(z),l,g))}}function h(a,b,d,c,k,t,l,n,r,u,v,H){for(l=d.$type;l===e;){a:{b=k;l=a;var w=n,x=r,y=u,A=v,C=H;if(m(d))p(d,x,y),b=[void 0,l];else{g(y,d);var z=d,
E=d.value,D;d=d["\u001e\u0192alcor_context"];if(null!=d)D=d["\u001e\u0192alcor_parent"]||l;else{var F=0,B=E.length-1;D=d=l;do{D=h(l,D,d,E[F],b,F<B,!0,w,x,y,A,C);d=D[0];if(q(d)){b=D;break a}D=D[1]}while(F++<B);z["\u001e\u0192alcor_context"]!==d&&f(z,d)}b=[d,D]}}d=b[0];if(q(d))return b;b=b[1];l=d&&d.$type}if(void 0!==l)return[d,b];if(null==c){if(t)throw Error("`null` is not allowed in branch key positions.");}else b=d,d=b[c];return[d,b]}var f=a(11),e=a(0),l=a(17),g=a(13),r=a(7),n=a(14),v=a(1),m=a(2),
u=a(3),q=a(8),p=a(6),k=a(15),t=a(39);b.exports=function(a,b){var e=a._root,c=e.expired,f=e.version++,h=e._comparator,g=e._errorSelector,k=e.cache,t=l(a),m=t["\u001e\u0192alcor_parent"]||k;a=k["\u001e\u0192alcor_version"];for(var n=-1,w=b.length;++n<w;)d(b[n].json,0,k,m,t,f,c,e,h,g);b=k["\u001e\u0192alcor_version"];e=e.onChange;u(e)&&a!==b&&e()}},function(b,c,a){function d(a,b,e,c,f,l,m,n){var k={},t=b<a.length-1,w=a[b],r=u(w,k);do{var v=h(e,c,f,r,t,!1,l,m,n),y=v[0],v=v[1];y&&(t?d(a,b+1,e,v,y,l,m,
n):p(y,v,r,n)&&q(v,g(y),n,l));r=u(w,k)}while(!k.done)}function h(a,b,d,e,c,g,n,p,q){for(g=d.$type;g===f;){a:{b=a;var k=n,t=p,w=q;if(r(d))m(d,t,w),b=[void 0,b];else{l(w,d);g=d;var u=d.value,y;d=d["\u001e\u0192alcor_context"];if(null!=d)y=d["\u001e\u0192alcor_parent"]||b;else{var A=0,z=u.length-1;y=d=b;do{y=h(b,y,d,u[A],A<z,!0,k,t,w);d=y[0];if(v(d)){b=y;break a}y=y[1]}while(A++<z);g["\u001e\u0192alcor_context"]!==d&&(b=d["\u001e\u0192alcor_refs_length"]||0,d["\u001e\u0192alcor_refs_length"]=b+1,d["\u001e\u0192alcor_ref"+
b]=g,g["\u001e\u0192alcor_context"]=d,g["\u001e\u0192alcor_ref_index"]=b)}b=[d,y]}}d=b[0];if(v(d))return b;b=b[1];g=d.$type}if(void 0!==g)return[d,b];if(null==e){if(c)throw Error("`null` is not allowed in branch key positions.");}else b=d,d=b[e];return[d,b]}var f=a(0),e=a(17),l=a(13),g=a(7),r=a(2),n=a(3),v=a(8),m=a(6),u=a(4).iterateKeySet,q=a(15),p=a(39);b.exports=function(a,b){var c=a._root,f=c.expired,h=c.version++,g=c.cache,k=e(a),l=k["\u001e\u0192alcor_parent"]||g;a=g["\u001e\u0192alcor_version"];
for(var m=-1,t=b.length;++m<t;)d(b[m],0,g,l,k,h,f,c);b=g["\u001e\u0192alcor_version"];c=c.onChange;n(c)&&a!==b&&c()}},function(b,c,a){function d(a,b){var d=!1;return function(){d||a._disposed||(d=!0,a._callbacks[b]=null,a._optimizedPaths[b]=[],a._requestedPaths[b]=[],0===--a._count&&(a._disposable.dispose(),a.requestQueue.removeRequest(a)))}}function h(a){for(var b=[],d=-1,e=0,c=a.length;e<c;++e)for(var f=a[e],h=0,g=f.length;h<g;++h)b[++d]=f[h];return b}function f(a){if(!a)return{dispose:m,unsubscribe:m};
a.unsubscribe?a.dispose||(a.dispose=a.unsubscribe):a.unsubscribe=a.dispose;return a}var e=a(104),l=a(105),g=0,r=a(54).GetRequest,n=a(19),v=a(35),m=a(22),u=a(16),q=[],p=a(9);c=function(a,b){this.scheduled=this.sent=!1;this.requestQueue=b;this.id=++g;this.type=r;this._scheduler=a;this._pathMap={};this._optimizedPaths=[];this._requestedPaths=[];this._callbacks=[];this._count=0;this._collapsed=this._disposable=null;this._disposed=!1};c.prototype={batch:function(a,b,e){var c=this,h=c._optimizedPaths,g=
c._requestedPaths,k=c._callbacks,n=h.length;h[n]=b;g[n]=a;k[n]=e;++c._count;if(!c.scheduled){c.scheduled=!0;var m;a=c._scheduler.schedule(function(){c._disposable=m=f(l(c,h,function(a,b){var d,e,f;c.requestQueue.removeRequest(c);c._disposed=!0;if(a instanceof p)for(d=0,f=k.length;d<f;++d)(e=k[d])&&e(a);else if(c._count)for(c._merge(g,a,b),d=0,f=k.length;d<f;++d)(e=k[d])&&e(a,b)}))});c._disposable=f(m||a)}return d(c,n)},add:function(a,b,c){var f=e(a,b,this._pathMap),h;f?(h=f[2],a=f[1]):(h=a,a=b);var g=
!1,k=!1;a.length<b.length&&(g=!0,b=this._callbacks.length,this._callbacks[b]=c,this._requestedPaths[b]=f[0],this._optimizedPaths[b]=[],++this._count,k=d(this,b));return[g,h,a,k]},_merge:function(a,b,d){var c=this.requestQueue.model,e=c._root,f=e.errorSelector,e=e.comparator,g=c._path;c._path=q;a=h(a);if(b){var k=b;k instanceof Error?k={message:k.message}:k.$type||(k={$type:u,value:k});b=a.map(function(a){return{path:a,value:k}});v(c,b,f,e)}else n(c,[{paths:a,jsonGraph:d.jsonGraph}],f,e);c._path=g}};
b.exports=c},function(b,c,a){function d(a,b){this.model=a;this.scheduler=b;this.requests=this._requests=[]}var h=a(54),f=a(106),e=a(102),l=a(4).collapse;d.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,b){a.paths=l(a.paths);return f(a,this.model,b)},get:function(a,b,d){function c(a){r||(--g,0===g&&d(a))}var f=[],g=0,l=this._requests,n,k=a,r=!1,w;a=0;for(n=l.length;a<n&&(w=l[a],w.type!==h.GetRequest||(w.sent?(w=w.add(k,b,c),w[0]&&(k=w[1],b=w[2],f[f.length]=w[3],++g)):(w.batch(k,
b,c),b=[],k=[],++g),b.length));++a);b.length&&(w=new e(this.scheduler,this),l[l.length]=w,++g,l=w.batch(k,b,c),f[f.length]=l);return function(){if(!r&&0!==g){r=!0;for(var a=f.length,b=0;b<a;++b)f[b]()}}},removeRequest:function(a){for(var b=this._requests,d=b.length;0<=--d;)if(b[d].id===a.id){b.splice(d,1);break}}};b.exports=d},function(b,c,a){var d=a(4).hasIntersection;b.exports=function(a,b,c){for(var e=[],f=[],h=[],n=-1,v=-1,m=!1,u=0,q=b.length;u<q;++u){var p=b[u],k=p.length,t=c[k];t&&d(t,p,0,k)?
(!m&&0<u&&(f=a.slice(0,u),e=b.slice(0,u)),h[++n]=a[u],m=!0):m&&(e[++v]=p,f[v]=a[u])}return m?[h,e,f]:null}},function(b,c,a){c=a(4);var d=c.toTree,h=c.toPaths,f=a(9);b.exports=function(a,b,c){if(0===a._count)return a.requestQueue.removeRequest(a),null;a.sent=!0;a.scheduled=!1;for(var e=a._pathMap,g=0,l=Object.keys(b).length;g<l;++g)for(var m=b[g],u=0,q=m.length;u<q;++u){var p=m[u],k=p.length;e[k]?(k=e[k],k[k.length]=p):e[k]=[p]}b=Object.keys(e);g=0;for(l=b.length;g<l;++g)m=b[g],e[m]=d(e[m]);var e=
a._collasped=h(e),t,w;try{w=a.requestQueue.model._source.get(e)}catch(y){return c(new f),null}return w.subscribe(function(a){t=a},function(a){c(a,t)},function(){c(null,t)})}},function(b,c,a){var d=a(19),h=a(35),f=a(9),e=[],l={dispose:function(){}};b.exports=function(a,b,c){var g=a.paths,m=b._root,n=m.errorSelector,q=m.comparator,p=b._path,k,t;try{t=b._source.set(a)}catch(y){return c(new f),l}var r=t.subscribe(function(a){if(!r||!r.disposed){b._path=e;var c=d(b,[{paths:g,jsonGraph:a.jsonGraph}],n,
q);a.paths=c[1];b._path=p;k=a}},function(a){r&&r.disposed||(b._path=e,h(b,g.map(function(b){return{path:b,value:a}}),n,q),b._path=p,c(a))},function(){c(null,k)});return r}},function(b,c,a){function d(a,b,d,c,f){this.callPath=b;this.args=d;f&&(this.paths=f);c&&(this.suffix=c);this.model=a;b=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof b?b:a._root.version}var h=a(58);c=a(5);var f=a(9);d.prototype=Object.create(c.prototype);d.prototype._subscribe=function(a){var b=
this.callPath,d=this.args,c=this.suffix,e=this.paths,v=this.model,m=v._clone({_path:[]}),b=v._path.concat(b),u=this.initialCacheVersion;if(v._source){var q,p;try{p=v._source.call(b,d,c,e)}catch(k){a.onError(new f(k));return}return p.subscribe(function(a){q=a},function(b){a.onError(b)},function(){var b=q.invalidated;b&&b.length&&(++v._root.syncRefCount,m.invalidate.apply(m,b),--v._root.syncRefCount);return(new h(m.withoutDataSource(),[q],!1,!1,u)).subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},
function(){a.onCompleted()})})}a.onError(Error("function does not exist"))};b.exports=d},function(b,c,a){function d(a,b,d){this._model=a;var c=[],g,l,k=-1,m=b.length,n=a._root.cache["\u001e\u0192alcor_version"];for(this.initialCacheVersion="number"===typeof d?d:"number"===typeof n?n:a._root.version;++k<m;){a=b[k];if(h(a))d="PathValues";else if(f(a))d="PathValues";else if(e(a))d="PathMaps";else throw Error("Invalid Input");l!==d&&(l=d,g={inputType:d,arguments:[]},c.push(g));g.arguments.push(a)}this._groups=
c}var h=Array.isArray;c=a(5);var f=a(21),e=a(20),l=a(22),g={dispose:l,unsubscribe:l},r=a(3);d.prototype=Object.create(c.prototype);d.prototype.progressively=function(){return this};d.prototype._toJSONG=function(){return this};d.prototype._subscribe=function(a){var b=this._model;this._groups.forEach(function(a){(0,b["_invalidate"+a.inputType])(b,a.arguments)});a.onCompleted();a=b._root;var d=a.onChangesCompleted;this.initialCacheVersion!==a.cache["\u001e\u0192alcor_version"]&&0>=a.syncRefCount&&r(d)&&
d.call(a.topLevelModel);return g};b.exports=d},function(b,c,a){function d(a,b){var d=[],c,e;c=0;for(e=a.length;c<e;c++)d[c]=a[c];a=0;for(e=b.length;a<e;a++)d[c++]=b[a];return d}var h=a(56),f=a(50),e=a(32),l=a(7),g=a(55),r=a(9),n=a(3);b.exports=function m(a,b,c,k,t,w,y,A,C){if(10===w)throw new f;var p=b._request,q=c.requestedMissingPaths,u=c.optimizedMissingPaths,x=new g,B=[],F=b._path;if(F.length)for(var G=0,H=q.length;G<H;++G)B[G]=d(F,q[G]);else B=q;var J=a.isProgressive||!C?q:A,p=p.get(B,u,function(d){if(d instanceof
r)k.onError(d);else if(d=h(b,J,k,a.isProgressive,a.isJSONGraph,c.values,t,C))x.currentDisposable=m(a,b,d,k,t,w+1,y,A,C);else{d=b._root;var f=d.cache,g=f["\u001e\u0192alcor_version"];e(d,d.expired,l(f),b._maxSize,b._collectRatio,g);f=d.onChangesCompleted;y!==g&&0>=d.syncRefCount&&n(f)&&f.call(d.topLevelModel)}});x.currentDisposable=p;return x}},function(b,c,a){var d=a(5),h=a(57),f=a(40),e=a(33);b.exports=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var l=f(b,h,"get");return!0!==
l?new d(function(a){a.onError(l)}):new e(this,b)}},function(b,c,a){function d(a,b){for(var c,f,h,r=Object.keys(b),n=-1,v=r.length;++n<v;)h=r[n],"\u001e\u0192alcor_metadata"!==h&&(f=b[h],c=a[h],c!==f&&(void 0===c||"object"!==typeof f?a[h]=f:d(c,f)));a["\u001e\u0192alcor_metadata"]=b["\u001e\u0192alcor_metadata"];return a}b.exports=d},function(b,c,a){var d=a(115),h=a(40),f=a(58),e=a(5);b.exports=function(){var a=h(arguments,d,"set");if(!0!==a)return new e(function(b){b.onError(a)});for(var b=-1,c=arguments.length,
n=[];++b<c;)n[b]=arguments[b];return new f(this,n)}},function(b,c,a){function d(a){return a.path}function h(a){return a.paths}var f=a(119);b.exports=function(a,b){for(var c=a._root.errorSelector,e=-1,l=b.length,v=[],m=[],u={requestedPaths:v,optimizedPaths:m};++e<l;){var q=b[e],p=q.inputType,q=q.arguments;if(0<q.length){var k=(0,a["_set"+p])(a,q,c);m.push.apply(m,k[1]);"PathValues"===p?v.push.apply(v,q.map(d)):"JSONGs"===p?v.push.apply(v,f(q,h)):v.push.apply(v,k[0])}}return u}},function(b,c,a){function d(a,
b){var d=a._path,c={};a._path=f;a._getPathValuesAsJSONG(a._materialize().withoutDataSource(),b,[c]);a._path=d;return c}function h(a,b,d,c,e,f){return(new l(a,d,c,e,!0,f,!1)).subscribe(b)}var f=[],e=a(55),l=a(33),g=a(113),r=a(27).getWithPathsAsPathMap,n=a(9),v=a(50);b.exports=function u(a,b,c,f,l,y,A){if(10===y)throw new v;var k=g(a,c),p=k.optimizedPaths,t=k.requestedPaths;if(void 0===a._source)return h(a,b,t,f,l,A);if(l){k=r(a,t,[{}],!0);if(k.criticalError)return b.onError(k.criticalError),null;b.onNext(k.values[0])}var k=
d(a,p),q=new e,k=a._request.set(k,function(d,e){if(typeof d===n)b.onError(d);else{var g=!1;if(d||p.length===e.paths.length)g=!0;g?q.currentDisposable=h(a,b,t,f,l,A):u(a,b,c,f,l,y+1,A)}});q.currentDisposable=k;return q}},function(b,c){b.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(b,c){function a(){}var d={dispose:function(){}};a.prototype.schedule=function(a){a();return d};b.exports=a},function(b,c){function a(a){this.delay=a}var d=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=
function(a){a=setTimeout(a,this.delay);return new d(a)};d.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)};b.exports=a},function(b,c,a){var d=a(5),h=a(21);b.exports=function(a,b){var c=h(a)?a:{path:a,value:b};a=0;var e=c.path;for(b=e.length;++a<b;)if("object"===typeof e[a])return new d(function(a){a.onError(Error("Paths must be simple paths"))});var f=this;return new d(function(a){return f.set(c).subscribe(function(b){b=b.json;for(var d=-1,c=e.length;b&&++d<c;)b=
b[e[d]];a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}},function(b,c){b.exports=function(a,b){for(var d=-1,c=-1,e=a.length,l=[];++c<e;)for(var g=b(a[c],c,a),r=-1,n=g.length;++r<n;)l[++d]=g[r];return l}},function(b,c,a){var d=a(14),h=Array.isArray,f=a(1);b.exports=function(a){var b=a;if(f(b)){var b=h(a)?[]:{},c;for(c in a)"\u001e"!==c.charAt(0)&&d(a,c)&&(b[c]=a[c])}return b}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$expires||void 0}},function(b,c,a){var d=
a(1);b.exports=function(a,b){a=d(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,c,a){var d=a(37),h=a(42),f=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&a!==h&&a<d()}},function(b,c,a){b.exports=function(a){return"$size"===a||"\u001e\u0192alcor_wrapped_value"===a||"\u001e"===a.charAt(0)}},function(b,c,a){var d=a(0),h=a(16),f=a(7),e=a(59),l=a(1),g=a(2),r=a(3),n=a(65),v=a(60),m=a(6),u=a(63),q=a(15),p=a(62);b.exports=function(a,b,c,y,A,C,D,E,z,x,B){var k,t,w,J,M,R;if(b===c){if(null===
c)return b=n(c,void 0,c),a=q(a,-b.$size,z,D),b=v(b,a,y,void 0,C);if(void 0===c)return c;if(w=l(b))if(k=b.$type,null==k)return null==b["\u001e\u0192alcor_parent"]&&v(b,a,y,D,C),b}else if(w=l(b))k=b.$type;if(k!==d){if(J=l(c))t=c.$type;if(w&&!k&&(null==c||J&&!t))return b}else{if(null==c){if(g(b)){m(b,E,z);return}return b}if(J=l(c))if(t=c.$type,t===d)if(b===c){if(null!=b["\u001e\u0192alcor_parent"])return b}else if(M=b.$timestamp,R=c.$timestamp,!g(b)&&!g(c)&&R<M)return}if(k&&J&&!t)return v(u(b,c,a,y,
z,D),a,y,void 0,C);t||!J?(t===h&&r(B)&&(c=B(p(A,y),c)),t&&b===c?null==b["\u001e\u0192alcor_parent"]&&(b=n(b,k,b.value),a=q(a,-b.$size,z,D),b=v(b,a,y,D,C)):(A=!0,(k&&!g(b)||!w)&&(A=!1===e(c)<e(b))&&(k||t)&&r(x)&&(A=!x(b,c,C.slice(0,C.index))),A&&(c=n(c,t,t?c.value:c),x=f(b)-f(c),b=u(b,c,a,y,z,D),a=q(a,x,z,D),b=v(b,a,y,D,C))),g(b)&&m(b,E,z)):null==b&&(b=v(c,a,y,void 0,C));return b}},function(b,c,a){b.exports=function(a,b){for(var d=a["\u001e\u0192alcor_refs_length"]||0,c=b["\u001e\u0192alcor_refs_length"]||
0,h=-1;++h<d;){var g=a["\u001e\u0192alcor_ref"+h];void 0!==g&&(g["\u001e\u0192alcor_context"]=b,b["\u001e\u0192alcor_ref"+(c+h)]=g,a["\u001e\u0192alcor_ref"+h]=void 0)}b["\u001e\u0192alcor_refs_length"]=d+c;a["\u001e\u0192alcor_refs_length"]=void 0;return b}},function(b,c,a){b.exports=function(a){for(var b=-1,d=a["\u001e\u0192alcor_refs_length"]||0;++b<d;){var c=a["\u001e\u0192alcor_ref"+b];null!=c&&(c["\u001e\u0192alcor_context"]=c["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_ref"+b]=void 0)}a["\u001e\u0192alcor_refs_length"]=
void 0;return a}},function(b,c,a){b.exports=function(a){var b=a["\u001e\u0192alcor_context"];if(b){for(var c=(a["\u001e\u0192alcor_ref_index"]||0)-1,d=(b["\u001e\u0192alcor_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192alcor_ref"+c]=b["\u001e\u0192alcor_ref"+(c+1)];b["\u001e\u0192alcor_refs_length"]=d;a["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_context"]=void 0}return a}},function(b,c){function a(a){this.esObserver=a}function d(a){this.subscription=a}a.prototype={onNext:function(a){"function"===
typeof this.esObserver.next&&this.esObserver.next(a)},onError:function(a){"function"===typeof this.esObserver.error&&this.esObserver.error(a)},onCompleted:function(){"function"===typeof this.esObserver.complete&&this.esObserver.complete()}};d.prototype.unsubscribe=function(){this.subscription.dispose()};b.exports=function(b){return{subscribe:function(c){return new d(b.subscribe(new a(c)))}}}},function(b,c,a){b.exports=a(67)}])});
//# sourceMappingURL=falcor.min.js.map
