(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var g=a[c]={i:c,l:!1,exports:{}};b[c].call(g.exports,g,g.exports,d);g.l=!0;return g.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,g,f){Object.defineProperty(a,g,{configurable:!1,enumerable:!0,get:f})};
d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,g){return Object.prototype.hasOwnProperty.call(a,g)};d.p="";return d(d.s=133)}([function(b,d){b.exports="ref"},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d){b.exports=function(a){return!!a&&"function"===typeof a}},function(b,d,a){var c=a(37),g=a(42),f=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&(a===g||a<c())}},
function(b,d,a){b.exports=a(75)},function(b,d,a){(function(c){function g(a){this._subscribe=a}var f=a(24),k=a(86),h=a(132);g.prototype[k.observable]=function(){return h(this)};g.prototype._toJSONG=function(){return this};g.prototype.progressively=function(){return this};g.prototype.subscribe=g.prototype.forEach=function(a,c,e){var g=a;g&&"object"===typeof g?g.onNext||g.onError||g.onCompleted||(g={onNext:(g.next||f).bind(g),onError:(g.error||f).bind(g),onCompleted:(g.complete||f).bind(g)}):g={onNext:a||
f,onError:c||f,onCompleted:e||f};a=this._subscribe(g);switch(typeof a){case "function":return{dispose:a,unsubscribe:a};case "object":return a||{dispose:f,unsubscribe:f};default:return{dispose:f,unsubscribe:f}}};g.prototype.then=function(a,f){var g=this;g._promise||(g._promise=new c.Promise(function(a,c){var f=!1,e=[];g.subscribe(function(a){e[e.length]=a},function(a){f=!0;c(a)},function(){var c=e;1>=e.length&&(c=e[0]);!1===f&&a(c)})}));return g._promise.then(a,f)};b.exports=g}).call(d,a(68))},function(b,
d,a){var c=a(1);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){var c=a(55);b.exports=function(a,f,k){a["\u001e\u0192alcor_invalidated"]||(a["\u001e\u0192alcor_invalidated"]=!0,f.push(a),c(k,a));return a}},function(b,d){b.exports=function(a){return null==a||"object"!==typeof a}},function(b,d){function a(a){var c=Error.call(this,"An exception was thrown when making a request.");c.name="InvalidSourceError";this.stack=c.stack;this.message=c.message;this.innerError=a;return this}a.prototype=
Object.create(Error.prototype);a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,d){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,d,a){b.exports=function(a,
g){var c=g["\u001e\u0192alcor_refs_length"]||0;g["\u001e\u0192alcor_ref"+c]=a;g["\u001e\u0192alcor_refs_length"]=c+1;a["\u001e\u0192alcor_ref_index"]=c;a["\u001e\u0192alcor_context"]=g}},function(b,d,a){b.exports=function(a){for(var c,f=Object.keys(a),k={},h=-1,m=f.length;++h<m;)c=f[h],"\u001e"!==c.charAt(0)&&(k[c]=a[c]);return k}},function(b,d,a){function c(a,k){var f=a,m,p=0,e=k.length;if(0<e){do for(f=f[k[p]];f&&(m=f.$type)===g;)f=c(a,f.value);while(++p<e&&f&&!m)}return f}var g=a(0);b.exports=
c},function(b,d,a){var c=a(41);b.exports=function(a,f){if(f.$expires!==c){var g=a["\u001e\u0192alcor_head"];if(!g)a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_tail"]=f;else if(g!==f){var h=f["\u001e\u0192alcor_prev"],m=f["\u001e\u0192alcor_next"];m&&(m["\u001e\u0192alcor_prev"]=h);h&&(h["\u001e\u0192alcor_next"]=m);f["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_head"]=f;f["\u001e\u0192alcor_next"]=g;g["\u001e\u0192alcor_prev"]=f;f===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=
h)}}}},function(b,d,a){var c=a(1),g=Object.prototype.hasOwnProperty;b.exports=function(a,k){return c(a)&&g.call(a,k)}},function(b,d,a){var c=a(38),g=a(66);b.exports=function(a,k,h,m){var f=a;do{var e=f["\u001e\u0192alcor_parent"];0>=(f.$size=(f.$size||0)-k)&&null!=e?c(f,e,f["\u001e\u0192alcor_key"],h):f["\u001e\u0192alcor_version"]!==m&&g(f,m);f=e}while(f);return a}},function(b,d){b.exports="error"},function(b,d){b.exports={$__null__$:null}},function(b,d,a){var c=a(13);b.exports=function(a,f){f=f||
a._path;var g=a._node;if(!g||void 0===g["\u001e\u0192alcor_parent"]||g["\u001e\u0192alcor_invalidated"])a._node=null,0===f.length?g=a._root.cache:(g=c(a._root.cache,f),f===a._path&&(a._node=g));return g}},function(b,d,a){var c=a(38),g=a(16);b.exports=function(a,k,h,m,b,e){var f=b;"number"!==typeof f&&(f=.75);b="number"===typeof e;var f=m*f,p,t,q;for(t=k.pop();t;)q=t.$size||0,h-=q,!0===b?g(t,q,a,e):(p=t["\u001e\u0192alcor_parent"])&&c(t,p,t["\u001e\u0192alcor_key"],a),t=k.pop();if(h>=m){for(t=k=a["\u001e\u0192alcor_tail"];h>=
f&&t;)k=k["\u001e\u0192alcor_prev"],q=t.$size||0,h-=q,!0===b&&g(t,q,a,e),t=k;a["\u001e\u0192alcor_tail"]=a["\u001e\u0192alcor_prev"]=t;null==t?a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_next"]=void 0:t["\u001e\u0192alcor_next"]=void 0}}},function(b,d,a){function c(a,f,e,k,h,b,m,p,y,q,t,d,E,F,H,J,L){var r={},l=f<a.length-1,v=a[f],w=u(v,r),A=d.index;do{t.depth=f;var n=g(e,k,h,b,m,p,w,l,!1,t,d,E,F,H,J,L);t[f]=w;t.index=f;var x=n[0],z=n[1],D=n[4];D[D.index++]=w;x&&(l?c(a,f+1,e,z,x,b,n[3],n[2],y,
q,t,D,E,F,H,J,L):(y.push(t.slice(0,t.index+1)),q.push(D.slice(0,D.index))));w=u(v,r);if(r.done)break;d.index=A}while(1)}function g(a,c,b,r,p,u,d,B,C,z,x,G,E,F,H,J){for(C=b.$type;C===k;){a:{c=a;p=r;x=z;var l=G,v=E,w=F,n=H,A=J,D,K,N=b.value;C=N.slice(0);if(m(b))y(b,v,w),b=void 0,D=c,K=p,C.index=N.length;else{var P=0,O=b,M=N.length-1;D=b=c;K=u=p;do{var I=N[P],Q=P<M;C.index=P;K=g(c,D,b,p,K,u,I,Q,!0,x,C,l,v,w,n,A);b=K[0];C=K[4];if(e(b)){C.index=P;x=K;break a}D=K[1];u=K[2];K=K[3]}while(P++<M);C.index=P;
O["\u001e\u0192alcor_context"]!==b&&h(O,b)}f[0]=b;f[1]=D;f[2]=u;f[3]=K;f[4]=C;x=f}b=x[0];if(e(b))return x;c=x[1];u=x[2];p=x[3];x=x[4];C=b.$type}if(void 0===C){if(null==d){if(B)throw new q;b&&(d=b["\u001e\u0192alcor_key"])}else c=b,p=u,b=c[d],u=p&&p[d];b=t(c,b,u,d,z,x,G,E,F,H,J)}f[0]=b;f[1]=c;f[2]=u;f[3]=p;f[4]=x;return f}var f=Array(5),k=a(0),h=a(11),m=a(126),p=a(2),e=a(8),y=a(7),u=a(4).iterateKeySet,t=a(128),q=a(10);b.exports=function(a,e,g,k){var b=a._root,r=b.expired,h=b.version++,l=b.cache;a=
l["\u001e\u0192alcor_version"];for(var m=[],u=[],y=[],v=[],t=-1,q=e.length;++t<q;)for(var n=e[t],d=n.paths,n=n.jsonGraph,L=-1,R=d.length;++L<R;){var S=d[L];u.index=0;c(S,0,l,l,l,n,n,n,y,v,m,u,h,r,b,k,g)}f[0]=void 0;f[1]=void 0;f[2]=void 0;f[3]=void 0;f[4]=void 0;e=l["\u001e\u0192alcor_version"];g=b.onChange;p(g)&&a!==e&&g();return[y,v]}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,g=a(1);b.exports=function(a){return g(a)&&(c(a.path)||
"string"===typeof a.path)}},function(b,d){b.exports=function(){}},function(b,d){b.exports="atom"},function(b,d,a){function c(a,b,m,p){if(m===p)return!0;var e,k=-1,h=0,t=m+1,q,n,l;e=b[m];if(null===e)return a===f;a:do{if("object"!==typeof e)m=e,n=void 0,q=!1;else if(g(e)){if(void 0!==l)break a;k=0;l=e;h=e.length;if(0===h)break a;e=l[k];continue a}else{n=e.to;m=e.from||0;"number"!==typeof n&&(n=m+(e.length||0)-1);if(0>n-m)break a;q=!0}do if(t===p){if(null!==a[m])return!1}else if(e=a[m],null===e||void 0===
e||!1===c(e,b,t,p))return!1;while(q&&++m<=n);if(++k===h)break a;e=l[k]}while(1);return!0}var g=Array.isArray,f=a(18);b.exports=c},function(b,d){function a(a,g){a=Error.call(this,"The KeySet "+JSON.stringify(g)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");a.name="InvalidKeySetError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===
a.name};b.exports=a},function(b,d,a){b.exports={getWithPathsAsPathMap:a(95),getWithPathsAsJSONGraph:a(99)}},function(b,d,a){function c(a){this["\u001e\u0192alcor_metadata"]=a||{}}function g(a){if(typeof a===p){if(1!==arguments.length)return a;a=this}else a||(a=this);if(a.self!==a&&a.global!==a&&a.window!==a){var c=k(a,g);c["\u001e\u0192alcor_metadata"]&&delete c["\u001e\u0192alcor_metadata"];return c}}function f(a,g){var e=arguments.length;a=0===e?this:a;if(!a||typeof a!==m)return a;if(a.self!==a&&
a.global!==a&&a.window!==a){var e=k(a,0<e&&g||f),b=e["\u001e\u0192alcor_metadata"];b&&(delete e["\u001e\u0192alcor_metadata"],b.version=a["\u001e\u0192alcor_metadata"].version,e.__proto__=new c(b));return e}}function k(a,c){var f=arguments.length;a=0===f?this:a;if(!a||typeof a!==m)return a;if(a.self!==a&&a.global!==a&&a.window!==a){var g,e,b,l;c=0<f&&c||k;if(h(a))for(f=-1,g=a.length,l=Array(g);++f<g;)l[f]=a[f];else{l={};f=-1;e=a["\u001e\u0192alcor_metadata"];b=Object.keys(a);g=b.length;if(e){var p=
e.$code,r=e.abs_path,y=e.deref_to,w=e.deref_from;l["\u001e\u0192alcor_metadata"]=e={};p&&(e.$code=p);r&&(e.abs_path=r);y&&(e.deref_to=y);w&&(e.deref_from=w)}for(;++f<g;)e=b[f],"\u001e\u0192alcor_metadata"!==e&&(l[e]=c(a[e],c))}return l}}c.prototype=Object.create(Object.prototype,Object.assign({toJSON:{value:g},toProps:{value:f},serialize:{value:k},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];
return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,c){var f=Array.prototype[c];a[c]={writable:!0,enumerable:!1,value:function(){return f.apply(this,arguments)}};return a},{})));var h=Array.isArray,m="object",p="string";b.exports=c},function(b,d){b.exports=function(a,c,g,f){var k=0,b;b=f.jsonGraph;b||(b={},
f.jsonGraph=b);do{f=c[k++];if(k>=g){b=b[f]=a;break}b=b[f]||(b[f]={})}while(1);return b}},function(b,d){var a=Array.isArray;b.exports=function(c,g,f,b,h,m,p){for(var e,k=-1,u=h-g,t=u&&Array(u)||void 0;++k<u;){e=c[k+g];var q;q=e;if("object"!==typeof q||null===q)q=!1;else if(a(q))q=0===q.length;else{var n=q.to,l=q.from||0;"number"!==typeof n&&(n=l+(q.length||0));q=l>=n}if(q)return;t[k]=e}c=null===e;n=g;g=h;k=b;b=f.requestedMissingPaths||(f.requestedMissingPaths=[]);e=!0;do{if(u<h||!e){q=-1;l=n;for(n=
Array(g);++q<l;)n[q]=k[q];for(k=-1;q<g;)n[q++]=t[++k];b.push(n)}else b.push(t);if(e=!e)break;n=p;g=p+u-Number(c);k=m;b=f.optimizedMissingPaths||(f.optimizedMissingPaths=[])}while(1)}},function(b,d,a){var c=a(25),g=a(14),f=a(3),k=a(7);b.exports=function(a,b,p,e,y,u,t,q,n,l,v,r,d,w,D,B,C,z,x){if(!a||!b){if(D&&!B){if(y)return u.hasValue=!0,{$type:c};return}return x(p,e,u,t,q,n,l)}if(f(a))return a["\u001e\u0192alcor_invalidated"]||k(a,d,r),x(p,e,u,t,q,n,l);g(r,a);if(y)return v&&(t[e]=null),z(a,b,e,y,
u,t,n,l,v,w,D,C)}},function(b,d,a){d=a(5);var c=a(58),g=a(112),f=a(24),k={dispose:f,unsubscribe:f};a(20);a(6);a(2);var h=b.exports=function(a,c,f,g,b,k,h){c&&c[0]&&Array.isArray(c[0].$keys)&&(c=c[0]);this.model=a;this.currentRemainingPaths=c;this.isJSONGraph=f||!1;this.isProgressive=g||!1;this.forceCollect=b||!1;this.recycleJSON=void 0!==h?h:a._recycleJSON;c=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof k?k:"number"===typeof c?c:a._root.version};h.prototype=
Object.create(d.prototype);h.prototype._toJSONG=function(){return new h(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};h.prototype.progressively=function(){return new h(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};h.prototype._subscribe=function(a){var f=[],e=this.model,b=this.recycleJSON,h=this.isProgressive,m=this.currentRemainingPaths,q=this.initialCacheVersion,
n=a.isJSONG=this.isJSONGraph,l=[n||h||!b?{}:e._seed||(e._seed={})];return(h=c(e,m,a,h,n,l,f,b,q,this.forceCollect))?g(this,e,h,a,f,1,q,m,b):k}},function(b,d,a){function c(a,f,b,h,l,m,p,v,u,t,q,n,d,L){var r;if(y(a)&&!a.$type){r=[];var w=0;k(a)&&(r[w++]="length");for(var E in a)"\u001e"!==E[0]&&"$"!==E[0]&&e(a,E)&&(r[w++]=E)}else r=void 0;if(r&&r.length){w=0;E=r.length;var A=u.index;do{var x=r[w],z=a[x],D=y(z)&&!z.$type;v.depth=f;var F=g(b,h,l,x,z,D,!1,v,u,t,q,n,d,L);v[f]=x;v.index=f;var C=F[0],B=F[1],
F=F[2];F[F.index++]=x;C&&(D?c(z,f+1,b,B,C,m,p,v,F,t,q,n,d,L):(m.push(v.slice(0,v.index+1)),p.push(F.slice(0,F.index))));if(++w>=E)break;u.index=A}while(1)}}function g(a,c,e,b,k,p,y,t,d,E,F,H,J,L){for(var r=e.$type;r===h;){a:{c=k;d=a;var r=t,w,A=E,x=F,z=H,D=J,C=L,B,G=e.value;w=G.slice(0);if(u(e))n(e,x,z),e=void 0,B=d,w.index=G.length;else{var M=e;e=e["\u001e\u0192alcor_context"];if(null!=e)B=e["\u001e\u0192alcor_parent"]||d,w.index=G.length;else{var I=0,Q=G.length-1;w.index=I;B=e=d;do{B=g(d,B,e,G[I],
c,I<Q,!0,r,w,A,x,z,D,C);e=B[0];w=B[2];if(q(e)){w.index=I;d=B;break a}B=B[1]}while(I++<Q);w.index=I;M["\u001e\u0192alcor_context"]!==e&&m(M,e)}}f[0]=e;f[1]=B;f[2]=w;d=f}e=d[0];if(q(e))return d;c=d[1];d=d[2];r=e&&e.$type}if(void 0===r){if(null==b){if(p)throw new v;e&&(b=e["\u001e\u0192alcor_key"])}else c=e,e=c[b];e=l(c,e,b,k,p,y,t,d,E,F,H,J,L)}f[0]=e;f[1]=c;f[2]=d;return f}var f=Array(3),k=Array.isArray,h=a(0),m=a(11),p=a(13),e=a(15),y=a(1),u=a(3),t=a(2),q=a(8),n=a(7),l=a(63),v=a(10);b.exports=function(a,
e,g,b){var k=a._root,r=k.expired,h=k.version++,l=a._path,m=k.cache,v=p(m,l),u=v["\u001e\u0192alcor_parent"]||m;a=m["\u001e\u0192alcor_version"];for(var y=[],q=[],d=[],n=l.length,w=-1,A=e.length;++w<A;){var D=e[w],Z=l.slice(0);Z.index=n;c(D.json,0,m,u,v,q,d,y,Z,h,r,k,b,g)}f[0]=void 0;f[1]=void 0;f[2]=void 0;e=m["\u001e\u0192alcor_version"];k=k.onChange;t(k)&&a!==e&&k();return[q,d]}},function(b,d,a){function c(a,f,e,b,k,h,m,p,u,y,q,d,n,H,J){var r={},l=e<f.length-1,v=f[e],w=t(v,r),E=y.index;do{u.depth=
e;u[e]=w;u.index=e;var A=g(b,k,h,w,a,l,!1,u,y,q,d,n,H,J);u[e]=w;u.index=e;var x=A[0],D=A[1],A=A[2];A[A.index++]=w;x&&(l?c(a,f,e+1,b,D,x,m,p,u,A,q,d,n,H,J):(m.push(u.slice(0,u.index+1)),p.push(A.slice(0,A.index))));w=t(v,r);if(r.done)break;y.index=E}while(1)}function g(a,c,e,b,m,t,d,C,z,x,G,E,F,H){for(var l=e.$type;l===k;){a:{c=m;z=a;var l=C,r,v=x,w=G,A=E,D=F,B=H,K,N=e.value;r=N.slice(0);if(p(e))u(e,w,A),e=void 0,K=z,r.index=N.length;else{var P=e;e=e["\u001e\u0192alcor_context"];if(null!=e)K=e["\u001e\u0192alcor_parent"]||
z,r.index=N.length;else{var O=0,M=N.length-1;K=e=z;do{var I=N[O],Q=O<M;r.index=O;K=g(z,K,e,I,c,Q,!0,l,r,v,w,A,D,B);e=K[0];r=K[2];if(y(e)){r.index=O;z=K;break a}K=K[1]}while(O++<M);r.index=O;P["\u001e\u0192alcor_context"]!==e&&h(P,e)}}f[0]=e;f[1]=K;f[2]=r;z=f}e=z[0];if(y(e))return z;c=z[1];z=z[2];l=e.$type}if(!t||void 0===l){if(null==b){if(t)throw new n;e&&(b=e["\u001e\u0192alcor_key"])}else c=e,e=c[b];e=q(c,e,b,m,t,d,C,z,x,G,E,F,H)}f[0]=e;f[1]=c;f[2]=z;return f}var f=Array(3),k=a(0),h=a(11),m=a(13),
p=a(3),e=a(2),y=a(8),u=a(7),t=a(4).iterateKeySet,q=a(63),n=a(10);b.exports=function(a,g,b,k){var h=a._root,l=h.expired,r=h.version++,p=a._path,u=h.cache,v=m(u,p),y=v["\u001e\u0192alcor_parent"]||u;a=u["\u001e\u0192alcor_version"];for(var t=[],d=[],q=[],n=p.length,A=-1,R=g.length;++A<R;){var S=g[A],W=S.path,S=S.value,V=p.slice(0);V.index=n;c(S,W,0,u,y,v,d,q,t,V,r,l,h,k,b)}f[0]=void 0;f[1]=void 0;f[2]=void 0;g=u["\u001e\u0192alcor_version"];h=h.onChange;e(h)&&a!==g&&h();return[d,q]}},function(b,d,a){var c=
Array.isArray,g=a(1);b.exports=function(a){return g(a)&&c(a.paths)&&(g(a.jsonGraph)||g(a.jsong)||g(a.json)||g(a.values)||g(a.value))}},function(b,d){b.exports=Date.now},function(b,d,a){var c=a(0),g=a(55),f=a(1),k=a(130),h=a(131);b.exports=function(a,b,e,y){if(f(a)){var p=a.$type;p&&(p===c&&h(a),g(y,a));k(a);b[e]=a["\u001e\u0192alcor_parent"]=void 0;return!0}return!1}},function(b,d,a){var c=a(15),g=a(38);b.exports=function k(a,b,p,e){if(g(a,b,p,e)){if(null==a.$type)for(var h in a)"\u001e"!==h[0]&&
"$"!==h[0]&&c(a,h)&&k(a[h],a,h,e);return!0}return!1}},function(b,d,a){var c=Array.isArray,g=a(23),f=a(36),k=a(22);b.exports=function(a,b,p){for(var e=0,h=a.length;e<h;++e){var m=a[e],t=!1;c(m)&&b.path?t=!0:c(m.$keys)&&b.flatBuffer?t=!0:g(m)&&b.pathValue?t=!0:f(m)&&b.jsonGraph?t=!0:k(m)&&b.json?t=!0:"function"===typeof m&&e+1===h&&b.selector&&(t=!0);if(!t)return Error("Unrecognized argument "+typeof m+" ["+String(m)+"] to Model#"+p+"")}return!0}},function(b,d){b.exports=1},function(b,d){b.exports=
0},function(b,d){b.exports=function(a){for(var c=5381,g=a.length;g;)c=33*c^a.charCodeAt(--g);return c>>>0}},function(b,d){function a(a,c){var f=c.from=a.from||0;a=c.to=a.to||"number"===typeof a.length&&c.from+a.length-1||0;c.rangeOffset=c.from;c.loaded=!0;f>a&&(c.empty=!0)}var c=Array.isArray;b.exports=function(b,f){if(void 0===f.isArray){f.done=!1;var g=f.isObject=!(!b||"object"!==typeof b);f.isArray=g&&c(b);f.arrayOffset=0}if(f.isArray){var h;do{f.loaded&&f.rangeOffset>f.to&&(++f.arrayOffset,f.loaded=
!1);if(f.arrayOffset>=b.length){f.done=!0;break}g=b[f.arrayOffset];"object"===typeof g?(f.loaded||a(g,f),f.empty||(h=f.rangeOffset++)):(++f.arrayOffset,h=g)}while(void 0===h);return h}if(f.isObject){f.loaded||a(b,f);if(f.rangeOffset>f.to){f.done=!0;return}return f.rangeOffset++}f.done=!0;return b}},function(b,d){b.exports=function(a,c){var b=[],f=a.length;for(c=c||0;c<f;c++)b[c]=a[c];return b}},function(b,d){b.exports={$ref:"ref",$atom:"atom",$error:"error"}},function(b,d){b.exports=function(a,c){return a.reduce(function(a,
c){var f=c.length;a[f]||(a[f]=[]);a[f].push(c);return a},c||{})}},function(b,d,a){var c=a(50);b.exports=function(a,f){return Object.keys(a).reduce(function(f,b){f[b]=c(a[b],f[b]);return f},f||{})}},function(b,d,a){function c(a,e,b){var g,l=k(String(e)),p=Object.create(null),r=[],m=-1,u=0,y=[],d=0,t,q,x,G,E,F;x=[];G=-1;if(e<b-1){for(E=f(a,x);++G<E;)g=x[G],t=c(a[g],e+1,b),q=t.code,p[q]?t=p[q]:(r[u++]=q,t=p[q]={keys:[],sets:t.sets}),l=k(l+g+q),h(g)&&t.keys.push(parseInt(g,10))||t.keys.push(g);for(;++m<
u;)if(g=r[m],t=p[g],x=t.keys,E=x.length,0<E)for(a=t.sets,e=-1,b=a.length,G=x[0];++e<b;){g=a[e];t=-1;q=g.length;F=Array(q+1);for(F[0]=1<E&&x||G;++t<q;)F[t+1]=g[t];y[d++]=F}}else for(E=f(a,x),1<E?y[d++]=[x]:y[d++]=x;++G<E;)l=k(l+x[G]);return{code:l,sets:y}}function g(a,c){return a-c}function f(a,c,f){var e=0;if(a===y)c[e++]=null;else{for(var b in a)c[e++]=b;1<e&&c.sort(f)}return e}function k(a){for(var c=5381,f=-1,e=a.length;++f<e;)c=(c<<5)+c+a.charCodeAt(f);return String(c)}function h(a){var c=a,f=
typeof a;if("string"===f){c=a.length;if(0===c||17<c||!e.test(a))return!1;if(16>c)return!0;c=+a}else if("number"!==f)return!1;return 0===c%1&&9007199254740991>=p(c)}var m=Array.isArray,p=Math.abs,e=/^(0|(\-?[1-9][0-9]*))$/,y=a(18);b.exports=function(a){var f,e=[],b=0,k;for(k in a){var p;if(p=h(k))p=f=a[k],p=null!==p&&"object"===typeof p;if(p){p=c(f,0,parseInt(k,10)).sets;for(var r=-1,y=p.length;++r<y;){for(var d=b++,u=p[r],B=-1,C=u.length;++B<C;){var z=u[B];if(m(z)){var x=u,G=B;for(var E=-1,F=z.length-
1,H=0<F;++E<=F;){var J=z[E];if(!h(J)){H=!1;break}z[E]=parseInt(J,10)}!0===H&&(z.sort(g),E=z[0],H=z[F],H-E<=F&&(z={from:E,to:H}));x[G]=z}}e[d]=u}}}return e};b.exports._isSafeNumber=h},function(b,d,a){function c(a,b,m,p){if(m===p)return!0;var e,k=-1,h=0,d,q=m+1,n,l,v;e=b[m];if(null===e)return f;a=a||{};a:do{if("object"!==typeof e)m=e,l=void 0,n=!1;else if(g(e)){if(void 0!==v)break a;k=0;v=e;h=e.length;if(0===h)break a;e=v[k];continue a}else{l=e.to;m=e.from||0;"number"!==typeof l&&(l=m+(e.length||0)-
1);if(0>l-m)break a;n=!0}do q===p?a[m]=null:(e=a[m],(d=c(e,b,q,p))?e||(a[m]=d):a[m]=null);while(n&&++m<=l);if(++k===h)break a;e=v[k]}while(1);return a}var g=Array.isArray,f=a(18);b.exports=function(a,f){return a.reduce(function(a,f){return c(a,f,0,f.length)},f||{})}},function(b,d){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name=
"CircularReferenceError";b.exports=a},function(b,d){function a(){var a=Error.call(this,"The allowed number of retries have been exceeded.");a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,d,a){var c=Array(3),g=a(0),f=a(14),k=a(3),h=a(11),m=a(51);b.exports=function(a,e,b){f(b,e);var p,y,d=0,n=a,
l=e.value,v=l,r=l.length;do{if(0===d&&void 0!==(p=e["\u001e\u0192alcor_context"]))n=p,d=r;else if(y=l[d++],void 0===(n=n[y]))break;if(d===r){y=n.$type;if(void 0!==y&&k(n))break;else{if(n===e)throw new m(l);n!==p&&h(e,n)}if(y===g)f(b,n),d=0,e=n,n=a,l=v=e.value,r=l.length;else break}else if(void 0!==n.$type)break}while(1);d<r&&void 0!==n&&(r=d);d=-1;for(l=Array(r);++d<r;)l[d]=v[d];c[0]=n;c[1]=l;c[2]=e;return c}},function(b,d,a){var c=a(12),g=a(96),f=a(25),k=a(17);b.exports=function(a,b,p,e,d,u,t,q,
n,l,v,r){if(k===b&&!r)return g(a,p,d,u,n,l);p=a&&a.value;if(b&&void 0===p){if(v)return d.hasValue=!0,{$type:f}}else return d.hasValue=!0,l?c(a):p}},function(b,d,a){b.exports=function(a,b){var c=b["\u001e\u0192alcor_prev"],g=b["\u001e\u0192alcor_next"];g&&(g["\u001e\u0192alcor_prev"]=c);c&&(c["\u001e\u0192alcor_next"]=g);b["\u001e\u0192alcor_prev"]=b["\u001e\u0192alcor_next"]=void 0;b===a["\u001e\u0192alcor_head"]&&(a["\u001e\u0192alcor_head"]=g);b===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=
c)}},function(b,d){b.exports={GetRequest:"GET"}},function(b,d){d=function(a){this.disposed=!1;this.currentDisposable=a};d.prototype={unsubscribe:function(){return this.dispose()},dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var a=this.currentDisposable;this.currentDisposable=null;a.dispose?a.dispose():a.unsubscribe?a.unsubscribe():"function"===typeof a&&a()}}};b.exports=d},function(b,d,a){d=a(28);var c=a(114),g=a(20),f=a(6),k=a(2),h=a(4).collapse,m=d.getWithPathsAsPathMap,
p=d.getWithPathsAsJSONGraph;b.exports=function(a,b,d,t,q,n,l,v,r,A){var e,y=t&&!q&&n;y&&(e=n[0],n[0]={});b=q?p(a,b,n):m(a,b,n,!v);if(b.criticalError)d.onError(b.criticalError),A=0>=a._root.syncRefCount,b=null;else{var u=b.hasValue,C=b.values[0],z=b.requestedMissingPaths,x=!!(C&&C.json||C.jsonGraph),G=!a._source||!z||!z.length;if(b.errors){var E=b.errors,F=l.length;n=0;for(v=E.length;n<v;++n,++F)l[F]=E[n]}y&&e&&(C=c(C,e));if(u&&t||x&&G)try{if(q&&C){var H=C.paths;H&&0<H.length&&(C.paths=h(H))}++a._root.syncRefCount;
d.onNext(C)}catch(L){throw L;}finally{--a._root.syncRefCount}if(G){if(l.length)d.onError(l);else d.onCompleted();b=null;A=0>=a._root.syncRefCount}}if(b){var J;if(q||!(J=a._path).length)b.boundRequestedMissingPaths=z;else{r=[];n=0;for(v=z.length;n<v;++n)r[n]=J.concat(z[n]);b.boundRequestedMissingPaths=r}}else z=a._root,d=z.cache,J=d["\u001e\u0192alcor_version"],A&&g(z,z.expired,f(d),a._maxSize,a._collectRatio,J),a=z.onChangesCompleted,0>=z.syncRefCount&&r!==J&&k(a)&&a.call(z.topLevelModel);return b}},
function(b,d){b.exports={path:!0,pathSyntax:!0,flatBuffer:!0}},function(b,d,a){d=a(5);var c=Array.isArray,g=a(23),f=a(36),k=a(22),h=a(117),m=b.exports=function(a,b,h,m,d){this._model=a;this._isJSONGraph=h||!1;this._isProgressive=m||!1;this._initialArgs=b;this._value=[{}];h=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof d?d:"number"===typeof h?h:a._root.version;a=[];var e,p;d=-1;for(h=b.length;++d<h;){m=b[d];var l;c(m)?l="PathValues":g(m)?l="PathValues":f(m)?
l="JSONGs":k(m)&&(l="PathMaps");p!==l&&(p=l,e={inputType:l,arguments:[]},a.push(e));e.arguments.push(m)}this._groups=a};m.prototype=Object.create(d.prototype);m.prototype._subscribe=function(a){return h(this._model,a,this._groups,this._isJSONGraph,this._isProgressive,0,this.initialCacheVersion)};m.prototype._toJSONG=function(){return new m(this._model,this._initialArgs,!0,this._isProgressive,this.initialCacheVersion)};m.prototype.progressively=function(){return new m(this._model,this._initialArgs,
this._isJSONGraph,!0,this.initialCacheVersion)}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){b.exports=function(a,b,f,k,h){a["\u001e\u0192alcor_key"]=f;a["\u001e\u0192alcor_parent"]=b;void 0!==k&&(a["\u001e\u0192alcor_version"]=k);a["\u001e\u0192alcor_abs_path"]||(a["\u001e\u0192alcor_abs_path"]=h.slice(0,h.index).concat(f));return b[f]=a}},function(b,d,a){var c=a(0),g=a(17),f=a(125),k=a(6),h=a(61),m=a(3),p=a(8),e=a(2),y=a(67),u=a(7),t=a(62),
q=a(65),n=a(16),l=a(64);b.exports=function(a,b,d,w,D,B,C,z,x,G,E,F,H){var r=f(b,B);if(D||B){if(r&&m(b)&&(r="expired",u(b,G,E)),r&&r!==c||p(b))b=q(b,{},a,d,E,x),b=t(b,a,d,x,z)}else D=f(w),B=!1===h(w)<h(b),(r||D)&&e(F)&&(B=!F(b,w,z.slice(0,z.index))),B&&(D===g&&e(H)&&(w=H(l(C,d),w)),w=y(w,D,D?w.value:w),C=k(b)-k(w),b=q(b,w,a,d,E,x),a=n(a,C,E,x),b=t(b,a,d,x,z));return b}},function(b,d){b.exports=function(a,c){a=a.slice(0,a.depth);a[a.length]=c;return a}},function(b,d,a){var c=a(1),g=a(129),f=a(39),k=
a(66);b.exports=function(a,b,p,e,d,u){if(a===b)return a;c(a)&&(g(a,b),f(a,p,e,d),k(b,u));return p[e]=b}},function(b,d,a){b.exports=function(a,b){var c=[a],g=0;do{var h=c[g];if(h&&h["\u001e\u0192alcor_version"]!==b){h["\u001e\u0192alcor_version"]=b;c[g++]=h["\u001e\u0192alcor_parent"];for(var m=-1,p=h["\u001e\u0192alcor_refs_length"]||0;++m<p;)c[g++]=h["\u001e\u0192alcor_ref"+m]}}while(-1<--g);return a}},function(b,d,a){var c=a(37),g=a(42),f=a(123),k=Array.isArray,h=a(6),m=a(124),p=a(25);b.exports=
function(a,b,d){var e=0;if(b){var y=a["\u001e\u0192alcor_wrapped_value"];a=f(a);e=h(a);a.$type=b;a["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_next"]=void 0;a["\u001e\u0192alcor_wrapped_value"]=y||!1}else a={$type:p,value:d,"\u001e\u0192alcor_prev":void 0,"\u001e\u0192alcor_next":void 0,"\u001e\u0192alcor_wrapped_value":!0};if(null==d)e=51;else if(null==e||0>=e)switch(typeof d){case "object":e=k(d)?50+d.length:51;break;case "string":e=50+d.length;break;default:e=51}b=m(a);"number"===typeof b&&
b<g&&(a.$expires=c()+-1*b);a.$size=e;return a}},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d,a){function c(a){return new g(a)}var g=a(83);d=a(29);c.Model=g;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){var c=a(49),g=a(47),f=a(48);b.exports=function(a){return c(f(g(a)))}},function(b,d,a){function c(a){if(void 0!==a){for(var b="",f=a.$keys,m=-1,p=f.length;++m<
p;){var e=f[m];if(null===e)b=""+g(""+b+"null");else{"object"===typeof e&&(e="{from:"+e.from+",length:"+e.length+"}");var d=c(a[m]),b=void 0===d?""+g(""+b+e):""+g(""+b+e+d.$code)}}a.$code=b;return a}}var g=a(43);b.exports=c},function(b,d){b.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},function(b,d){function a(b,g,f){f=f||[];g=g||[];for(var c=[],h=b.$keys,d=h.length,
p=-1;++p<d;){var e=b[p],y=h[p];e?a(e,g,f.concat([y])):c.push(y)}1===c.length?g.push(f.concat(c)):1<c.length&&g.push(f.concat([c]));return g}b.exports=a},function(b,d,a){var c=a(45),g=a(46).$ref,f=a(72);b.exports=function(a,b,d){for(var k=a,e=-1,h=b.length,m,t=0;++e<h;){m=b[e];m=(k=k[m])&&k.$type;if(!k||m&&m!==g)break;if(m&&m===g&&e+1<h)throw a=Error(f.innerReferences),a.throwToNext=!0,a;if(e+1===h&&(m===g&&(e=-1,b=k.value,h=b.length,k=a,t++),t>d))throw Error(f.circularReference);}return[k,c(b)]}},
function(b,d,a){b.exports={toTree:a(50),toPaths:a(49),collapse:a(70),pathCount:a(77),getHashCode:a(43),toFlatBuffer:a(82),toCollapseMap:a(47),iterateKeySet:a(44),toCollapseTrees:a(48),hasIntersection:a(26),optimizePathSets:a(76),flatBufferToPaths:a(73),removeIntersection:a(80),computeFlatBufferHash:a(71),pathsComplementFromTree:a(79),pathsComplementFromLengthTree:a(78)}},function(b,d,a){function c(a,b,d,u,t,q,n){if(void 0===a)t[t.length]=k(q,d,u);else if(!(null===a||a.$type&&a.$type!==h||"object"!==
typeof a||a.$type===h&&u===d.length)){var e=d[u];u+=1;var p=!1,r=e;"object"===typeof e&&(p={},r=g(e,p));var y,w;do{y=a[r];var D=q.length;null!==r&&(q[D]=r);y&&y.$type===h&&u<d.length?(w=m(b,y.value,n),y=w[0],w=f(w[1])):w=q;c(y,b,d,u,t,w,n);q.length=D;p&&!p.done&&(r=g(e,p))}while(p&&!p.done)}}var g=a(44),f=a(45),k=a(81),h=a(46).$ref,m=a(74);b.exports=function(a,b,f){var e=[];b.forEach(function(b){c(a,a,b,0,e,[],f)});return e}},function(b,d){function a(a){if(null==a)return 1;if(Array.isArray(a))throw Error("Unexpected Array found in keySet: "+
JSON.stringify(a));if("object"===typeof a){var b=a.to,c=a.length;if(null!=b){if(isNaN(b)||parseInt(b,10)!==b)throw Error("Invalid range, 'to' is not an integer: "+JSON.stringify(a));c=a.from||0;if(isNaN(c)||parseInt(c,10)!==c)throw Error("Invalid range, 'from' is not an integer: "+JSON.stringify(a));a=c<=b?b-c+1:0}else if(null!=c){if(isNaN(c)||parseInt(c,10)!==c)throw Error("Invalid range, 'length' is not an integer: "+JSON.stringify(a));a=c}else throw Error("Invalid range, expected 'to' or 'length': "+
JSON.stringify(a));return a}return 1}b.exports=function(b){if(0===b.length)throw Error("All paths must have length larger than zero.");for(var c=1,f=0;f<b.length;f++){var k=b[f];if(Array.isArray(k)){for(var d=0,m=0;m<k.length;m++)d+=a(k[m]);c*=d}else c*=a(k)}return c}},function(b,d,a){var c=a(26);b.exports=function(a,b){for(var f=[],g=-1,d=0,p=a.length;d<p;++d){var e=a[d];c(b[e.length],e,0,e.length)||(f[++g]=e)}return f}},function(b,d,a){var c=a(26);b.exports=function(a,b){for(var f=[],g=-1,d=0,p=
a.length;d<p;++d)c(b,a[d],0,a[d].length)||(f[++g]=a[d]);return f}},function(b,d,a){function c(a,b,d,p){if(d===p||null===a||void 0===a)return!0;var e,k=-1,h=0,m,q=d+1,n,l,v;e=b[d];if(null===e)return a===f;a:do{if("object"!==typeof e)d=e,l=void 0,n=!1;else if(g(e)){if(void 0!==v)break a;k=0;v=e;h=e.length;if(0===h)break a;e=v[k];continue a}else{l=e.to;d=e.from||0;"number"!==typeof l&&(l=d+(e.length||0)-1);if(0>l-d)break a;n=!0}do if(m=a[d],c(m,b,q,p)){e=void 0;if(m&&"object"===typeof m)for(e in m)break;
void 0===e&&delete a[d]}while(n&&++d<=l);if(++k===h)break a;e=v[k]}while(1);return!0}var g=Array.isArray,f=a(18);b.exports=c},function(b,d){b.exports=function(a,b,g){var c=[],d,h;d=0;for(h=a.length;d<h;++d)c[d]=a[d];a=g||0;for(h=b.length;a<h;++a,++d)c[d]=b[a];return c}},function(b,d){function a(b,d,h,m){if(h!==m){b=b||{};var f=b.$keys||(b.$keys=[]),e=b.$keysMap||(b.$keysMap={}),k,u=-1,t=0,q,n=h+1,l;k=d[h];if(null===k)return g;a:do{if("object"!==typeof k)q=k,"undefined"===typeof(h=e[q])&&(h=f.length),
f[h]=q,e[q]=h,k=a(b[h],d,n,m),void 0!==k&&(b[h]=k);else if(c(k)){if(void 0!==l)break a;u=0;l=k;t=k.length;if(0===t)break a;k=l[u];continue a}else{h=k.to;q=k.from||0;"number"!==typeof h&&(h=q+(k.length||0)-1);if(0>h-q)break a;k={from:q,length:h-q+1};q="{from:"+q+",length:"+(h-q+1)+"}";"undefined"===typeof(h=e[q])&&(h=f.length);f[h]=k;e[q]=h;k=a(b[h],d,n,m);void 0!==k&&(b[h]=k)}if(++u===t)break a;k=l[u]}while(1);return b}}var c=Array.isArray,g={$keys:[null],$keysMap:{"null":0}};b.exports=function(b){return b.reduce(function(b,
c){return a(b,c,0,c.length)},{})}},function(b,d,a){function c(a){a=a||{};this._root=a._root||new g(a,this);this._path=a.path||a._path||[];this._node=a._node||this._root.cache;this._source=a.source||a._source;this._recycleJSON=a.recycleJSON||a._recycleJSON;this._request=a.request||a._request||new k(this,a.scheduler||new y);this._maxSize="number"===typeof a.maxSize?a.maxSize:a._maxSize||c.prototype._maxSize;a._seed&&(this._seed=a._seed,this._recycleJSON=!0);this._collectRatio="number"===typeof a.collectRatio?
a.collectRatio:a._collectRatio||c.prototype._collectRatio;if(a.boxed||a.hasOwnProperty("_boxed"))this._boxed=a.boxed||a._boxed;if(a.materialized||a.hasOwnProperty("_materialized"))this._materialized=a.materialized||a._materialized;"boolean"===typeof a.treatErrorsAsValues?this._treatErrorsAsValues=a.treatErrorsAsValues:a.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=a._treatErrorsAsValues:this._recycleJSON&&(this._treatErrorsAsValues=!0);this._allowFromWhenceYouCame=a.allowFromWhenceYouCame||
a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var g=a(85),f=a(84),k=a(106),h=a(5),m=a(110),p=a(111),e=a(120),y=a(119),u=a(20),t=a(6),q=a(1),n=a(2),l=a(8),v=a(22),r=a(13),A=a(36),w=a(34),D=a(21),B=a(40),C=function(){},z=a(92),x=a(28),G=a(59);b.exports=c;c.prototype.constructor=c;c.prototype._materialized=!1;c.prototype._boxed=!1;c.prototype._progressive=!1;c.prototype._treatErrorsAsValues=!1;c.prototype._maxSize=Math.pow(2,53)-1;c.prototype._collectRatio=.75;c.prototype.get=a(113);
c.prototype.set=a(115);c.prototype.preload=function(){var a=B(arguments,G,"preload");if(!0!==a)return new h(function(b){b.onError(a)});var b=Array.prototype.slice.call(arguments),c=this;return new h(function(a){return c.get.apply(c,b).subscribe(function(){},function(b){a.onError(b)},function(){a.onCompleted()})})};c.prototype.call=function(){var a,b=-1,c=arguments.length;for(a=Array(c);++b<c;){var e=arguments[b];a[b]=e;var f=typeof e;if(1<b&&!Array.isArray(e)||0===b&&!Array.isArray(e)&&"string"!==
f||1===b&&!Array.isArray(e)&&!l(e))return new h(function(a){a.onError(Error("Invalid argument"))})}return new m(this,a[0],a[1],a[2],a[3])};c.prototype.invalidate=function(){var a,b=-1,c=arguments.length;for(a=[];++b<c;)a[b]=arguments[b];(new p(this,a)).subscribe(C,function(a){throw a;})};c.prototype.deref=a(88);c.prototype._hasValidParentReference=a(87);c.prototype.getValue=a(93);c.prototype.setValue=a(121);c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,e=this._path;
this._path=[];this._root.cache={};"undefined"!==typeof b&&u(c,c.expired,t(b),0);var f;A(a)?f=D(this,[a])[0]:v(a)?f=w(this,[a])[0]:q(a)&&(f=w(this,[{json:a}])[0]);f&&x.getWithPathsAsPathMap(this,f,[],!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];if(0===b.length)return z(this._root.cache);var c=[{}],e=this._path;x.getWithPathsAsJSONGraph(this,b,c);this._path=e;return c[0].jsonGraph};
c.prototype.getVersion=function(a){a=void 0===a?[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._syncCheck=function(a){if(this._source&&0>=this._root.syncRefCount&&!1===this._root.unsafeMode)throw Error("Model#"+a+" may only be called within the context of a request selector.");return!0};c.prototype._clone=function(a){var b=new c(this);if(a)for(var e in a){var f=
a[e];"delete"===f?delete b[e]:"_path"===e?(b[e]=f,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=f}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new e(Math.round(Math.abs(a))):a?n(a.schedule)?b=a:n(a)&&(b={scheudle:a}):b=new e(1);a=this._clone();a._request=new k(a,b);return a};c.prototype.unbatch=function(){var a=this._clone();a._request=new k(a,new y);return a};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};
c.prototype.asDataSource=function(){return new f(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this._path}};
c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=r(this._root.cache,a);return(a&&a["\u001e\u0192alcor_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(94);c.prototype._getPathValuesAsPathMap=x.getWithPathsAsPathMap;c.prototype._getPathValuesAsJSONG=x.getWithPathsAsJSONGraph;c.prototype._setPathValues=a(35);c.prototype._setPathMaps=a(34);c.prototype._setJSONGs=
a(21);c.prototype._setCache=a(34);c.prototype._invalidatePathValues=a(104);c.prototype._invalidatePathMaps=a(103)},function(b,d){function a(a){this._model=a._materialize().boxValues().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,f,d){a=[a,b,f].concat(d);return this._model.call.apply(this._model,a)._toJSONG()};b.exports=a},function(b,d,a){function c(a,
b){a=a||{};this.syncRefCount=this.version=0;this.expired=a.expired||[];this.unsafeMode=a.unsafeMode||!1;this.cache={};this.topLevelModel=b;f(a.comparator)&&(this.comparator=a.comparator);f(a.branchSelector)&&(this.branchSelector=a.branchSelector);f(a.errorSelector)&&(this.errorSelector=a.errorSelector);f(a.branchSelector)&&(this.branchSelector=a.branchSelector);f(a.onChange)&&(this.onChange=a.onChange);f(a.onChangesCompleted)&&(this.onChangesCompleted=a.onChangesCompleted)}var g=a(15),f=a(2);c.prototype.errorSelector=
function(a,b){return b};c.prototype.comparator=function(a,b){return g(a,"value")&&g(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=c},function(b,d,a){(function(a){function c(a){a.Symbol||(a.Symbol=function(a){return"@@Symbol("+a+"):"+m++ +"}"});return a.Symbol}function f(a){return"@@"+a}var d={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},h=d[typeof self]&&self||d[typeof window]&&window;a=d[typeof a]&&a;!a||a.global!==a&&a.window!==
a||(h=a);var m=0;b.exports=function(a){a=c(a);a.observable||(a.observable="function"===typeof a.for?a.for("observable"):"@@observable");a.for||(a["for"]=f);return a}(h)}).call(d,a(68))},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192alcor_parent"]||a&&a["\u001e\u0192alcor_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(0),g=a(13),f=a(90);b.exports=function(a){if(!a||"object"!==typeof a)throw new f;
var b,d,k,e;k=a&&a["\u001e\u0192alcor_metadata"];if(!k||"object"!==typeof k)return this._clone({_node:void 0});var y=this._recycleJSON,u=k.abs_path;if(!u)return this._clone({_node:void 0,_seed:y&&{json:a}||void 0});if(0===u.length)return this._clone({_path:u,_node:this._root.cache,_referenceContainer:!0,_seed:y&&{json:a}||void 0});var t=k.deref_to;d=k.deref_from;var q=this._root.cache,n=g(q,u),l="e";if(d){l=!1;k=-1;e=d.length;for(b=q;++k<e&&(b=b[d[k]],b&&!b.$type););if(t&&b&&b.$type===c){k=0;e=t.length;
d=b.value;for(l=!0;l&&k<e;++k)d[k]!==t[k]&&(l=!1);!1===l&&(n=void 0)}}l?"e"===l&&(b=!0):b=!1;return this._clone({_node:n,_path:u,_referenceContainer:b,_seed:y&&{json:a}||void 0})}},function(b,d){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";
a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";b.exports=a},function(b,d){function a(){var a=Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";
b.exports=a},function(b,d){function a(a,b){var c=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");c.name="InvalidModelError";this.stack=c.stack;this.message=c.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,d,a){function c(a,
b,d){"object"===typeof a&&Object.keys(a).filter(function(b){return!g(b)&&void 0!==a[b]}).forEach(function(f){var d=a[f],e=b[f];e||(e=b[f]={});if(d.$type){e=!d["\u001e\u0192alcor_wrapped_value"];if(d.value&&"object"===typeof d.value||e){var e={},k=Object.keys(d),h,m,q;m=0;for(q=k.length;m<q;m++)h=k[m],g(h)||(e[h]=d[h]);d=e}else d=d.value;b[f]=d}else c(d,e,f)})}var g=a(127);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(33),g=a(5);b.exports=function(a){for(var b=0,f=a.length;++b<
f;)if("object"===typeof a[b])return new g(function(a){a.onError(Error("Paths must be simple paths"))});var d=this;return new g(function(b){return(new c(d,[a],!1,!1,!1,void 0,!1)).subscribe(function(c){c=c.json;for(var e=-1,f=a.length;c&&++e<f;)c=c[a[e]];b.onNext(c)},function(a){b.onError(a)},function(){b.onCompleted()})})}},function(b,d,a){var c=a(19);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192alcor_version"];return null==a?-1:a}},function(b,d,a){var c=Array.isArray,g=a(98),f=a(97),k=a(19),
h=a(91),m=a(4).toFlatBuffer,p=a(4).computeFlatBufferHash;b.exports=function(a,b,d,t){var e,n,l=a._path,v=a._root,r=v.cache,u,w,y=l.length;if(y){if((e=k(a))&&e.$type)return{criticalError:new h(l,l)};w=[];for(n=0;n<y;++n)w[n]=l[n];n=a._referenceContainer}else e=r,w=[];u=[];var B=a._boxed,C=v.expired,z=a._materialized,x=!!a._source,G=v.branchSelector,E=a._treatErrorsAsValues,F=a._allowFromWhenceYouCame,H=(l=d[0])&&l.json;d={values:d};if(a._recycleJSON&&!0!==t)c(t=b)&&(t=p(m(b))),b=f(r,e,H,t,0,l,d,u,
w,y,!1,n,v,C,G,B,z,x,E,F),H=b[0],b[0]=void 0,b[1]=void 0;else for(var J=-1,L=b.length;++J<L;)t=b[J],a=t.length,H=g(r,e,H,t,0,l,d,u,a,w,y,!1,n,v,C,G,B,z,x,E,F);d.hasValue&&(l.json=H);return d}},function(b,d,a){var c=a(12);b.exports=function(a,b,d,h,m,p){var e=-1;b+=!!m;m=Array(b);for(a=p?c(a):a.value;++e<b;)m[e]=h[e];(d.errors||(d.errors=[])).push({path:m,value:a})}},function(b,d,a){function c(a,b,e,d,n,D,B,C,z,x,G,E,F,H,J,L,R,S,W,V){var l,r;if(void 0===b||void 0!==(l=b.$type)||void 0===d)return f[1]=
!1,f[0]=p(b,l,d,n,D,B,C,n,z,x,G,F,H,L,R,S,W,k,g),f;var v,w,A="",M,I,Q,X=d.$keys,da=n+1,T,U,ea,aa,Y,ja=x+1,ga,ha;V&&E&&(ha=E.value,ga=E["\u001e\u0192alcor_abs_path"]);if(e&&(v=e["\u001e\u0192alcor_metadata"])){if(!(J||e instanceof m))delete e["\u001e\u0192alcor_metadata"],e.__proto__=new m(v);else if(v.version===b["\u001e\u0192alcor_version"]&&v.$code===d.$code&&v.abs_path===b["\u001e\u0192alcor_abs_path"])return B.hasValue=!0,f[0]=e,f[1]=!1,f;w=v.keys;v.version=b["\u001e\u0192alcor_version"];v.abs_path=
b["\u001e\u0192alcor_abs_path"];v.deref_to=ha;v.deref_from=ga}l={};var ia=-1,ka=X.length,ba,fa,ca=!1;a:for(;++ia<ka;)if(G=X[ia],ba=d[ia],null===G){if(void 0!==ba)throw new t;A=""+q(""+A+"null")}else{if("object"!==typeof G)I=G,T=void 0,Q=!1,fa=I;else{T=G.to;I=G.from||0;"number"!==typeof T&&(T=I+(G.length||0)-1);if(0>T-I)break a;Q=!0;fa="{from:"+I+",length:"+(T-I+1)+"}"}do if(G=!1,U=e&&e[I],Y=z,aa=ja,ea=E,M=b[I],C[n]=I,z[x]=I,M&&void 0!==ba&&M.$type===h&&!y(M)&&(r=u(a,M,F),M=r[0],G=!0,Y=r[1],ea=r[2],
aa=Y.length,r[0]=r[1]=r[2]=void 0),f=c(a,M,U,ba,da,D,B,C,Y,aa,G,ea,F,H,J,L,R,S,W,V),U=f[0],ca=ca||f[1],void 0!==U){void 0===v&&(v={},v.version=b["\u001e\u0192alcor_version"],v.abs_path=b["\u001e\u0192alcor_abs_path"],v.deref_to=ha,v.deref_from=ga);if(void 0===e||null===e)J?(e=J(v),e["\u001e\u0192alcor_metadata"]||(e["\u001e\u0192alcor_metadata"]=v)):e=Object.create(new m(v));l[I]=!0;w&&w.hasOwnProperty(I)&&(w[I]=!1);e[I]=U}else e&&e.hasOwnProperty(I)&&delete e[I],ca=!0;while(Q&&++I<=T);ca||(A=void 0===
ba?""+q(""+A+fa):""+q(""+A+fa+ba.$code))}ca&&(A="__incomplete__");if(v&&(v.$code=A,v.keys=l,w))for(I in w)w[I]&&delete e[I];f[0]=e;f[1]=ca;return f}function g(a,b,c,f,d,g,k){a=a?n(a):[[]];var l=f.slice(0,d);a.forEach(function(a){d=b+a.length;e(l.concat(a),b,c,f,d,g,k)})}var f=Array(2),k=a(54),h=a(0),m=a(29),p=a(32),e=a(31),y=a(3),u=a(53),t=a(10);a(27);var q=a(4).getHashCode,n=a(4).flatBufferToPaths;b.exports=c},function(b,d,a){function c(a,b,d,v,r,A,w,D,B,C,z,x,G,E,F,H,J,L,R,S,W){var l,q;if(void 0===
b||(l=b.$type)||r===B)return p(b,l,v,r,A,w,D,B,C,z,x,E,F,J,L,R,S,f,m);var n,N,P=r+1,O,M,I,Q,X=-1,da=0,T,U,ea=z+1,aa,Y;x=v[r];if(null===x){if(P<B)throw new u;return d}W&&G&&(Y=G.value,aa=G["\u001e\u0192alcor_abs_path"]);a:do{if("object"!==typeof x)l=x,O=void 0,N=!1;else if(g(x)){if(void 0!==M)throw new t(v,M);X=0;M=x;da=x.length;if(0===da)break a;x=M[X];continue a}else{O=x.to;l=x.from||0;"number"!==typeof O&&(O=l+(x.length||0)-1);if(0>O-l)break a;N=!0}do if(x=!1,I=d&&d[l],U=C,T=ea,Q=G,n=b[l],D[r]=
l,C[z]=l,n&&P<B&&n.$type===k&&!e(n)&&(q=y(a,n,E),n=q[0],x=!0,U=q[1],Q=q[2],T=U.length,q[0]=q[1]=q[2]=void 0),I=c(a,n,I,v,P,A,w,D,B,U,T,x,Q,E,F,H,J,L,R,S,W),void 0!==I){if(void 0===d||null===d)x={},x.version=b["\u001e\u0192alcor_version"],x.abs_path=b["\u001e\u0192alcor_abs_path"],x.deref_to=Y,x.deref_from=aa,H?(d=H(x),d["\u001e\u0192alcor_metadata"]||(d["\u001e\u0192alcor_metadata"]=x)):d=new h(x);d[l]=I}while(N&&++l<=O);if(++X===da)break a;x=M[X]}while(1);return d}var g=Array.isArray,f=a(54),k=a(0),
h=a(29),m=a(31),p=a(32),e=a(3),y=a(53),u=a(10),t=a(27);b.exports=c},function(b,d,a){var c=a(102),g=a(89);b.exports=function(a,b,d){var f,k,e=a._root,h,u,t=a._path.length;if(t)return{criticalError:new g};u=[];k=f=e.cache;h=[];var q=a._boxed,n=e.expired,l=a._materialized,v=!!a._source;a=a._treatErrorsAsValues;for(var r=d[0],A={values:d},w,D=-1,B=b.length;++D<B;)w=b[D],d=w.length,c(k,f,w,0,r,A,h,d,u,t,!1,e,n,q,l,v,a);return A}},function(b,d,a){var c=Array(2),g=a(12),f=a(0),k=a(30),h=a(14),m=a(3),p=a(11),
e=a(51);b.exports=function(a,b,d,q,n,l){h(d,b);var v,r;n=0;l=a;var t=b.value,w=t,u=t.length;do{if(0===n&&void 0!==(v=b["\u001e\u0192alcor_context"]))l=v,n=u;else if(r=t[n++],void 0===(l=l[r]))break;if(n===u){r=l.$type;if(void 0!==r&&m(l))break;else{if(l===b)throw new e(t);l!==v&&p(b,l)}if(r===f)h(d,l),k(g(l),t,u,q),n=0,b=l,l=a,t=w=b.value,u=t.length;else break}else if(void 0!==l.$type)break}while(1);n<u&&void 0!==l&&(u=n);n=-1;for(t=Array(u);++n<u;)t[n]=w[n];c[0]=l;c[1]=t;return c}},function(b,d,
a){var c=a(12),g=a(0),f=a(25),k=a(17),h=a(30);b.exports=function(a,b,e,d,u,t,q,n,l,v,r){var m=a&&a.value;if(b&&void 0===m)if(r)m={$type:f};else return;else if(v||g===b||k===b||!a["\u001e\u0192alcor_wrapped_value"]||"object"===typeof m)m=c(a);u&&t&&(u.hasValue=!0,h(m,q,n,d,v,r),(d.paths||(d.paths=[])).push(t.slice(0,e+!!l)));return m}},function(b,d,a){function c(a,b,d,r,A,w,D,B,C,z,x,G,E,F,H,J,L){var l,v;if(void 0===b||(l=b.$type)||r===B)return e(b,l,d,r,A,w,D,B,C,z,x,G,E,F,H,J,L,h,m);var n,V,Z=r+
1,K,N,P=-1,O=0,M,I,Q=z+1;x=d[r];if(null===x){if(Z<B)throw new t;}else{a:do{if("object"!==typeof x)l=x,K=void 0,V=!1;else if(g(x)){if(void 0!==N)throw new q(d,N);P=0;N=x;O=x.length;if(0===O)break a;x=N[P];continue a}else{K=x.to;l=x.from||0;"number"!==typeof K&&(K=l+(x.length||0)-1);if(0>K-l)break a;V=!0}do x=!1,I=C,M=Q,n=b[l],D[r]=l,C[z]=l,n&&Z<B&&n.$type===k&&!y(n)&&(p(f(n),C,M,A),v=u(a,n,G,A,F,H),n=v[0],x=!0,I=v[1],M=I.length,v[0]=v[1]=void 0),c(a,n,d,Z,A,w,D,B,I,M,x,G,E,F,H,J,L);while(V&&++l<=K);
if(++P===O)break a;x=N[P]}while(1)}}var g=Array.isArray,f=a(12),k=a(0),h=a(101),m=a(31),p=a(30),e=a(32),y=a(3),u=a(100),t=a(10),q=a(27);b.exports=c},function(b,d,a){function c(a,b,f,d,k,h,m,n,t,u){if(!q(a)&&!a.$type)for(var r in a)if("\u001e"!==r[0]&&"$"!==r[0]&&e(a,r)){var w=a[r],x=y(w)&&!w.$type,A=g(f,d,k,r,w,x,!1,h,m,n,t,u),z=A[0],A=A[1];z&&(x?c(w,b+1,f,A,z,h,m,n,t,u):v(z,A,r,n)&&l(A,p(z),n,h))}}function g(a,b,c,e,d,l,h,v,p,t,y,H){for(h=c.$type;h===k;){a:{b=d;h=a;var r=v,w=p,x=t,A=y,z=H;if(u(c))n(c,
w,x),b=[void 0,h];else{m(x,c);var D=c,B=c.value,F;c=c["\u001e\u0192alcor_context"];if(null!=c)F=c["\u001e\u0192alcor_parent"]||h;else{var C=0,E=B.length-1;F=c=h;do{F=g(h,F,c,B[C],b,C<E,!0,r,w,x,A,z);c=F[0];if(q(c)){b=F;break a}F=F[1]}while(C++<E);D["\u001e\u0192alcor_context"]!==c&&f(D,c)}b=[c,F]}}c=b[0];if(q(c))return b;b=b[1];h=c&&c.$type}if(void 0!==h)return[c,b];if(null==e){if(l)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[e];return[c,b]}var f=a(11),k=a(0),h=a(19),
m=a(14),p=a(6),e=a(15),y=a(1),u=a(3),t=a(2),q=a(8),n=a(7),l=a(16),v=a(39);b.exports=function(a,b){var e=a._root,f=e.expired,d=e.version++,g=e._comparator,l=e._errorSelector,k=e.cache,m=h(a),r=m["\u001e\u0192alcor_parent"]||k;a=k["\u001e\u0192alcor_version"];for(var v=-1,p=b.length;++v<p;)c(b[v].json,0,k,r,m,d,f,e,g,l);b=k["\u001e\u0192alcor_version"];e=e.onChange;t(e)&&a!==b&&e()}},function(b,d,a){function c(a,b,e,f,d,k,h,p){var l={},r=b<a.length-1,v=a[b],u=t(v,l);do{var y=g(e,f,d,u,r,!1,k,h,p),w=
y[0],y=y[1];w&&(r?c(a,b+1,e,y,w,k,h,p):n(w,y,u,p)&&q(y,m(w),p,k));u=t(v,l)}while(!l.done)}function g(a,b,c,e,d,k,m,n,q){for(k=c.$type;k===f;){a:{b=a;var l=m,r=n,v=q;if(p(c))u(c,r,v),b=[void 0,b];else{h(v,c);k=c;var t=c.value,w;c=c["\u001e\u0192alcor_context"];if(null!=c)w=c["\u001e\u0192alcor_parent"]||b;else{var A=0,z=t.length-1;w=c=b;do{w=g(b,w,c,t[A],A<z,!0,l,r,v);c=w[0];if(y(c)){b=w;break a}w=w[1]}while(A++<z);k["\u001e\u0192alcor_context"]!==c&&(b=c["\u001e\u0192alcor_refs_length"]||0,c["\u001e\u0192alcor_refs_length"]=
b+1,c["\u001e\u0192alcor_ref"+b]=k,k["\u001e\u0192alcor_context"]=c,k["\u001e\u0192alcor_ref_index"]=b)}b=[c,w]}}c=b[0];if(y(c))return b;b=b[1];k=c.$type}if(void 0!==k)return[c,b];if(null==e){if(d)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[e];return[c,b]}var f=a(0),k=a(19),h=a(14),m=a(6),p=a(3),e=a(2),y=a(8),u=a(7),t=a(4).iterateKeySet,q=a(16),n=a(39);b.exports=function(a,b){var f=a._root,d=f.expired,g=f.version++,l=f.cache,h=k(a),m=h["\u001e\u0192alcor_parent"]||
l;a=l["\u001e\u0192alcor_version"];for(var p=-1,v=b.length;++p<v;)c(b[p],0,l,m,h,g,d,f);b=l["\u001e\u0192alcor_version"];f=f.onChange;e(f)&&a!==b&&f()}},function(b,d,a){function c(a,b){var c=!1;return function(){c||a._disposed||(c=!0,a._callbacks[b]=null,a._optimizedPaths[b]=[],a._requestedPaths[b]=[],0===--a._count&&(a._disposable.dispose(),a.requestQueue.removeRequest(a)))}}function g(a){for(var b=[],c=-1,e=0,f=a.length;e<f;++e)for(var d=a[e],g=0,k=d.length;g<k;++g)b[++c]=d[g];return b}function f(a){if(!a)return{dispose:u,
unsubscribe:u};a.unsubscribe?a.dispose||(a.dispose=a.unsubscribe):a.unsubscribe=a.dispose;return a}var k=a(107),h=a(108),m=0,p=a(56).GetRequest,e=a(21),y=a(35),u=a(24),t=a(17),q=[],n=a(9);d=function(a,b){this.scheduled=this.sent=!1;this.requestQueue=b;this.id=++m;this.type=p;this._scheduler=a;this._pathMap={};this._optimizedPaths=[];this._requestedPaths=[];this._callbacks=[];this._count=0;this._collapsed=this._disposable=null;this._disposed=!1};d.prototype={batch:function(a,b,e){var d=this,g=d._optimizedPaths,
k=d._requestedPaths,m=d._callbacks,l=g.length;g[l]=b;k[l]=a;m[l]=e;++d._count;if(!d.scheduled){d.scheduled=!0;var p;a=d._scheduler.schedule(function(){d._disposable=p=f(h(d,g,function(a,b,c){var e,f,h;(d._disposed=!(!a&&!b))&&d.requestQueue.removeRequest(d);if(a instanceof n)for(e=0,h=m.length;e<h;++e)(f=m[e])&&f(a,!1,null);else if(d._count)for(b||d._merge(k,g,a,c),e=0,h=m.length;e<h;++e)(f=m[e])&&f(a,b,c)}))});d._disposable=f(p||a)}return c(d,l)},add:function(a,b,e){var f=k(a,b,this._pathMap),d;
f?(d=f[3],a=f[2]):(d=a,a=b);var g=!1,h=!1;a.length<b.length&&(g=!0,b=this._callbacks.length,this._callbacks[b]=e,this._requestedPaths[b]=f[0],this._optimizedPaths[b]=f[1],++this._count,h=c(this,b));return[g,d,a,h]},_merge:function(a,b,c,f){var d=this.requestQueue.model,k=d._path,h=d._root,m=h.comparator,h=h.errorSelector;d._path=q;c?(c instanceof Error?c={message:c.message}:c.$type||(c={$type:t,value:c}),b=g(a).map(function(a){return{path:a,value:c}}),y(d,b,h,m)):f&&(a=f.jsonGraph,(f=f.invalidated)&&
f.length&&(++d._root.syncRefCount,d.invalidate.apply(d,f),--d._root.syncRefCount),e(d,[{jsonGraph:a,paths:g(b)}],null,m));d._path=k}};b.exports=d},function(b,d,a){function c(a,b){this.model=a;this.scheduler=b;this.requests=this._requests=[]}var g=a(56),f=a(109),k=a(105),h=a(4).collapse;c.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,b){a.paths=h(a.paths);return f(a,this.model,b)},get:function(a,b,c){function e(a,b){p||(d-=Number(!(!a&&!b)),c(a,0===d))}var f=[],d=0,h=this._requests,
m,l=a,p=!1,r;a=0;for(m=h.length;a<m&&(r=h[a],r.type!==g.GetRequest||(r.sent?(r=r.add(l,b,e),r[0]&&(l=r[1],b=r[2],f[f.length]=r[3],++d)):(r.batch(l,b,e),b=[],l=[],++d),b.length));++a);b.length&&(r=new k(this.scheduler,this),h[h.length]=r,++d,h=r.batch(l,b,e),f[f.length]=h);return function(){if(!p&&0!==d){p=!0;for(var a=f.length,b=0;b<a;++b)f[b]()}}},removeRequest:function(a){for(var b=this._requests,c=b.length;0<=--c;)if(b[c].id===a.id){b.splice(c,1);break}}};b.exports=c},function(b,d,a){var c=a(4).hasIntersection;
b.exports=function(a,b,d){for(var f=[],g=[],k=[],e=[],y=0,u=-1,t=!1,q=0,n=b.length;q<n;++q){var l=b[q],v=l.length,r=d[v];r&&c(r,l,0,v)?(!t&&0<q&&(g=a.slice(0,q),f=b.slice(0,q)),k[y]=a[q],e[y++]=b[q],t=!0):t&&(f[++u]=l,g[u]=a[q])}return t?[k,e,f,g]:null}},function(b,d,a){d=a(4);var c=d.toTree,g=d.toPaths,f=a(9);b.exports=function(a,b,d){if(0===a._count)return a.requestQueue.removeRequest(a),null;a.sent=!0;a.scheduled=!1;for(var k=a._pathMap,e=0,h=Object.keys(b).length;e<h;++e)for(var m=b[e],t=0,q=
m.length;t<q;++t){var n=m[t],l=n.length;k[l]?(l=k[l],l[l.length]=n):k[l]=[n]}b=Object.keys(k);e=0;for(h=b.length;e<h;++e)m=b[e],k[m]=c(k[m]);var k=a._collasped=g(k),v;try{v=a.requestQueue.model._source.get(k)}catch(r){return d(new f,!1),null}return v.subscribe(function(a){d(null,!1,a)},function(a){d(a,!1,null)},function(){d(null,!0,null)})}},function(b,d,a){var c=a(21),g=a(35),f=a(9),k=[],h={dispose:function(){}};b.exports=function(a,b,e){var d=a.paths,m=b._root,p=m.errorSelector,q=m.comparator,n=
b._path,l,v;try{v=b._source.set(a)}catch(A){return e(new f),h}var r=v.subscribe(function(a){if(!r||!r.disposed){b._path=k;var e=a.invalidated;e&&e.length&&(++b._root.syncRefCount,b.invalidate.apply(b,e),--b._root.syncRefCount);e=c(b,[{paths:d,jsonGraph:a.jsonGraph}],p,q);a.paths=e[1];b._path=n;l=a}},function(a){r&&r.disposed||(b._path=k,g(b,d.map(function(b){return{path:b,value:a}}),p,q),b._path=n,e(a))},function(){e(null,l)});return r}},function(b,d,a){function c(a,b,c,d,e){this.callPath=b;this.args=
c;e&&(this.paths=e);d&&(this.suffix=d);this.model=a;b=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof b?b:a._root.version}var g=a(60);d=a(5);var f=a(9);c.prototype=Object.create(d.prototype);c.prototype._subscribe=function(a){var b=this.callPath,c=this.args,d=this.suffix,e=this.paths,k=this.model,u=k._clone({_path:[]}),b=k._path.concat(b),t=this.initialCacheVersion;if(k._source){var q,n;try{n=k._source.call(b,c,d,e)}catch(l){a.onError(new f(l));return}return n.subscribe(function(a){q=
a},function(b){a.onError(b)},function(){var b=q.invalidated;b&&b.length&&(++k._root.syncRefCount,u.invalidate.apply(u,b),--k._root.syncRefCount);return(new g(u.withoutDataSource(),[q],!1,!1,t)).subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}a.onError(Error("function does not exist"))};b.exports=c},function(b,d,a){function c(a,b,c){this._model=a;var e=[],d,h,m=-1,p=b.length,r=a._root.cache["\u001e\u0192alcor_version"];for(this.initialCacheVersion="number"===
typeof c?c:"number"===typeof r?r:a._root.version;++m<p;){a=b[m];if(g(a))c="PathValues";else if(f(a))c="PathValues";else if(k(a))c="PathMaps";else throw Error("Invalid Input");h!==c&&(h=c,d={inputType:c,arguments:[]},e.push(d));d.arguments.push(a)}this._groups=e}var g=Array.isArray;d=a(5);var f=a(23),k=a(22),h=a(24),m={dispose:h,unsubscribe:h},p=a(2);c.prototype=Object.create(d.prototype);c.prototype.progressively=function(){return this};c.prototype._toJSONG=function(){return this};c.prototype._subscribe=
function(a){var b=this._model;this._groups.forEach(function(a){(0,b["_invalidate"+a.inputType])(b,a.arguments)});a.onCompleted();a=b._root;var c=a.onChangesCompleted;this.initialCacheVersion!==a.cache["\u001e\u0192alcor_version"]&&0>=a.syncRefCount&&p(c)&&c.call(a.topLevelModel);return m};b.exports=c},function(b,d,a){var c=a(58),g=a(52);a(20);a(6);var f=a(57),k=a(9);a(2);b.exports=function m(a,b,d,u,t,q,n,l,v){var e=d.requestedMissingPaths,p=d.optimizedMissingPaths,y=d.boundRequestedMissingPaths;
if(10===q)throw new g(e,p,y);var D=b._request,B=new f,C=a.isProgressive,z=C||!v?e:l,e=D.get(y,p,function(e,f,g){if(e instanceof k)u.onError(e);else if(z)if(g=c(b,z,u,C,a.isJSONGraph,d.values,t,v,n,e||f)){var p=d.requestedMissingPaths;p&&p.length?(z=C||!v?p:l,!e&&f&&(B.currentDisposable=m(a,b,g,u,t,q+1,n,l,v))):z=null}else z=null});B.currentDisposable=e;return B}},function(b,d,a){var c=a(5),g=a(59),f=a(40),k=a(33);b.exports=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];var e=
f(b,g,"get");return!0!==e?new c(function(a){a.onError(e)}):new k(this,b)}},function(b,d,a){function c(a,b){for(var d,f,g,p=Object.keys(b),e=-1,y=p.length;++e<y;)g=p[e],"\u001e\u0192alcor_metadata"!==g&&(f=b[g],d=a[g],d!==f&&(void 0===d||"object"!==typeof f?a[g]=f:c(d,f)));a["\u001e\u0192alcor_metadata"]=b["\u001e\u0192alcor_metadata"];return a}b.exports=c},function(b,d,a){var c=a(118),g=a(40),f=a(60),k=a(5);b.exports=function(){var a=g(arguments,c,"set");if(!0!==a)return new k(function(b){b.onError(a)});
for(var b=-1,d=arguments.length,e=[];++b<d;)e[b]=arguments[b];return new f(this,e)}},function(b,d,a){function c(a){return a.path}function g(a){return a.paths}var f=a(122);b.exports=function(a,b){for(var d=a._root.errorSelector,k=-1,e=b.length,h=[],u=[],t={requestedPaths:h,optimizedPaths:u};++k<e;){var q=b[k],n=q.inputType,q=q.arguments;if(0<q.length){var l=(0,a["_set"+n])(a,q,d);u.push.apply(u,l[1]);"PathValues"===n?h.push.apply(h,q.map(c)):"JSONGs"===n?h.push.apply(h,f(q,g)):h.push.apply(h,l[0])}}return t}},
function(b,d,a){function c(a,b){var c=a._path,d={};a._path=f;a._getPathValuesAsJSONG(a._materialize().withoutDataSource(),b,[d]);a._path=c;return d}function g(a,b,c,d,e,f){return(new h(a,c,d,e,!0,f,!1)).subscribe(b)}var f=[],k=a(57),h=a(33),m=a(116),p=a(28).getWithPathsAsPathMap,e=a(9),y=a(52);b.exports=function t(a,b,d,f,h,A,w){if(10===A)throw new y;var l=m(a,d),n=l.optimizedPaths,r=l.requestedPaths;if(void 0===a._source)return g(a,b,r,f,h,w);if(h){l=p(a,r,[{}],!0);if(l.criticalError)return b.onError(l.criticalError),
null;b.onNext(l.values[0])}var l=c(a,n),v=new k,l=a._request.set(l,function(c,k){if(typeof c===e)b.onError(c);else{var l=!1;if(c||n.length<=k.paths.length)l=!0;l?v.currentDisposable=g(a,b,r,f,h,w):t(a,b,d,f,h,A+1,w)}});v.currentDisposable=l;return v}},function(b,d){b.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(b,d){function a(){}var c={dispose:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=
a;this.disposed=!1};a.prototype.schedule=function(a){a=setTimeout(a,this.delay);return new c(a)};c.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)};b.exports=a},function(b,d,a){var c=a(5),g=a(23);b.exports=function(a,b){var d=g(a)?a:{path:a,value:b};a=0;var f=d.path;for(b=f.length;++a<b;)if("object"===typeof f[a])return new c(function(a){a.onError(Error("Paths must be simple paths"))});var k=this;return new c(function(a){return k.set(d).subscribe(function(b){b=
b.json;for(var c=-1,d=f.length;b&&++c<d;)b=b[f[c]];a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}},function(b,d){b.exports=function(a,b){for(var c=-1,d=-1,k=a.length,h=[];++d<k;)for(var m=b(a[d],d,a),p=-1,e=m.length;++p<e;)h[++c]=m[p];return h}},function(b,d,a){var c=a(15),g=Array.isArray,f=a(1);b.exports=function(a){var b=a;if(f(b)){var b=g(a)?[]:{},d;for(d in a)"\u001e"!==d.charAt(0)&&c(a,d)&&(b[d]=a[d])}return b}},function(b,d,a){var c=a(1);b.exports=function(a){return c(a)&&
a.$expires||void 0}},function(b,d,a){var c=a(1);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=a(37),g=a(42),f=a(41);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&a!==g&&a<c()}},function(b,d,a){b.exports=function(a){return"$size"===a||"\u001e\u0192alcor_wrapped_value"===a||"\u001e"===a.charAt(0)}},function(b,d,a){var c=a(0),g=a(17),f=a(6),k=a(61),h=a(1),m=a(3),p=a(2),e=a(67),y=a(62),u=a(7),t=a(65),q=a(16),n=a(64);b.exports=function(a,b,d,
A,w,D,B,C,z,x,G){var l,r,v,J,L,R;if(b===d){if(null===d)return b=e(d,void 0,d),a=q(a,-b.$size,z,B),b=y(b,a,A,void 0,D);if(void 0===d)return d;if(v=h(b))if(l=b.$type,null==l)return null==b["\u001e\u0192alcor_parent"]&&y(b,a,A,B,D),b}else if(v=h(b))l=b.$type;if(l!==c){if(J=h(d))r=d.$type;if(v&&!l&&(null==d||J&&!r))return b}else{if(null==d){if(m(b)){u(b,C,z);return}return b}if(J=h(d))if(r=d.$type,r===c)if(b===d){if(null!=b["\u001e\u0192alcor_parent"])return b}else if(L=b.$timestamp,R=d.$timestamp,!m(b)&&
!m(d)&&R<L)return}if(l&&J&&!r)return y(t(b,d,a,A,z,B),a,A,void 0,D);r||!J?(r===g&&p(G)&&(d=G(n(w,A),d)),r&&b===d?null==b["\u001e\u0192alcor_parent"]&&(b=e(b,l,b.value),a=q(a,-b.$size,z,B),b=y(b,a,A,B,D)):(w=!0,(l&&!m(b)||!v)&&(w=!1===k(d)<k(b))&&(l||r)&&p(x)&&(w=!x(b,d,D.slice(0,D.index))),w&&(d=e(d,r,r?d.value:d),x=f(b)-f(d),b=t(b,d,a,A,z,B),a=q(a,x,z,B),b=y(b,a,A,B,D))),m(b)&&u(b,C,z)):null==b&&(b=y(d,a,A,void 0,D));return b}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192alcor_refs_length"]||
0,d=b["\u001e\u0192alcor_refs_length"]||0,g=-1;++g<c;){var m=a["\u001e\u0192alcor_ref"+g];void 0!==m&&(m["\u001e\u0192alcor_context"]=b,b["\u001e\u0192alcor_ref"+(d+g)]=m,a["\u001e\u0192alcor_ref"+g]=void 0)}b["\u001e\u0192alcor_refs_length"]=c+d;a["\u001e\u0192alcor_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001e\u0192alcor_refs_length"]||0;++b<c;){var d=a["\u001e\u0192alcor_ref"+b];null!=d&&(d["\u001e\u0192alcor_context"]=d["\u001e\u0192alcor_ref_index"]=
a["\u001e\u0192alcor_ref"+b]=void 0)}a["\u001e\u0192alcor_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192alcor_context"];if(b){for(var c=(a["\u001e\u0192alcor_ref_index"]||0)-1,d=(b["\u001e\u0192alcor_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192alcor_ref"+c]=b["\u001e\u0192alcor_ref"+(c+1)];b["\u001e\u0192alcor_refs_length"]=d;a["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_context"]=void 0}return a}},function(b,d){function a(a){this.esObserver=a}function c(a){this.subscription=
a}a.prototype={onNext:function(a){"function"===typeof this.esObserver.next&&this.esObserver.next(a)},onError:function(a){"function"===typeof this.esObserver.error&&this.esObserver.error(a)},onCompleted:function(){"function"===typeof this.esObserver.complete&&this.esObserver.complete()}};c.prototype.unsubscribe=function(){this.subscription.dispose()};b.exports=function(b){return{subscribe:function(d){return new c(b.subscribe(new a(d)))}}}},function(b,d,a){b.exports=a(69)}])});
//# sourceMappingURL=falcor.min.js.map
