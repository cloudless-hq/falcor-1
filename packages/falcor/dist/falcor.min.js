(function(b,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define("falcor",[],c):"object"===typeof exports?exports.falcor=c():b.falcor=c()})(this,function(){return function(b){function c(d){if(a[d])return a[d].exports;var g=a[d]={i:d,l:!1,exports:{}};b[d].call(g.exports,g,g.exports,c);g.l=!0;return g.exports}var a={};c.m=b;c.c=a;c.i=function(a){return a};c.d=function(a,g,f){Object.defineProperty(a,g,{configurable:!1,enumerable:!0,get:f})};
c.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(d,"a",d);return d};c.o=function(a,g){return Object.prototype.hasOwnProperty.call(a,g)};c.p="";return c(c.s=130)}([function(b,c){b.exports="ref"},function(b,c){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,c,a){var d=a(36),g=a(41),f=a(40);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&(a===g||a<d())}},function(b,c){b.exports=function(a){return!!a&&"function"===typeof a}},
function(b,c,a){b.exports=a(73)},function(b,c,a){(function(d){function g(a){this._subscribe=a}var f=a(23),e=a(83),n=a(129);g.prototype[e.observable]=function(){return n(this)};g.prototype._toJSONG=function(){return this};g.prototype.progressively=function(){return this};g.prototype.subscribe=g.prototype.forEach=function(a,d,g){var e=a;e&&"object"===typeof e?e.onNext||e.onError||e.onCompleted||(e={onNext:(e.next||f).bind(e),onError:(e.error||f).bind(e),onCompleted:(e.complete||f).bind(e)}):e={onNext:a||
f,onError:d||f,onCompleted:g||f};a=this._subscribe(e);switch(typeof a){case "function":return{dispose:a,unsubscribe:a};case "object":return a||{dispose:f,unsubscribe:f};default:return{dispose:f,unsubscribe:f}}};g.prototype.then=function(a,f){var g=this;g._promise||(g._promise=new d.Promise(function(a,d){var f=!1,e=[];g.subscribe(function(a){e[e.length]=a},function(a){f=!0;d(a)},function(){var d=e;1>=e.length&&(d=e[0]);!1===f&&a(d)})}));return g._promise.then(a,f)};b.exports=g}).call(c,a(66))},function(b,
c,a){var d=a(53);b.exports=function(a,f,e){a["\u001e\u0192alcor_invalidated"]||(a["\u001e\u0192alcor_invalidated"]=!0,f.push(a),d(e,a));return a}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$size||0}},function(b,c){b.exports=function(a){return null==a||"object"!==typeof a}},function(b,c){function a(a){var d=Error.call(this,"An exception was thrown when making a request.");d.name="InvalidSourceError";this.stack=d.stack;this.message=d.message;this.innerError=a;return this}a.prototype=
Object.create(Error.prototype);a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,c){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,c,a){var d=a(40);b.exports=
function(a,f){if(f.$expires!==d){var e=a["\u001e\u0192alcor_head"];if(!e)a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_tail"]=f;else if(e!==f){var g=f["\u001e\u0192alcor_prev"],m=f["\u001e\u0192alcor_next"];m&&(m["\u001e\u0192alcor_prev"]=g);g&&(g["\u001e\u0192alcor_next"]=m);f["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_head"]=f;f["\u001e\u0192alcor_next"]=e;e["\u001e\u0192alcor_prev"]=f;f===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=g)}}}},function(b,c,a){b.exports=function(a,
g){var d=g["\u001e\u0192alcor_refs_length"]||0;g["\u001e\u0192alcor_ref"+d]=a;g["\u001e\u0192alcor_refs_length"]=d+1;a["\u001e\u0192alcor_ref_index"]=d;a["\u001e\u0192alcor_context"]=g}},function(b,c,a){b.exports=function(a){for(var d,f=Object.keys(a),e={},n=-1,m=f.length;++n<m;)d=f[n],"\u001e"!==d.charAt(0)&&(e[d]=a[d]);return e}},function(b,c,a){var d=a(1),g=Object.prototype.hasOwnProperty;b.exports=function(a,e){return d(a)&&g.call(a,e)}},function(b,c,a){var d=a(37),g=a(64);b.exports=function(a,
e,n,m){var f=a;do{var h=f["\u001e\u0192alcor_parent"];0>=(f.$size=(f.$size||0)-e)&&null!=h?d(f,h,f["\u001e\u0192alcor_key"],n):f["\u001e\u0192alcor_version"]!==m&&g(f,m);f=h}while(f);return a}},function(b,c){b.exports="atom"},function(b,c){b.exports="error"},function(b,c,a){var d=a(19);b.exports=function(a,f){f=f||a._path;var e=a._node;if(!e||void 0===e["\u001e\u0192alcor_parent"]||e["\u001e\u0192alcor_invalidated"])a._node=null,0===f.length?e=a._root.cache:(e=d(a._root.cache,f),f===a._path&&(a._node=
e));return e}},function(b,c,a){function d(a,e){var f=a,m,k=0,h=e.length;if(0<h){do for(f=f[e[k]];f&&(m=f.$type)===g;)f=d(a,f.value);while(++k<h&&f&&!m)}return f}var g=a(0);b.exports=d},function(b,c,a){function d(a,f,e,n,h,m,k,b,v,u,r,C,c,G,H,I,L){var q={},l=f<a.length-1,y=a[f],w=p(y,q),B=C.index;do{r.depth=f;var t=g(e,n,h,m,k,b,w,l,!1,r,C,c,G,H,I,L);r[f]=w;r.index=f;var x=t[0],A=t[1],E=t[4];E[E.index++]=w;x&&(l?d(a,f+1,e,A,x,m,t[3],t[2],v,u,r,E,c,G,H,I,L):(v.push(r.slice(0,r.index+1)),u.push(E.slice(0,
E.index))));w=p(y,q);if(q.done)break;C.index=B}while(1)}function g(a,d,k,q,b,p,c,F,D,z,A,C,E,G,H,I){for(D=k.$type;D===e;){a:{d=a;b=q;A=z;var l=C,y=E,w=G,t=H,B=I,x,K,J=k.value;D=J.slice(0);if(m(k))v(k,y,w),k=void 0,x=d,K=b,D.index=J.length;else{var P=0,N=k,O=J.length-1;x=k=d;K=p=b;do{var M=J[P],Q=P<O;D.index=P;K=g(d,x,k,b,K,p,M,Q,!0,A,D,l,y,w,t,B);k=K[0];D=K[4];if(h(k)){D.index=P;A=K;break a}x=K[1];p=K[2];K=K[3]}while(P++<O);D.index=P;N["\u001e\u0192alcor_context"]!==k&&n(N,k)}f[0]=k;f[1]=x;f[2]=p;
f[3]=K;f[4]=D;A=f}k=A[0];if(h(k))return A;d=A[1];p=A[2];b=A[3];A=A[4];D=k.$type}if(void 0===D){if(null==c){if(F)throw new r;k&&(c=k["\u001e\u0192alcor_key"])}else d=k,b=p,k=d[c],p=b&&b[c];k=u(d,k,p,c,z,A,C,E,G,H,I)}f[0]=k;f[1]=d;f[2]=p;f[3]=b;f[4]=A;return f}var f=Array(5),e=a(0),n=a(12),m=a(123),k=a(3),h=a(8),v=a(6),p=a(4).iterateKeySet,u=a(125),r=a(10);b.exports=function(a,e,g,n){var h=a._root,q=h.expired,m=h.version++,b=h.cache;a=b["\u001e\u0192alcor_version"];for(var p=[],l=[],v=[],y=[],u=-1,
r=e.length;++u<r;)for(var t=e[u],c=t.paths,t=t.jsonGraph,L=-1,S=c.length;++L<S;){var R=c[L];l.index=0;d(R,0,b,b,b,t,t,t,v,y,p,l,m,q,h,n,g)}f[0]=void 0;f[1]=void 0;f[2]=void 0;f[3]=void 0;f[4]=void 0;e=b["\u001e\u0192alcor_version"];g=h.onChange;k(g)&&a!==e&&g();return[v,y]}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&"json"in a}},function(b,c,a){var d=Array.isArray,g=a(1);b.exports=function(a){return g(a)&&(d(a.path)||"string"===typeof a.path)}},function(b,c){b.exports=function(){}},
function(b,c,a){function d(a,n,b,k){if(b===k)return!0;var e,m=-1,p=0,u=b+1,r,t,l;e=n[b];if(null===e)return a===f;a:do{if("object"!==typeof e)b=e,t=void 0,r=!1;else if(g(e)){if(void 0!==l)break a;m=0;l=e;p=e.length;if(0===p)break a;e=l[m];continue a}else{t=e.to;b=e.from||0;"number"!==typeof t&&(t=b+(e.length||0)-1);if(0>t-b)break a;r=!0}do if(u===k){if(null!==a[b])return!1}else if(e=a[b],null===e||void 0===e||!1===d(e,n,u,k))return!1;while(r&&++b<=t);if(++m===p)break a;e=l[m]}while(1);return!0}var g=
Array.isArray,f=a(25);b.exports=d},function(b,c){b.exports={$__null__$:null}},function(b,c){function a(a,g){a=Error.call(this,"The KeySet "+JSON.stringify(g)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");a.name="InvalidKeySetError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===a.name};b.exports=a},function(b,c,a){b.exports=
{getWithPathsAsPathMap:a(92),getWithPathsAsJSONGraph:a(96)}},function(b,c,a){function d(a){this["\u001e\u0192alcor_metadata"]=a||{}}function g(){var a,d,k,b,v,p;if(f(this))for(a=-1,d=this.length,p=Array(d);++a<d;)p[a]=this[a];else{p={};a=-1;k=this["\u001e\u0192alcor_metadata"];b=Object.keys(this);d=b.length;if(k){v=k.$code;var u=k.abs_path,r=k.deref_to,t=k.deref_from;p["\u001e\u0192alcor_metadata"]=k={};v&&(k.$code=v);u&&(k.abs_path=u);r&&(k.deref_to=r);t&&(k.deref_from=t)}for(;++a<d;)v=b[a],"\u001e\u0192alcor_metadata"!==
v&&(k=this[v],p[v]=!(!k||typeof k!==e)&&g.call(k)||k)}return p}d.prototype=Object.create(Object.prototype,Object.assign({toJSON:{value:g},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.$code||""}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192alcor_metadata"];return a&&a.version||0}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,
d){var f=Array.prototype[d];a[d]={writable:!0,enumerable:!1,value:function(){return f.apply(this,arguments)}};return a},{})));var f=Array.isArray,e="object";b.exports=d},function(b,c){b.exports=function(a,d,g,f){var e=0,b;b=f.jsonGraph;b||(b={},f.jsonGraph=b);do{f=d[e++];if(e>=g){b=b[f]=a;break}b=b[f]||(b[f]={})}while(1);return b}},function(b,c){var a=Array.isArray;b.exports=function(d,g,f,e,b,m,k){for(var n,v=-1,p=b-g,u=p&&Array(p)||void 0;++v<p;){n=d[v+g];var r;r=n;if("object"!==typeof r||null===
r)r=!1;else if(a(r))r=0===r.length;else{var t=r.to,l=r.from||0;"number"!==typeof t&&(t=l+(r.length||0));r=l>=t}if(r)return;u[v]=n}d=null===n;t=g;g=b;v=e;e=f.requestedMissingPaths||(f.requestedMissingPaths=[]);n=!0;do{if(p<b||!n){r=-1;l=t;for(t=Array(g);++r<l;)t[r]=v[r];for(v=-1;r<g;)t[r++]=u[++v];e.push(t)}else e.push(u);if(n=!n)break;t=k;g=k+p-Number(d);v=m;e=f.optimizedMissingPaths||(f.optimizedMissingPaths=[])}while(1)}},function(b,c,a){var d=a(37),g=a(15);b.exports=function(a,e,b,m,k,h){var f=
k;"number"!==typeof f&&(f=.75);k="number"===typeof h;var f=m*f,n,u,r;for(u=e.pop();u;)r=u.$size||0,b-=r,!0===k?g(u,r,a,h):(n=u["\u001e\u0192alcor_parent"])&&d(u,n,u["\u001e\u0192alcor_key"],a),u=e.pop();if(b>=m){for(u=e=a["\u001e\u0192alcor_tail"];b>=f&&u;)e=e["\u001e\u0192alcor_prev"],r=u.$size||0,b-=r,!0===k&&g(u,r,a,h),u=e;a["\u001e\u0192alcor_tail"]=a["\u001e\u0192alcor_prev"]=u;null==u?a["\u001e\u0192alcor_head"]=a["\u001e\u0192alcor_next"]=void 0:u["\u001e\u0192alcor_next"]=void 0}}},function(b,
c,a){c=a(5);var d=a(56),g=a(109),f=a(23),e={dispose:f,unsubscribe:f},n=a(31),m=a(7),k=a(3),h=b.exports=function(a,d,f,e,g,b,k){d&&d[0]&&Array.isArray(d[0].$keys)&&(d=d[0]);this.model=a;this.currentRemainingPaths=d;this.isJSONGraph=f||!1;this.isProgressive=e||!1;this.forceCollect=g||!1;this.recycleJSON=void 0!==k?k:a._recycleJSON;d=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof b?b:"number"===typeof d?d:a._root.version};h.prototype=Object.create(c.prototype);
h.prototype._toJSONG=function(){return new h(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};h.prototype.progressively=function(){return new h(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect,this.initialCacheVersion,this.recycleJSON)};h.prototype._subscribe=function(a){var f=[],b=this.model,h=this.recycleJSON,v=this.isProgressive,l=this.currentRemainingPaths,y=a.isJSONG=this.isJSONGraph,q=[y||v||
!h?{}:b._seed||(b._seed={})],v=d(b,l,a,v,y,q,f,h);return v?g(this,b,v,a,f,1,this.initialCacheVersion,l,h):(a=b._root,h=a.cache,f=h["\u001e\u0192alcor_version"],this.forceCollect&&n(a,a.expired,m(h),b._maxSize,b._collectRatio,f),b=a.onChangesCompleted,this.initialCacheVersion!==f&&0>=a.syncRefCount&&k(b)&&b.call(a.topLevelModel),e)}},function(b,c,a){function d(a,f,b,k,n,m,l,p,y,u,r,t,c,L){var q;if(v(a)&&!a.$type){q=[];var w=0;e(a)&&(q[w++]="length");for(var C in a)"\u001e"!==C[0]&&"$"!==C[0]&&h(a,
C)&&(q[w++]=C)}else q=void 0;if(q&&q.length){w=0;C=q.length;var B=y.index;do{var x=q[w],E=a[x],A=v(E)&&!E.$type;p.depth=f;var z=g(b,k,n,x,E,A,!1,p,y,u,r,t,c,L);p[f]=x;p.index=f;var G=z[0],D=z[1],z=z[2];z[z.index++]=x;G&&(A?d(E,f+1,b,D,G,m,l,p,z,u,r,t,c,L):(m.push(p.slice(0,p.index+1)),l.push(z.slice(0,z.index))));if(++w>=C)break;y.index=B}while(1)}}function g(a,d,e,b,k,h,v,u,C,c,G,H,I,L){for(var q=e.$type;q===n;){a:{d=k;C=a;var q=u,w,B=c,x=G,E=H,z=I,A=L,D,F=e.value;w=F.slice(0);if(p(e))t(e,x,E),e=
void 0,D=C,w.index=F.length;else{var O=e;e=e["\u001e\u0192alcor_context"];if(null!=e)D=e["\u001e\u0192alcor_parent"]||C,w.index=F.length;else{var M=0,Q=F.length-1;w.index=M;D=e=C;do{D=g(C,D,e,F[M],d,M<Q,!0,q,w,B,x,E,z,A);e=D[0];w=D[2];if(r(e)){w.index=M;C=D;break a}D=D[1]}while(M++<Q);w.index=M;O["\u001e\u0192alcor_context"]!==e&&m(O,e)}}f[0]=e;f[1]=D;f[2]=w;C=f}e=C[0];if(r(e))return C;d=C[1];C=C[2];q=e&&e.$type}if(void 0===q){if(null==b){if(h)throw new y;e&&(b=e["\u001e\u0192alcor_key"])}else d=
e,e=d[b];e=l(d,e,b,k,h,v,u,C,c,G,H,I,L)}f[0]=e;f[1]=d;f[2]=C;return f}var f=Array(3),e=Array.isArray,n=a(0),m=a(12),k=a(19),h=a(14),v=a(1),p=a(2),u=a(3),r=a(8),t=a(6),l=a(61),y=a(10);b.exports=function(a,e,b,g){var q=a._root,n=q.expired,h=q.version++,m=a._path,l=q.cache,p=k(l,m),y=p["\u001e\u0192alcor_parent"]||l;a=l["\u001e\u0192alcor_version"];for(var v=[],r=[],w=[],t=m.length,c=-1,B=e.length;++c<B;){var x=e[c],T=m.slice(0);T.index=t;d(x.json,0,l,y,p,r,w,v,T,h,n,q,g,b)}f[0]=void 0;f[1]=void 0;f[2]=
void 0;e=l["\u001e\u0192alcor_version"];q=q.onChange;u(q)&&a!==e&&q();return[r,w]}},function(b,c,a){function d(a,f,e,b,k,n,h,m,p,v,r,t,c,H,I){var q={},l=e<f.length-1,y=f[e],w=u(y,q),C=v.index;do{p.depth=e;p[e]=w;p.index=e;var B=g(b,k,n,w,a,l,!1,p,v,r,t,c,H,I);p[e]=w;p.index=e;var x=B[0],E=B[1],B=B[2];B[B.index++]=w;x&&(l?d(a,f,e+1,b,E,x,h,m,p,B,r,t,c,H,I):(h.push(p.slice(0,p.index+1)),m.push(B.slice(0,B.index))));w=u(y,q);if(q.done)break;v.index=C}while(1)}function g(a,d,b,h,m,u,c,D,z,A,C,E,G,H){for(var l=
b.$type;l===e;){a:{d=m;z=a;var l=D,q,y=A,w=C,B=E,x=G,F=H,K,J=b.value;q=J.slice(0);if(k(b))p(b,w,B),b=void 0,K=z,q.index=J.length;else{var P=b;b=b["\u001e\u0192alcor_context"];if(null!=b)K=b["\u001e\u0192alcor_parent"]||z,q.index=J.length;else{var N=0,O=J.length-1;K=b=z;do{var M=J[N],Q=N<O;q.index=N;K=g(z,K,b,M,d,Q,!0,l,q,y,w,B,x,F);b=K[0];q=K[2];if(v(b)){q.index=N;z=K;break a}K=K[1]}while(N++<O);q.index=N;P["\u001e\u0192alcor_context"]!==b&&n(P,b)}}f[0]=b;f[1]=K;f[2]=q;z=f}b=z[0];if(v(b))return z;
d=z[1];z=z[2];l=b.$type}if(!u||void 0===l){if(null==h){if(u)throw new t;b&&(h=b["\u001e\u0192alcor_key"])}else d=b,b=d[h];b=r(d,b,h,m,u,c,D,z,A,C,E,G,H)}f[0]=b;f[1]=d;f[2]=z;return f}var f=Array(3),e=a(0),n=a(12),m=a(19),k=a(2),h=a(3),v=a(8),p=a(6),u=a(4).iterateKeySet,r=a(61),t=a(10);b.exports=function(a,e,b,g){var k=a._root,n=k.expired,q=k.version++,p=a._path,l=k.cache,v=m(l,p),y=v["\u001e\u0192alcor_parent"]||l;a=l["\u001e\u0192alcor_version"];for(var u=[],r=[],w=[],t=p.length,c=-1,S=e.length;++c<
S;){var R=e[c],Y=R.path,R=R.value,V=p.slice(0);V.index=t;d(R,Y,0,l,y,v,r,w,u,V,q,n,k,g,b)}f[0]=void 0;f[1]=void 0;f[2]=void 0;e=l["\u001e\u0192alcor_version"];k=k.onChange;h(k)&&a!==e&&k();return[r,w]}},function(b,c,a){var d=Array.isArray,g=a(1);b.exports=function(a){return g(a)&&d(a.paths)&&(g(a.jsonGraph)||g(a.jsong)||g(a.json)||g(a.values)||g(a.value))}},function(b,c){b.exports=Date.now},function(b,c,a){var d=a(0),g=a(53),f=a(1),e=a(127),n=a(128);b.exports=function(a,b,h,v){if(f(a)){var k=a.$type;
k&&(k===d&&n(a),g(v,a));e(a);b[h]=a["\u001e\u0192alcor_parent"]=void 0;return!0}return!1}},function(b,c,a){var d=a(14),g=a(37);b.exports=function e(a,b,k,h){if(g(a,b,k,h)){if(null==a.$type)for(var n in a)"\u001e"!==n[0]&&"$"!==n[0]&&d(a,n)&&e(a[n],a,n,h);return!0}return!1}},function(b,c,a){var d=Array.isArray,g=a(22),f=a(35),e=a(21);b.exports=function(a,b,k){for(var n=0,m=a.length;n<m;++n){var p=a[n],u=!1;d(p)&&b.path?u=!0:d(p.$keys)&&b.flatBuffer?u=!0:g(p)&&b.pathValue?u=!0:f(p)&&b.jsonGraph?u=!0:
e(p)&&b.json?u=!0:"function"===typeof p&&n+1===m&&b.selector&&(u=!0);if(!u)return Error("Unrecognized argument "+typeof p+" ["+String(p)+"] to Model#"+k+"")}return!0}},function(b,c){b.exports=1},function(b,c){b.exports=0},function(b,c){b.exports=function(a){for(var d=5381,b=a.length;b;)d=33*d^a.charCodeAt(--b);return d>>>0}},function(b,c){function a(a,d){var e=d.from=a.from||0;a=d.to=a.to||"number"===typeof a.length&&d.from+a.length-1||0;d.rangeOffset=d.from;d.loaded=!0;e>a&&(d.empty=!0)}var d=Array.isArray;
b.exports=function(b,f){if(void 0===f.isArray){f.done=!1;var e=f.isObject=!(!b||"object"!==typeof b);f.isArray=e&&d(b);f.arrayOffset=0}if(f.isArray){var g;do{f.loaded&&f.rangeOffset>f.to&&(++f.arrayOffset,f.loaded=!1);if(f.arrayOffset>=b.length){f.done=!0;break}e=b[f.arrayOffset];"object"===typeof e?(f.loaded||a(e,f),f.empty||(g=f.rangeOffset++)):(++f.arrayOffset,g=e)}while(void 0===g);return g}if(f.isObject){f.loaded||a(b,f);if(f.rangeOffset>f.to){f.done=!0;return}return f.rangeOffset++}f.done=!0;
return b}},function(b,c){b.exports=function(a,d){var b=[],f=a.length;for(d=d||0;d<f;d++)b[d]=a[d];return b}},function(b,c){b.exports={$ref:"ref",$atom:"atom",$error:"error"}},function(b,c,a){function d(a,b,g){var k,h=e(String(b)),m=Object.create(null),q=[],p=-1,v=0,u=[],r=0,c,z,A,C,E,G;A=[];C=-1;if(b<g-1){for(E=f(a,A);++C<E;)k=A[C],c=d(a[k],b+1,g),z=c.code,m[z]?c=m[z]:(q[v++]=z,c=m[z]={keys:[],sets:c.sets}),h=e(h+k+z),n(k)&&c.keys.push(parseInt(k,10))||c.keys.push(k);for(;++p<v;)if(k=q[p],c=m[k],
A=c.keys,E=A.length,0<E)for(a=c.sets,b=-1,g=a.length,C=A[0];++b<g;){k=a[b];c=-1;z=k.length;G=Array(z+1);for(G[0]=1<E&&A||C;++c<z;)G[c+1]=k[c];u[r++]=G}}else for(E=f(a,A),1<E?u[r++]=[A]:u[r++]=A;++C<E;)h=e(h+A[C]);return{code:h,sets:u}}function g(a,d){return a-d}function f(a,d,e){var b=0;if(a===v)d[b++]=null;else{for(var f in a)d[b++]=f;1<b&&d.sort(e)}return b}function e(a){for(var d=5381,e=-1,b=a.length;++e<b;)d=(d<<5)+d+a.charCodeAt(e);return String(d)}function n(a){var d=a,e=typeof a;if("string"===
e){d=a.length;if(0===d||17<d||!h.test(a))return!1;if(16>d)return!0;d=+a}else if("number"!==e)return!1;return 0===d%1&&9007199254740991>=k(d)}var m=Array.isArray,k=Math.abs,h=/^(0|(\-?[1-9][0-9]*))$/,v=a(25);b.exports=function(a){var e,b=[],f=0,k;for(k in a){var h;if(h=n(k))h=e=a[k],h=null!==h&&"object"===typeof h;if(h){h=d(e,0,parseInt(k,10)).sets;for(var q=-1,p=h.length;++q<p;){for(var v=f++,c=h[q],F=-1,D=c.length;++F<D;){var z=c[F];if(m(z)){var A=c,C=F;for(var E=-1,G=z.length-1,H=0<G;++E<=G;){var I=
z[E];if(!n(I)){H=!1;break}z[E]=parseInt(I,10)}!0===H&&(z.sort(g),E=z[0],H=z[G],H-E<=G&&(z={from:E,to:H}));A[C]=z}}b[v]=c}}}return b};b.exports._isSafeNumber=n},function(b,c,a){function d(a,b,m,k){if(m===k)return!0;var e,n=-1,p=0,c,r=m+1,t,l,y;e=b[m];if(null===e)return f;a=a||{};a:do{if("object"!==typeof e)m=e,l=void 0,t=!1;else if(g(e)){if(void 0!==y)break a;n=0;y=e;p=e.length;if(0===p)break a;e=y[n];continue a}else{l=e.to;m=e.from||0;"number"!==typeof l&&(l=m+(e.length||0)-1);if(0>l-m)break a;t=
!0}do r===k?a[m]=null:(e=a[m],(c=d(e,b,r,k))?e||(a[m]=c):a[m]=null);while(t&&++m<=l);if(++n===p)break a;e=y[n]}while(1);return a}var g=Array.isArray,f=a(25);b.exports=function(a){return a.reduce(function(a,e){return d(a,e,0,e.length)},{})}},function(b,c){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="CircularReferenceError";
b.exports=a},function(b,c){function a(){var a=Error.call(this,"The allowed number of retries have been exceeded.");a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,c,a){var d=Array(3),g=a(0),f=a(11),e=a(2),n=a(12),m=a(48);b.exports=function(a,b,v){f(v,b);var k,h,c=0,t=a,l=b.value,y=l,q=l.length;
do{if(0===c&&void 0!==(k=b["\u001e\u0192alcor_context"]))t=k,c=q;else if(h=l[c++],void 0===(t=t[h]))break;if(c===q){h=t.$type;if(void 0!==h&&e(t))break;else{if(t===b)throw new m(l);t!==k&&n(b,t)}if(h===g)f(v,t),c=0,b=t,t=a,l=y=b.value,q=l.length;else break}else if(void 0!==t.$type)break}while(1);c<q&&void 0!==t&&(q=c);c=-1;for(l=Array(q);++c<q;)l[c]=y[c];d[0]=t;d[1]=l;d[2]=b;return d}},function(b,c,a){var d=a(13),g=a(93),f=a(16),e=a(17);b.exports=function(a,b,k,h,c,p,u,r,t,l,y,q){if(e===b&&!q)return g(a,
k,c,p,t,l);k=a&&a.value;if(b&&void 0===k){if(y)return c.hasValue=!0,{$type:f}}else return c.hasValue=!0,l?d(a):k}},function(b,c,a){var d=a(16),g=a(11),f=a(2),e=a(6);b.exports=function(a,b,k,h,c,p,u,r,t,l,y,q,w,B,x,F,D,z,A){if(!a||!b){if(x&&!F){if(c)return p.hasValue=!0,{$type:d};return}return A(k,h,p,u,r,t,l)}if(f(a))return a["\u001e\u0192alcor_invalidated"]||e(a,w,q),A(k,h,p,u,r,t,l);g(q,a);if(c)return y&&(u[h]=null),z(a,b,h,c,p,u,t,l,y,B,x,D)}},function(b,c,a){b.exports=function(a,b){var d=b["\u001e\u0192alcor_prev"],
e=b["\u001e\u0192alcor_next"];e&&(e["\u001e\u0192alcor_prev"]=d);d&&(d["\u001e\u0192alcor_next"]=e);b["\u001e\u0192alcor_prev"]=b["\u001e\u0192alcor_next"]=void 0;b===a["\u001e\u0192alcor_head"]&&(a["\u001e\u0192alcor_head"]=e);b===a["\u001e\u0192alcor_tail"]&&(a["\u001e\u0192alcor_tail"]=d)}},function(b,c){b.exports={GetRequest:"GET"}},function(b,c){c=function(a){this.disposed=!1;this.currentDisposable=a};c.prototype={unsubscribe:function(){return this.dispose()},dispose:function(){if(!this.disposed&&
this.currentDisposable){this.disposed=!0;var a=this.currentDisposable;this.currentDisposable=null;a.dispose?a.dispose():a.unsubscribe?a.unsubscribe():"function"===typeof a&&a()}}};b.exports=c},function(b,c,a){c=a(27);var d=a(111),g=a(4).collapse,f=c.getWithPathsAsPathMap,e=c.getWithPathsAsJSONGraph;b.exports=function(a,b,k,h,c,p,u,r){var n,l,m,q,v=h&&!c&&p,B=!c&&!h&&r;v?(q=p[0],p[0]={}):B&&p[0]&&(n=p[0].json)&&(l=n["\u001e\u0192alcor_metadata"])&&(m=l.$code);b=c?e(a,b,p):f(a,b,p,!r);if(b.criticalError)return k.onError(b.criticalError),
null;r=b.hasValue;var x=b.values[0],F=!!(x&&x.json||x.jsonGraph),D=!b.requestedMissingPaths||!b.requestedMissingPaths.length||!a._source;if(b.errors)for(var z=b.errors,A=u.length,C=0,E=z.length;C<E;++C,++A)u[A]=z[C];v&&q&&(x=d(x,q));if(r&&h||F&&D)try{if(c&&x){var G=x.paths;G&&0<G.length&&(x.paths=g(G))}++a._root.syncRefCount;k.onNext(x)}catch(H){throw H;}finally{--a._root.syncRefCount}if(D){if(u.length)k.onError(u);else k.onCompleted();return null}B&&p[0]&&(n=p[0].json)&&(l=n["\u001e\u0192alcor_metadata"])&&
(l.$code=m);return b}},function(b,c){b.exports={path:!0,pathSyntax:!0,flatBuffer:!0}},function(b,c,a){c=a(5);var d=Array.isArray,g=a(22),f=a(35),e=a(21),n=a(114),m=b.exports=function(a,b,n,c,m){this._model=a;this._isJSONGraph=n||!1;this._isProgressive=c||!1;this._initialArgs=b;this._value=[{}];n=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion="number"===typeof m?m:"number"===typeof n?n:a._root.version;a=[];var k,h;m=-1;for(n=b.length;++m<n;){c=b[m];var l;d(c)?l="PathValues":g(c)?
l="PathValues":f(c)?l="JSONGs":e(c)&&(l="PathMaps");h!==l&&(h=l,k={inputType:l,arguments:[]},a.push(k));k.arguments.push(c)}this._groups=a};m.prototype=Object.create(c.prototype);m.prototype._subscribe=function(a){return n(this._model,a,this._groups,this._isJSONGraph,this._isProgressive,0,this.initialCacheVersion)};m.prototype._toJSONG=function(){return new m(this._model,this._initialArgs,!0,this._isProgressive,this.initialCacheVersion)};m.prototype.progressively=function(){return new m(this._model,
this._initialArgs,this._isJSONGraph,!0,this.initialCacheVersion)}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$timestamp||void 0}},function(b,c,a){b.exports=function(a,b,f,e,n){a["\u001e\u0192alcor_key"]=f;a["\u001e\u0192alcor_parent"]=b;void 0!==e&&(a["\u001e\u0192alcor_version"]=e);a["\u001e\u0192alcor_abs_path"]||(a["\u001e\u0192alcor_abs_path"]=n.slice(0,n.index).concat(f));return b[f]=a}},function(b,c,a){var d=a(0),g=a(17),f=a(122),e=a(7),n=a(59),m=a(2),k=a(8),h=a(3),v=a(65),
p=a(6),u=a(60),r=a(63),t=a(15),l=a(62);b.exports=function(a,b,c,B,x,F,D,z,A,C,E,G,H){var q=f(b,F);if(x||F){if(q&&m(b)&&(q="expired",p(b,C,E)),q&&q!==d||k(b))b=r(b,{},a,c,E,A),b=u(b,a,c,A,z)}else x=f(B),F=!1===n(B)<n(b),(q||x)&&h(G)&&(F=!G(b,B,z.slice(0,z.index))),F&&(x===g&&h(H)&&(B=H(l(D,c),B)),B=v(B,x,x?B.value:B),D=e(b)-e(B),b=r(b,B,a,c,E,A),a=t(a,D,E,A),b=u(b,a,c,A,z));return b}},function(b,c){b.exports=function(a,b){a=a.slice(0,a.depth);a[a.length]=b;return a}},function(b,c,a){var d=a(1),g=a(126),
f=a(38),e=a(64);b.exports=function(a,b,k,h,c,p){if(a===b)return a;d(a)&&(g(a,b),f(a,k,h,c),e(b,p));return k[h]=b}},function(b,c,a){b.exports=function(a,b){var d=[a],e=0;do{var g=d[e];if(g&&g["\u001e\u0192alcor_version"]!==b){g["\u001e\u0192alcor_version"]=b;d[e++]=g["\u001e\u0192alcor_parent"];for(var c=-1,k=g["\u001e\u0192alcor_refs_length"]||0;++c<k;)d[e++]=g["\u001e\u0192alcor_ref"+c]}}while(-1<--e);return a}},function(b,c,a){var d=a(36),g=a(41),f=a(120),e=Array.isArray,n=a(7),m=a(121),k=a(16);
b.exports=function(a,b,c){var h=0;if(b){var p=a["\u001e\u0192alcor_wrapped_value"];a=f(a);h=n(a);a.$type=b;a["\u001e\u0192alcor_prev"]=void 0;a["\u001e\u0192alcor_next"]=void 0;a["\u001e\u0192alcor_wrapped_value"]=p||!1}else a={$type:k,value:c,"\u001e\u0192alcor_prev":void 0,"\u001e\u0192alcor_next":void 0,"\u001e\u0192alcor_wrapped_value":!0};if(null==c)h=51;else if(null==h||0>=h)switch(typeof c){case "object":h=e(c)?50+c.length:51;break;case "string":h=50+c.length;break;default:h=51}b=m(a);"number"===
typeof b&&b<g&&(a.$expires=d()+-1*b);a.$size=h;return a}},function(b,c){c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(c=window)}b.exports=c},function(b,c,a){function d(a){return new g(a)}var g=a(80);c=a(28);d.Model=g;d.JSONProto=c;b.exports=d},function(b,c,a){var d=a(46),g=a(47);b.exports=function(a){var b=a.reduce(function(a,b){var d=b.length;a[d]||(a[d]=[]);a[d].push(b);return a},{});Object.keys(b).forEach(function(a){b[a]=g(b[a])});
return d(b)}},function(b,c,a){function d(a){if(void 0!==a){for(var b="",f=a.$keys,c=-1,k=f.length;++c<k;){var h=f[c];if(null===h)b=""+g(""+b+"null");else{"object"===typeof h&&(h="{from:"+h.from+",length:"+h.length+"}");var v=d(a[c]),b=void 0===v?""+g(""+b+h):""+g(""+b+h+v.$code)}}a.$code=b;return a}}var g=a(42);b.exports=d},function(b,c){b.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},
function(b,c){function a(b,g,f){f=f||[];g=g||[];for(var d=[],c=b.$keys,m=c.length,k=-1;++k<m;){var h=b[k],v=c[k];h?a(h,g,f.concat([v])):d.push(v)}1===d.length?g.push(f.concat(d)):1<d.length&&g.push(f.concat([d]));return g}b.exports=a},function(b,c,a){var d=a(44),g=a(45).$ref,f=a(70);b.exports=function(a,b,c){for(var e=a,h=-1,n=b.length,m,u=0;++h<n;){m=b[h];m=(e=e[m])&&e.$type;if(!e||m&&m!==g)break;if(m&&m===g&&h+1<n)throw a=Error(f.innerReferences),a.throwToNext=!0,a;if(h+1===n&&(m===g&&(h=-1,b=e.value,
n=b.length,e=a,u++),u>c))throw Error(f.circularReference);}return[e,d(b)]}},function(b,c,a){b.exports={toTree:a(47),toPaths:a(46),collapse:a(68),pathCount:a(75),getHashCode:a(42),toFlatBuffer:a(79),iterateKeySet:a(43),hasIntersection:a(24),optimizePathSets:a(74),flatBufferToPaths:a(71),computeFlatBufferHash:a(69),pathsComplementFromTree:a(77),pathsComplementFromLengthTree:a(76)}},function(b,c,a){function d(a,b,c,p,u,r,t){if(void 0===a)u[u.length]=e(r,c,p);else if(!(null===a||a.$type&&a.$type!==n||
"object"!==typeof a||a.$type===n&&p===c.length)){var k=c[p];p+=1;var h=!1,q=k;"object"===typeof k&&(h={},q=g(k,h));var v,B;do{v=a[q];var x=r.length;null!==q&&(r[x]=q);v&&v.$type===n&&p<c.length?(B=m(b,v.value,t),v=B[0],B=f(B[1])):B=r;d(v,b,c,p,u,B,t);r.length=x;h&&!h.done&&(q=g(k,h))}while(h&&!h.done)}}var g=a(43),f=a(44),e=a(78),n=a(45).$ref,m=a(72);b.exports=function(a,b,e){var f=[];b.forEach(function(b){d(a,a,b,0,f,[],e)});return f}},function(b,c){function a(a){if(null==a)return 1;if(Array.isArray(a))throw Error("Unexpected Array found in keySet: "+
JSON.stringify(a));if("object"===typeof a){var b=a.to,d=a.length;if(null!=b){if(isNaN(b)||parseInt(b,10)!==b)throw Error("Invalid range, 'to' is not an integer: "+JSON.stringify(a));d=a.from||0;if(isNaN(d)||parseInt(d,10)!==d)throw Error("Invalid range, 'from' is not an integer: "+JSON.stringify(a));a=d<=b?b-d+1:0}else if(null!=d){if(isNaN(d)||parseInt(d,10)!==d)throw Error("Invalid range, 'length' is not an integer: "+JSON.stringify(a));a=d}else throw Error("Invalid range, expected 'to' or 'length': "+
JSON.stringify(a));return a}return 1}b.exports=function(b){if(0===b.length)throw Error("All paths must have length larger than zero.");for(var d=1,f=0;f<b.length;f++){var e=b[f];if(Array.isArray(e)){for(var c=0,m=0;m<e.length;m++)c+=a(e[m]);d*=c}else d*=a(e)}return d}},function(b,c,a){var d=a(24);b.exports=function(a,b){for(var e=[],f=-1,g=0,k=a.length;g<k;++g){var c=a[g];d(b[c.length],c,0,c.length)||(e[++f]=c)}return e}},function(b,c,a){var d=a(24);b.exports=function(a,b){for(var e=[],f=-1,g=0,k=
a.length;g<k;++g)d(b,a[g],0,a[g].length)||(e[++f]=a[g]);return e}},function(b,c){b.exports=function(a,b,g){var d=[],e,c;e=0;for(c=a.length;e<c;++e)d[e]=a[e];a=g||0;for(c=b.length;a<c;++a,++e)d[e]=b[a];return d}},function(b,c){function a(b,e,c,m){if(c!==m){b=b||{};var f=b.$keys||(b.$keys=[]),h=b.$keysMap||(b.$keysMap={}),n,p=-1,u=0,r,t=c+1,l;n=e[c];if(null===n)return g;a:do{if("object"!==typeof n)r=n,"undefined"===typeof(c=h[r])&&(c=f.length),f[c]=r,h[r]=c,n=a(b[c],e,t,m),void 0!==n&&(b[c]=n);else if(d(n)){if(void 0!==
l)break a;p=0;l=n;u=n.length;if(0===u)break a;n=l[p];continue a}else{c=n.to;r=n.from||0;"number"!==typeof c&&(c=r+(n.length||0)-1);if(0>c-r)break a;n={from:r,length:c-r+1};r="{from:"+r+",length:"+(c-r+1)+"}";"undefined"===typeof(c=h[r])&&(c=f.length);f[c]=n;h[r]=c;n=a(b[c],e,t,m);void 0!==n&&(b[c]=n)}if(++p===u)break a;n=l[p]}while(1);return b}}var d=Array.isArray,g={$keys:[null],$keysMap:{"null":0}};b.exports=function(b){return b.reduce(function(b,d){return a(b,d,0,d.length)},{})}},function(b,c,
a){function d(a){a=a||{};this._root=a._root||new g(a,this);this._path=a.path||a._path||[];this._node=a._node||this._root.cache;this._source=a.source||a._source;this._recycleJSON=a.recycleJSON||a._recycleJSON;this._request=a.request||a._request||new e(this,a.scheduler||new v);this._maxSize="number"===typeof a.maxSize?a.maxSize:a._maxSize||d.prototype._maxSize;a._seed&&(this._seed=a._seed,this._recycleJSON=!0);this._collectRatio="number"===typeof a.collectRatio?a.collectRatio:a._collectRatio||d.prototype._collectRatio;
if(a.boxed||a.hasOwnProperty("_boxed"))this._boxed=a.boxed||a._boxed;if(a.materialized||a.hasOwnProperty("_materialized"))this._materialized=a.materialized||a._materialized;"boolean"===typeof a.treatErrorsAsValues?this._treatErrorsAsValues=a.treatErrorsAsValues:a.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=a._treatErrorsAsValues:this._recycleJSON&&(this._treatErrorsAsValues=!0);this._allowFromWhenceYouCame=a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}
var g=a(82),f=a(81),e=a(103),n=a(5),m=a(107),k=a(108),h=a(117),v=a(116),p=a(31),u=a(7),r=a(1),t=a(3),l=a(8),y=a(21),q=a(35),w=a(33),B=a(20),x=a(39),F=function(){},D=a(89),z=a(27),A=a(57);b.exports=d;d.prototype.constructor=d;d.prototype._materialized=!1;d.prototype._boxed=!1;d.prototype._progressive=!1;d.prototype._treatErrorsAsValues=!1;d.prototype._maxSize=Math.pow(2,53)-1;d.prototype._collectRatio=.75;d.prototype.get=a(110);d.prototype.set=a(112);d.prototype.preload=function(){var a=x(arguments,
A,"preload");if(!0!==a)return new n(function(b){b.onError(a)});var b=Array.prototype.slice.call(arguments),d=this;return new n(function(a){return d.get.apply(d,b).subscribe(function(){},function(b){a.onError(b)},function(){a.onCompleted()})})};d.prototype.call=function(){var a,b=-1,d=arguments.length;for(a=Array(d);++b<d;){var e=arguments[b];a[b]=e;var f=typeof e;if(1<b&&!Array.isArray(e)||0===b&&!Array.isArray(e)&&"string"!==f||1===b&&!Array.isArray(e)&&!l(e))return new n(function(a){a.onError(Error("Invalid argument"))})}return new m(this,
a[0],a[1],a[2],a[3])};d.prototype.invalidate=function(){var a,b=-1,d=arguments.length;for(a=[];++b<d;)if(a[b]=arguments[b],!Array.isArray(a[b]))throw Error("Invalid argument");(new k(this,a)).subscribe(F,function(a){throw a;})};d.prototype.deref=a(85);d.prototype._hasValidParentReference=a(84);d.prototype.getValue=a(90);d.prototype.setValue=a(118);d.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var d=this._root,e=this._path;this._path=[];this._root.cache={};"undefined"!==typeof b&&
p(d,d.expired,u(b),0);var f;q(a)?f=B(this,[a])[0]:y(a)?f=w(this,[a])[0]:r(a)&&(f=w(this,[{json:a}])[0]);f&&z.getWithPathsAsPathMap(this,f,[],!0);this._path=e}else"undefined"===typeof b&&(this._root.cache={});return this};d.prototype.getCache=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];if(0===b.length)return D(this._root.cache);var d=[{}],e=this._path;z.getWithPathsAsJSONGraph(this,b,d);this._path=e;return d[0].jsonGraph};d.prototype.getVersion=function(a){a=void 0===a?
[]:a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};d.prototype._syncCheck=function(a){if(this._source&&0>=this._root.syncRefCount&&!1===this._root.unsafeMode)throw Error("Model#"+a+" may only be called within the context of a request selector.");return!0};d.prototype._clone=function(a){var b=new d(this);if(a)for(var e in a){var f=a[e];"delete"===f?delete b[e]:"_path"===e?(b[e]=
f,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=f}0<b._path.length&&(b.setCache=void 0);return b};d.prototype.batch=function(a){var b;"number"===typeof a?b=new h(Math.round(Math.abs(a))):a?t(a.schedule)?b=a:t(a)&&(b={scheudle:a}):b=new h(1);a=this._clone();a._request=new e(a,b);return a};d.prototype.unbatch=function(){var a=this._clone();a._request=new e(a,new v);return a};d.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};d.prototype.asDataSource=function(){return new f(this)};
d.prototype._materialize=function(){return this._clone({_materialized:!0})};d.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};d.prototype.boxValues=function(){return this._clone({_boxed:!0})};d.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};d.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};d.prototype.toJSON=function(){return{$type:"ref",value:this._path}};d.prototype.getPath=function(){return this._path.slice(0)};
d.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};d.prototype._getVersion=a(91);d.prototype._getPathValuesAsPathMap=z.getWithPathsAsPathMap;d.prototype._getPathValuesAsJSONG=z.getWithPathsAsJSONGraph;d.prototype._setPathValues=a(34);d.prototype._setPathMaps=a(33);d.prototype._setJSONGs=a(20);d.prototype._setCache=a(33);d.prototype._invalidatePathValues=a(101);d.prototype._invalidatePathMaps=a(100)},function(b,c){function a(a){this._model=a._materialize().boxValues().treatErrorsAsValues()}
a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,f,e){a=[a,b,f].concat(e);return this._model.call.apply(this._model,a)._toJSONG()};b.exports=a},function(b,c,a){function d(a,b){a=a||{};this.syncRefCount=this.version=0;this.expired=a.expired||[];this.unsafeMode=a.unsafeMode||!1;this.cache={};this.topLevelModel=b;f(a.comparator)&&(this.comparator=a.comparator);f(a.branchSelector)&&
(this.branchSelector=a.branchSelector);f(a.errorSelector)&&(this.errorSelector=a.errorSelector);f(a.branchSelector)&&(this.branchSelector=a.branchSelector);f(a.onChange)&&(this.onChange=a.onChange);f(a.onChangesCompleted)&&(this.onChangesCompleted=a.onChangesCompleted)}var g=a(14),f=a(3);d.prototype.errorSelector=function(a,b){return b};d.prototype.comparator=function(a,b){return g(a,"value")&&g(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=d},function(b,
c,a){(function(a){function d(a){a.Symbol||(a.Symbol=function(a){return"@@Symbol("+a+"):"+m++ +"}"});return a.Symbol}function f(a){return"@@"+a}var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},c=e[typeof self]&&self||e[typeof window]&&window;a=e[typeof a]&&a;!a||a.global!==a&&a.window!==a||(c=a);var m=0;b.exports=function(a){a=d(a);a.observable||(a.observable="function"===typeof a.for?a.for("observable"):"@@observable");a.for||(a["for"]=f);return a}(c)}).call(c,a(66))},
function(b,c,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192alcor_parent"]||a&&a["\u001e\u0192alcor_invalidated"]?!1:!0:!0}},function(b,c,a){var d=a(0),g=a(19),f=a(87);b.exports=function(a){if(!a||"object"!==typeof a)throw new f;var b,e,c,h;c=a&&a["\u001e\u0192alcor_metadata"];if(!c||"object"!==typeof c)return this._clone({_node:void 0});var v=this._recycleJSON,p=c.abs_path;if(!p)return this._clone({_node:void 0,
_seed:v&&{json:a}||void 0});if(0===p.length)return this._clone({_path:p,_node:this._root.cache,_referenceContainer:!0,_seed:v&&{json:a}||void 0});var u=c.deref_to;e=c.deref_from;var r=this._root.cache,t=g(r,p),l="e";if(e){l=!1;c=-1;h=e.length;for(b=r;++c<h&&(b=b[e[c]],b&&!b.$type););if(u&&b&&b.$type===d){c=0;h=u.length;e=b.value;for(l=!0;l&&c<h;++c)e[c]!==u[c]&&(l=!1);!1===l&&(t=void 0)}}l?"e"===l&&(b=!0):b=!1;return this._clone({_node:t,_path:p,_referenceContainer:b,_seed:v&&{json:a}||void 0})}},
function(b,c){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";b.exports=a},function(b,c){function a(){var a=
Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";b.exports=a},function(b,c){function a(a,b){var d=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");
d.name="InvalidModelError";this.stack=d.stack;this.message=d.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,c,a){function d(a,b,c){Object.keys(a).filter(function(b){return!g(b)&&void 0!==a[b]}).forEach(function(e){var f=a[e],c=b[e];c||(c=b[e]={});if(f.$type){c=!f["\u001e\u0192alcor_wrapped_value"];
if(f.value&&"object"===typeof f.value||c){var c={},m=Object.keys(f),p,n,r;n=0;for(r=m.length;n<r;n++)p=m[n],g(p)||(c[p]=f[p]);f=c}else f=f.value;b[e]=f}else d(f,c,e)})}var g=a(124);b.exports=function(a){var b={};d(a,b);return b}},function(b,c,a){var d=a(32),g=a(5);b.exports=function(a){for(var b=0,f=a.length;++b<f;)if("object"===typeof a[b])return new g(function(a){a.onError(Error("Paths must be simple paths"))});var c=this;return new g(function(b){return(new d(c,[a],!1,!1,!1,void 0,!1)).subscribe(function(d){d=
d.json;for(var e=-1,f=a.length;d&&++e<f;)d=d[a[e]];b.onNext(d)},function(a){b.onError(a)},function(){b.onCompleted()})})}},function(b,c,a){var d=a(18);b.exports=function(a,b){a=(a=d(a,b))&&a["\u001e\u0192alcor_version"];return null==a?-1:a}},function(b,c,a){var d=Array.isArray,g=a(95),f=a(94),e=a(18),n=a(88),m=a(4).toFlatBuffer,k=a(4).computeFlatBufferHash;b.exports=function(a,b,c,u){var h,p,l=a._path,y=a._root,q=y.cache,w,v=l.length;if(v){if((h=e(a))&&h.$type)return{criticalError:new n(l,l)};w=[];
for(p=0;p<v;++p)w[p]=l[p];p=a._referenceContainer}else h=q,w=[];var l=[],x=a._boxed,F=y.expired,D=a._materialized,z=!!a._source,A=y.branchSelector,C=a._treatErrorsAsValues,E=a._allowFromWhenceYouCame,G=c[0],H=G&&G.json;c={values:c};if(a._recycleJSON&&!0!==u)d(u=b)&&(u=k(m(b))),H=f(q,h,H,u,0,G,c,l,w,v,!1,p,y,F,A,x,D,z,C,E);else for(var I=-1,L=b.length;++I<L;)u=b[I],a=u.length,H=g(q,h,H,u,0,G,c,l,a,w,v,!1,p,y,F,A,x,D,z,C,E);c.hasValue&&(G.json=H);return c}},function(b,c,a){var d=a(13);b.exports=function(a,
b,e,c,m,k){var f=-1;b+=!!m;m=Array(b);for(a=k?d(a):a.value;++f<b;)m[f]=c[f];(e.errors||(e.errors=[])).push({path:m,value:a})}},function(b,c,a){function d(a,b,c,m,u,F,D,z,A,C,E,G,H,I,L,S,R,Y,V,T){var q,y;if(void 0===b||void 0!==(q=b.$type)||void 0===m)return a=q,G=E,L=n,T=g,b&&a?k(b)?(b["\u001e\u0192alcor_invalidated"]||l(b,I,H),b=T(m,u,D,z,u,A,C)):(t(H,b),F?(G&&(z[u]=null),b=L(b,a,u,F,D,z,A,C,G,S,R,V)):b=void 0):R&&!Y?F?(D.hasValue=!0,b={$type:r}):b=void 0:b=T(m,u,D,z,u,A,C),b;var w;q="";var B,x,
M,Q=m.$keys,aa=u+1,U,W,X,ca,Z,da=C+1,fa,ga;T&&G&&(ga=G.value,fa=G["\u001e\u0192alcor_abs_path"]);if(c&&(w=c["\u001e\u0192alcor_metadata"])){if(w.version===b["\u001e\u0192alcor_version"]&&w.$code===m.$code)return D.hasValue=!0,c;w.version=b["\u001e\u0192alcor_version"];w.abs_path=b["\u001e\u0192alcor_abs_path"];w.deref_to=ga;w.deref_from=fa}var ha=-1,ja=Q.length,ba,ea,ia;a:for(;++ha<ja;)if(E=Q[ha],ba=m[ha],ia=!1,null===E){if(void 0!==ba)throw new v;q=""+p(""+q+"null")}else{if("object"!==typeof E)x=
E,U=void 0,M=!1,ea=x;else{U=E.to;x=E.from||0;"number"!==typeof U&&(U=x+(E.length||0)-1);if(0>U-x)break a;M=!0;ea="{from:"+x+",length:"+(U-x+1)+"}"}do E=!1,W=c&&c[x],Z=A,ca=da,X=G,B=b[x],z[u]=x,A[C]=x,B&&void 0!==ba&&B.$type===e&&!k(B)&&(y=h(a,B,H),B=y[0],E=!0,Z=y[1],X=y[2],ca=Z.length,y[0]=y[1]=y[2]=void 0),W=d(a,B,W,ba,aa,F,D,z,Z,ca,E,X,H,I,L,S,R,Y,V,T),void 0!==W?(void 0===w&&(w={},w.version=b["\u001e\u0192alcor_version"],w.abs_path=b["\u001e\u0192alcor_abs_path"],w.deref_to=ga,w.deref_from=fa),
void 0===c&&(L?(c=L(w),c["\u001e\u0192alcor_metadata"]||(c["\u001e\u0192alcor_metadata"]=w)):(c=new f(w),c=Object.create(c))),c[x]=W):(c&&c.hasOwnProperty(x)&&delete c[x],ia=!0);while(M&&++x<=U);q=!0===ia||void 0===ba?""+p(""+q+ea):""+p(""+q+ea+ba.$code)}w&&(w.$code=q);return c}function g(a,b,d,e,c,f,g){a=a?u(a):[[]];var l=e.slice(0,c);a.forEach(function(a){c=b+a.length;m(l.concat(a),b,d,e,c,f,g)})}var f=a(28),e=a(0),n=a(51),m=a(30),k=a(2),h=a(50),v=a(10);a(26);var p=a(4).getHashCode,u=a(4).flatBufferToPaths;
b.exports=d;var r=a(16),t=a(11),k=a(2),l=a(6)},function(b,c,a){function d(a,b,c,y,q,w,B,x,F,D,z,A,C,E,G,H,I,L,S,R,Y){var l,r;if(void 0===b||(l=b.$type)||q===F)return k(b,l,y,q,w,B,x,F,D,z,A,E,G,I,L,S,R,n,m);var t,J,P=q+1,N,O,M,Q,aa=-1,U=0,W,X,ca=z+1,Z,da;J=y[q];if(null===J){if(P<F)throw new p;return c}Y&&C&&(da=C.value,Z=C["\u001e\u0192alcor_abs_path"]);a:do{if("object"!==typeof J)l=J,N=void 0,J=!1;else if(f(J)){if(void 0!==O)throw new u(y,O);aa=0;O=J;U=J.length;if(0===U)break a;J=O[aa];continue a}else{N=
J.to;l=J.from||0;"number"!==typeof N&&(N=l+(J.length||0)-1);if(0>N-l)break a;J=!0}do A=!1,M=c&&c[l],X=D,W=ca,Q=C,t=b[l],x[q]=l,D[z]=l,t&&P<F&&t.$type===e&&!h(t)&&(r=v(a,t,E),t=r[0],A=!0,X=r[1],Q=r[2],W=X.length,r[0]=r[1]=r[2]=void 0),M=d(a,t,M,y,P,w,B,x,F,X,W,A,Q,E,G,H,I,L,S,R,Y),void 0!==M&&(void 0===c&&(A={},A.version=b["\u001e\u0192alcor_version"],A.abs_path=b["\u001e\u0192alcor_abs_path"],A.deref_to=da,A.deref_from=Z,H?(c=H(A),c["\u001e\u0192alcor_metadata"]||(c["\u001e\u0192alcor_metadata"]=
A)):(c=new g(A),c=Object.create(c))),c[l]=M);while(J&&++l<=N);if(++aa===U)break a;J=O[aa]}while(1);return c}var g=a(28),f=Array.isArray,e=a(0),n=a(51),m=a(30),k=a(52),h=a(2),v=a(50),p=a(10),u=a(26);b.exports=d},function(b,c,a){var d=a(99),g=a(86);b.exports=function(a,b,c){var e,f,h=a._root,n,p,u=a._path.length;if(u)return{criticalError:new g};p=[];f=e=h.cache;n=[];var r=a._boxed,t=h.expired,l=a._materialized,y=!!a._source;a=a._treatErrorsAsValues;for(var q=c[0],w={values:c},B,x=-1,F=b.length;++x<
F;)B=b[x],c=B.length,d(f,e,B,0,q,w,n,c,p,u,!1,h,t,r,l,y,a);return w}},function(b,c,a){var d=Array(2),g=a(13),f=a(0),e=a(29),n=a(11),m=a(2),k=a(12),h=a(48);b.exports=function(a,b,c,r,t,l){n(c,b);var p,q;t=0;l=a;var w=b.value,u=w,v=w.length;do{if(0===t&&void 0!==(p=b["\u001e\u0192alcor_context"]))l=p,t=v;else if(q=w[t++],void 0===(l=l[q]))break;if(t===v){q=l.$type;if(void 0!==q&&m(l))break;else{if(l===b)throw new h(w);l!==p&&k(b,l)}if(q===f)n(c,l),e(g(l),w,v,r),t=0,b=l,l=a,w=u=b.value,v=w.length;else break}else if(void 0!==
l.$type)break}while(1);t<v&&void 0!==l&&(v=t);t=-1;for(w=Array(v);++t<v;)w[t]=u[t];d[0]=l;d[1]=w;return d}},function(b,c,a){var d=a(13),g=a(0),f=a(16),e=a(17),n=a(29);b.exports=function(a,b,c,v,p,u,r,t,l,y,q){var k=a&&a.value;if(b&&void 0===k)if(q)k={$type:f};else return;else if(y||g===b||e===b||!a["\u001e\u0192alcor_wrapped_value"]||"object"===typeof k)k=d(a);p&&u&&(p.hasValue=!0,n(k,r,t,v,y,q),(v.paths||(v.paths=[])).push(u.slice(0,c+!!l)));return k}},function(b,c,a){function d(a,b,c,q,w,B,x,F,
D,z,A,C,E,G,H,I,L){var l,y;if(void 0===b||(l=b.$type)||q===F)return h(b,l,c,q,w,B,x,F,D,z,A,C,E,G,H,I,L,n,m);var t,V,T=q+1,K,J,P=-1,N=0,O,M,Q=z+1;A=c[q];if(null===A){if(T<F)throw new u;}else{a:do{if("object"!==typeof A)l=A,K=void 0,V=!1;else if(g(A)){if(void 0!==J)throw new r(c,J);P=0;J=A;N=A.length;if(0===N)break a;A=J[P];continue a}else{K=A.to;l=A.from||0;"number"!==typeof K&&(K=l+(A.length||0)-1);if(0>K-l)break a;V=!0}do A=!1,M=D,O=Q,t=b[l],x[q]=l,D[z]=l,t&&T<F&&t.$type===e&&!v(t)&&(k(f(t),D,O,
w),y=p(a,t,C,w,G,H),t=y[0],A=!0,M=y[1],O=M.length,y[0]=y[1]=void 0),d(a,t,c,T,w,B,x,F,M,O,A,C,E,G,H,I,L);while(V&&++l<=K);if(++P===N)break a;A=J[P]}while(1)}}var g=Array.isArray,f=a(13),e=a(0),n=a(98),m=a(30),k=a(29),h=a(52),v=a(2),p=a(97),u=a(10),r=a(26);b.exports=d},function(b,c,a){function d(a,b,c,e,f,m,p,n,u,t){if(!r(a)&&!a.$type)for(var q in a)if("\u001e"!==q[0]&&"$"!==q[0]&&h(a,q)){var w=a[q],B=v(w)&&!w.$type,x=g(c,e,f,q,w,B,!1,m,p,n,u,t),z=x[0],x=x[1];z&&(B?d(w,b+1,c,x,z,m,p,n,u,t):y(z,x,q,
n)&&l(x,k(z),n,m))}}function g(a,b,d,c,l,k,h,n,y,u,v,H){for(h=d.$type;h===e;){a:{b=l;h=a;var q=n,w=y,x=u,B=v,A=H;if(p(d))t(d,w,x),b=[void 0,h];else{m(x,d);var z=d,E=d.value,D;d=d["\u001e\u0192alcor_context"];if(null!=d)D=d["\u001e\u0192alcor_parent"]||h;else{var F=0,C=E.length-1;D=d=h;do{D=g(h,D,d,E[F],b,F<C,!0,q,w,x,B,A);d=D[0];if(r(d)){b=D;break a}D=D[1]}while(F++<C);z["\u001e\u0192alcor_context"]!==d&&f(z,d)}b=[d,D]}}d=b[0];if(r(d))return b;b=b[1];h=d&&d.$type}if(void 0!==h)return[d,b];if(null==
c){if(k)throw Error("`null` is not allowed in branch key positions.");}else b=d,d=b[c];return[d,b]}var f=a(12),e=a(0),n=a(18),m=a(11),k=a(7),h=a(14),v=a(1),p=a(2),u=a(3),r=a(8),t=a(6),l=a(15),y=a(38);b.exports=function(a,b){var c=a._root,e=c.expired,f=c.version++,g=c._comparator,l=c._errorSelector,k=c.cache,h=n(a),q=h["\u001e\u0192alcor_parent"]||k;a=k["\u001e\u0192alcor_version"];for(var m=-1,p=b.length;++m<p;)d(b[m].json,0,k,q,h,f,e,c,g,l);b=k["\u001e\u0192alcor_version"];c=c.onChange;u(c)&&a!==
b&&c()}},function(b,c,a){function d(a,b,c,e,f,k,h,p){var l={},q=b<a.length-1,n=a[b],y=u(n,l);do{var v=g(c,e,f,y,q,!1,k,h,p),w=v[0],v=v[1];w&&(q?d(a,b+1,c,v,w,k,h,p):t(w,v,y,p)&&r(v,m(w),p,k));y=u(n,l)}while(!l.done)}function g(a,b,d,c,e,h,m,r,u){for(h=d.$type;h===f;){a:{b=a;var l=m,q=r,y=u;if(k(d))p(d,q,y),b=[void 0,b];else{n(y,d);h=d;var t=d.value,w;d=d["\u001e\u0192alcor_context"];if(null!=d)w=d["\u001e\u0192alcor_parent"]||b;else{var x=0,z=t.length-1;w=d=b;do{w=g(b,w,d,t[x],x<z,!0,l,q,y);d=w[0];
if(v(d)){b=w;break a}w=w[1]}while(x++<z);h["\u001e\u0192alcor_context"]!==d&&(b=d["\u001e\u0192alcor_refs_length"]||0,d["\u001e\u0192alcor_refs_length"]=b+1,d["\u001e\u0192alcor_ref"+b]=h,h["\u001e\u0192alcor_context"]=d,h["\u001e\u0192alcor_ref_index"]=b)}b=[d,w]}}d=b[0];if(v(d))return b;b=b[1];h=d.$type}if(void 0!==h)return[d,b];if(null==c){if(e)throw Error("`null` is not allowed in branch key positions.");}else b=d,d=b[c];return[d,b]}var f=a(0),e=a(18),n=a(11),m=a(7),k=a(2),h=a(3),v=a(8),p=a(6),
u=a(4).iterateKeySet,r=a(15),t=a(38);b.exports=function(a,b){var c=a._root,f=c.expired,g=c.version++,k=c.cache,l=e(a),m=l["\u001e\u0192alcor_parent"]||k;a=k["\u001e\u0192alcor_version"];for(var p=-1,n=b.length;++p<n;)d(b[p],0,k,m,l,g,f,c);b=k["\u001e\u0192alcor_version"];c=c.onChange;h(c)&&a!==b&&c()}},function(b,c,a){function d(a,b){var d=!1;return function(){d||a._disposed||(d=!0,a._callbacks[b]=null,a._optimizedPaths[b]=[],a._requestedPaths[b]=[],0===--a._count&&(a._disposable.dispose(),a.requestQueue.removeRequest(a)))}}
function g(a){for(var b=[],d=-1,c=0,e=a.length;c<e;++c)for(var f=a[c],g=0,k=f.length;g<k;++g)b[++d]=f[g];return b}function f(a){if(!a)return{dispose:p,unsubscribe:p};a.unsubscribe?a.dispose||(a.dispose=a.unsubscribe):a.unsubscribe=a.dispose;return a}var e=a(104),n=a(105),m=0,k=a(54).GetRequest,h=a(20),v=a(34),p=a(23),u=a(17),r=[],t=a(9);c=function(a,b){this.scheduled=this.sent=!1;this.requestQueue=b;this.id=++m;this.type=k;this._scheduler=a;this._pathMap={};this._optimizedPaths=[];this._requestedPaths=
[];this._callbacks=[];this._count=0;this._collapsed=this._disposable=null;this._disposed=!1};c.prototype={batch:function(a,b,c){var e=this,g=e._optimizedPaths,k=e._requestedPaths,h=e._callbacks,l=g.length;g[l]=b;k[l]=a;h[l]=c;++e._count;if(!e.scheduled){e.scheduled=!0;var m;a=e._scheduler.schedule(function(){e._disposable=m=f(n(e,g,function(a,b){var d,c,f;e.requestQueue.removeRequest(e);e._disposed=!0;if(a instanceof t)for(d=0,f=h.length;d<f;++d)(c=h[d])&&c(a);else if(e._count)for(e._merge(k,a,b),
d=0,f=h.length;d<f;++d)(c=h[d])&&c(a,b)}))});e._disposable=f(m||a)}return d(e,l)},add:function(a,b,c){var f=e(a,b,this._pathMap),g;f?(g=f[2],a=f[1]):(g=a,a=b);var k=!1,h=!1;a.length<b.length&&(k=!0,b=this._callbacks.length,this._callbacks[b]=c,this._requestedPaths[b]=f[0],this._optimizedPaths[b]=[],++this._count,h=d(this,b));return[k,g,a,h]},_merge:function(a,b,d){var c=this.requestQueue.model,e=c._root,f=e.errorSelector,e=e.comparator,k=c._path;c._path=r;a=g(a);if(b){var m=b;m instanceof Error?m=
{message:m.message}:m.$type||(m={$type:u,value:m});b=a.map(function(a){return{path:a,value:m}});v(c,b,f,e)}else h(c,[{paths:a,jsonGraph:d.jsonGraph}],f,e);c._path=k}};b.exports=c},function(b,c,a){function d(a,b){this.model=a;this.scheduler=b;this.requests=this._requests=[]}var g=a(54),f=a(106),e=a(102),n=a(4).collapse;d.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,b){a.paths=n(a.paths);return f(a,this.model,b)},get:function(a,b,d){function c(a){n||(--k,0===k&&d(a))}var f=[],
k=0,h=this._requests,m,l=a,n=!1,q;a=0;for(m=h.length;a<m&&(q=h[a],q.type!==g.GetRequest||(q.sent?(q=q.add(l,b,c),q[0]&&(l=q[1],b=q[2],f[f.length]=q[3],++k)):(q.batch(l,b,c),b=[],l=[],++k),b.length));++a);b.length&&(q=new e(this.scheduler,this),h[h.length]=q,++k,h=q.batch(l,b,c),f[f.length]=h);return function(){if(!n&&0!==k){n=!0;for(var a=f.length,b=0;b<a;++b)f[b]()}}},removeRequest:function(a){for(var b=this._requests,d=b.length;0<=--d;)if(b[d].id===a.id){b.splice(d,1);break}}};b.exports=d},function(b,
c,a){var d=a(4).hasIntersection;b.exports=function(a,b,c){for(var e=[],f=[],g=[],h=-1,v=-1,p=!1,u=0,r=b.length;u<r;++u){var t=b[u],l=t.length,y=c[l];y&&d(y,t,0,l)?(!p&&0<u&&(f=a.slice(0,u),e=b.slice(0,u)),g[++h]=a[u],p=!0):p&&(e[++v]=t,f[v]=a[u])}return p?[g,e,f]:null}},function(b,c,a){c=a(4);var d=c.toTree,g=c.toPaths,f=a(9);b.exports=function(a,b,c){if(0===a._count)return a.requestQueue.removeRequest(a),null;a.sent=!0;a.scheduled=!1;for(var e=a._pathMap,h=0,m=Object.keys(b).length;h<m;++h)for(var p=
b[h],n=0,r=p.length;n<r;++n){var t=p[n],l=t.length;e[l]?(l=e[l],l[l.length]=t):e[l]=[t]}b=Object.keys(e);h=0;for(m=b.length;h<m;++h)p=b[h],e[p]=d(e[p]);var e=a._collasped=g(e),y,q;try{q=a.requestQueue.model._source.get(e)}catch(w){return c(new f),null}return q.subscribe(function(a){y=a},function(a){c(a,y)},function(){c(null,y)})}},function(b,c,a){var d=a(20),g=a(34),f=a(9),e=[],n={dispose:function(){}};b.exports=function(a,b,c){var h=a.paths,k=b._root,m=k.errorSelector,r=k.comparator,t=b._path,l,
y;try{y=b._source.set(a)}catch(w){return c(new f),n}var q=y.subscribe(function(a){if(!q||!q.disposed){b._path=e;var c=d(b,[{paths:h,jsonGraph:a.jsonGraph}],m,r);a.paths=c[1];b._path=t;l=a}},function(a){q&&q.disposed||(b._path=e,g(b,h.map(function(b){return{path:b,value:a}}),m,r),b._path=t,c(a))},function(){c(null,l)});return q}},function(b,c,a){function d(a,b,d,c,f){this.callPath=b;this.args=d;f&&(this.paths=f);c&&(this.suffix=c);this.model=a;b=a._root.cache["\u001e\u0192alcor_version"];this.initialCacheVersion=
"number"===typeof b?b:a._root.version}var g=a(58);c=a(5);var f=a(9);d.prototype=Object.create(c.prototype);d.prototype._subscribe=function(a){var b=this.callPath,d=this.args,c=this.suffix,e=this.paths,v=this.model,p=v._clone({_path:[]}),b=v._path.concat(b),u=this.initialCacheVersion;if(v._source){var r,t;try{t=v._source.call(b,d,c,e)}catch(l){a.onError(new f(l));return}return t.subscribe(function(a){r=a},function(b){a.onError(b)},function(){var b=r.invalidated;b&&b.length&&(++v._root.syncRefCount,
p.invalidate.apply(p,b),--v._root.syncRefCount);return(new g(p.withoutDataSource(),[r],!1,!1,u)).subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}a.onError(Error("function does not exist"))};b.exports=d},function(b,c,a){function d(a,b,d){this._model=a;var c=[],h,k,l=-1,m=b.length,n=a._root.cache["\u001e\u0192alcor_version"];for(this.initialCacheVersion="number"===typeof d?d:"number"===typeof n?n:a._root.version;++l<m;){a=b[l];if(g(a))d="PathValues";else if(f(a))d=
"PathValues";else if(e(a))d="PathMaps";else throw Error("Invalid Input");k!==d&&(k=d,h={inputType:d,arguments:[]},c.push(h));h.arguments.push(a)}this._groups=c}var g=Array.isArray;c=a(5);var f=a(22),e=a(21),n=a(23),m={dispose:n,unsubscribe:n},k=a(3);d.prototype=Object.create(c.prototype);d.prototype.progressively=function(){return this};d.prototype._toJSONG=function(){return this};d.prototype._subscribe=function(a){var b=this._model;this._groups.forEach(function(a){(0,b["_invalidate"+a.inputType])(b,
a.arguments)});a.onCompleted();a=b._root;var d=a.onChangesCompleted;this.initialCacheVersion!==a.cache["\u001e\u0192alcor_version"]&&0>=a.syncRefCount&&k(d)&&d.call(a.topLevelModel);return m};b.exports=d},function(b,c,a){function d(a,b){var d=[],c,e;c=0;for(e=a.length;c<e;c++)d[c]=a[c];a=0;for(e=b.length;a<e;a++)d[c++]=b[a];return d}var g=a(56),f=a(49),e=a(31),n=a(7),m=a(55),k=a(9),h=a(3);b.exports=function p(a,b,c,l,y,q,w,B,x){if(10===q)throw new f;var r=b._request,t=c.requestedMissingPaths,u=c.optimizedMissingPaths,
A=new m,C=[],E=b._path;if(E.length)for(var G=0,H=t.length;G<H;++G)C[G]=d(E,t[G]);else C=t;var I=a.isProgressive||!x?t:B,r=r.get(C,u,function(d){if(d instanceof k)l.onError(d);else if(d=g(b,I,l,a.isProgressive,a.isJSONGraph,c.values,y,x))A.currentDisposable=p(a,b,d,l,y,q+1,w,B,x);else{d=b._root;var f=d.cache,m=f["\u001e\u0192alcor_version"];e(d,d.expired,n(f),b._maxSize,b._collectRatio,m);f=d.onChangesCompleted;w!==m&&0>=d.syncRefCount&&h(f)&&f.call(d.topLevelModel)}});A.currentDisposable=r;return A}},
function(b,c,a){var d=a(5),g=a(57),f=a(39),e=a(32);b.exports=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var h=f(b,g,"get");return!0!==h?new d(function(a){a.onError(h)}):new e(this,b)}},function(b,c,a){function d(a,b){for(var c,f,g,k=Object.keys(b),h=-1,v=k.length;++h<v;)g=k[h],"\u001e\u0192alcor_metadata"!==g&&(f=b[g],c=a[g],c!==f&&(void 0===c||"object"!==typeof f?a[g]=f:d(c,f)));a["\u001e\u0192alcor_metadata"]=b["\u001e\u0192alcor_metadata"];return a}b.exports=d},function(b,
c,a){var d=a(115),g=a(39),f=a(58),e=a(5);b.exports=function(){var a=g(arguments,d,"set");if(!0!==a)return new e(function(b){b.onError(a)});for(var b=-1,c=arguments.length,h=[];++b<c;)h[b]=arguments[b];return new f(this,h)}},function(b,c,a){function d(a){return a.path}function g(a){return a.paths}var f=a(119);b.exports=function(a,b){for(var c=a._root.errorSelector,e=-1,h=b.length,n=[],p=[],u={requestedPaths:n,optimizedPaths:p};++e<h;){var r=b[e],t=r.inputType,r=r.arguments;if(0<r.length){var l=(0,a["_set"+
t])(a,r,c);p.push.apply(p,l[1]);"PathValues"===t?n.push.apply(n,r.map(d)):"JSONGs"===t?n.push.apply(n,f(r,g)):n.push.apply(n,l[0])}}return u}},function(b,c,a){function d(a,b){var d=a._path,c={};a._path=f;a._getPathValuesAsJSONG(a._materialize().withoutDataSource(),b,[c]);a._path=d;return c}function g(a,b,d,c,e,f){return(new n(a,d,c,e,!0,f,!1)).subscribe(b)}var f=[],e=a(55),n=a(32),m=a(113),k=a(27).getWithPathsAsPathMap,h=a(9),v=a(49);b.exports=function u(a,b,c,f,n,w,B){if(10===w)throw new v;var l=
m(a,c),q=l.optimizedPaths,r=l.requestedPaths;if(void 0===a._source)return g(a,b,r,f,n,B);if(n){l=k(a,r,[{}],!0);if(l.criticalError)return b.onError(l.criticalError),null;b.onNext(l.values[0])}var l=d(a,q),t=new e,l=a._request.set(l,function(d,e){if(typeof d===h)b.onError(d);else{var k=!1;if(d||q.length===e.paths.length)k=!0;k?t.currentDisposable=g(a,b,r,f,n,B):u(a,b,c,f,n,w+1,B)}});t.currentDisposable=l;return t}},function(b,c){b.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(b,
c){function a(){}var d={dispose:function(){}};a.prototype.schedule=function(a){a();return d};b.exports=a},function(b,c){function a(a){this.delay=a}var d=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){a=setTimeout(a,this.delay);return new d(a)};d.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)};b.exports=a},function(b,c,a){var d=a(5),g=a(22);b.exports=function(a,b){var c=g(a)?a:{path:a,value:b};a=0;var e=c.path;for(b=e.length;++a<b;)if("object"===
typeof e[a])return new d(function(a){a.onError(Error("Paths must be simple paths"))});var f=this;return new d(function(a){return f.set(c).subscribe(function(b){b=b.json;for(var d=-1,c=e.length;b&&++d<c;)b=b[e[d]];a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}},function(b,c){b.exports=function(a,b){for(var d=-1,c=-1,e=a.length,n=[];++c<e;)for(var m=b(a[c],c,a),k=-1,h=m.length;++k<h;)n[++d]=m[k];return n}},function(b,c,a){var d=a(14),g=Array.isArray,f=a(1);b.exports=function(a){var b=
a;if(f(b)){var b=g(a)?[]:{},c;for(c in a)"\u001e"!==c.charAt(0)&&d(a,c)&&(b[c]=a[c])}return b}},function(b,c,a){var d=a(1);b.exports=function(a){return d(a)&&a.$expires||void 0}},function(b,c,a){var d=a(1);b.exports=function(a,b){a=d(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,c,a){var d=a(36),g=a(41),f=a(40);b.exports=function(a){a=a.$expires;return null!=a&&a!==f&&a!==g&&a<d()}},function(b,c,a){b.exports=function(a){return"$size"===a||"\u001e\u0192alcor_wrapped_value"===a||"\u001e"===
a.charAt(0)}},function(b,c,a){var d=a(0),g=a(17),f=a(7),e=a(59),n=a(1),m=a(2),k=a(3),h=a(65),v=a(60),p=a(6),u=a(63),r=a(15),t=a(62);b.exports=function(a,b,c,w,B,x,F,D,z,A,C){var l,q,y,I,L,S;if(b===c){if(null===c)return b=h(c,void 0,c),a=r(a,-b.$size,z,F),b=v(b,a,w,void 0,x);if(void 0===c)return c;if(y=n(b))if(l=b.$type,null==l)return null==b["\u001e\u0192alcor_parent"]&&v(b,a,w,F,x),b}else if(y=n(b))l=b.$type;if(l!==d){if(I=n(c))q=c.$type;if(y&&!l&&(null==c||I&&!q))return b}else{if(null==c){if(m(b)){p(b,
D,z);return}return b}if(I=n(c))if(q=c.$type,q===d)if(b===c){if(null!=b["\u001e\u0192alcor_parent"])return b}else if(L=b.$timestamp,S=c.$timestamp,!m(b)&&!m(c)&&S<L)return}if(l&&I&&!q)return v(u(b,c,a,w,z,F),a,w,void 0,x);q||!I?(q===g&&k(C)&&(c=C(t(B,w),c)),q&&b===c?null==b["\u001e\u0192alcor_parent"]&&(b=h(b,l,b.value),a=r(a,-b.$size,z,F),b=v(b,a,w,F,x)):(B=!0,(l&&!m(b)||!y)&&(B=!1===e(c)<e(b))&&(l||q)&&k(A)&&(B=!A(b,c,x.slice(0,x.index))),B&&(c=h(c,q,q?c.value:c),A=f(b)-f(c),b=u(b,c,a,w,z,F),a=r(a,
A,z,F),b=v(b,a,w,F,x))),m(b)&&p(b,D,z)):null==b&&(b=v(c,a,w,void 0,x));return b}},function(b,c,a){b.exports=function(a,b){for(var c=a["\u001e\u0192alcor_refs_length"]||0,d=b["\u001e\u0192alcor_refs_length"]||0,g=-1;++g<c;){var m=a["\u001e\u0192alcor_ref"+g];void 0!==m&&(m["\u001e\u0192alcor_context"]=b,b["\u001e\u0192alcor_ref"+(d+g)]=m,a["\u001e\u0192alcor_ref"+g]=void 0)}b["\u001e\u0192alcor_refs_length"]=c+d;a["\u001e\u0192alcor_refs_length"]=void 0;return b}},function(b,c,a){b.exports=function(a){for(var b=
-1,c=a["\u001e\u0192alcor_refs_length"]||0;++b<c;){var d=a["\u001e\u0192alcor_ref"+b];null!=d&&(d["\u001e\u0192alcor_context"]=d["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_ref"+b]=void 0)}a["\u001e\u0192alcor_refs_length"]=void 0;return a}},function(b,c,a){b.exports=function(a){var b=a["\u001e\u0192alcor_context"];if(b){for(var c=(a["\u001e\u0192alcor_ref_index"]||0)-1,d=(b["\u001e\u0192alcor_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192alcor_ref"+c]=b["\u001e\u0192alcor_ref"+(c+1)];b["\u001e\u0192alcor_refs_length"]=
d;a["\u001e\u0192alcor_ref_index"]=a["\u001e\u0192alcor_context"]=void 0}return a}},function(b,c){function a(a){this.esObserver=a}function d(a){this.subscription=a}a.prototype={onNext:function(a){"function"===typeof this.esObserver.next&&this.esObserver.next(a)},onError:function(a){"function"===typeof this.esObserver.error&&this.esObserver.error(a)},onCompleted:function(){"function"===typeof this.esObserver.complete&&this.esObserver.complete()}};d.prototype.unsubscribe=function(){this.subscription.dispose()};
b.exports=function(b){return{subscribe:function(c){return new d(b.subscribe(new a(c)))}}}},function(b,c,a){b.exports=a(67)}])});
//# sourceMappingURL=falcor.min.js.map
