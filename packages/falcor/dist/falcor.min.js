'use strict';(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("falcor",[],d):"object"===typeof exports?exports.falcor=d():b.falcor=d()})(this,function(){return function(b){function d(c){if(a[c])return a[c].exports;var l=a[c]={i:c,l:!1,exports:{}};b[c].call(l.exports,l,l.exports,d);l.l=!0;return l.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,l,e){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,
get:e})};d.n=function(a){var l=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(l,"a",l);return l};d.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)};d.p="";return d(d.s=131)}([function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d){b.exports="ref"},function(b,d){b.exports=function(a){return!!a&&"function"===typeof a}},function(b,d,a){var c=a(34),l=a(39),e=a(38);b.exports=function(a){a=a.$expires;return null!=a&&a!==e&&(a===
l||a<c())}},function(b,d,a){(function(c){function l(a){this._subscribe=a}var e=a(24),f=a(80),k=a(128);l.prototype[f.observable]=function(){return k(this)};l.prototype._toJSONG=function(){return this};l.prototype.progressively=function(){return this};l.prototype.subscribe=l.prototype.forEach=function(a,c,l){var f=a;f&&"object"===typeof f?f.onNext||f.onError||f.onCompleted||(f={onNext:(f.next||e).bind(f),onError:(f.error||e).bind(f),onCompleted:(f.complete||e).bind(f)}):f={onNext:a||e,onError:c||e,
onCompleted:l||e};a=this._subscribe(f);switch(typeof a){case "function":return{dispose:a,unsubscribe:a};case "object":return a||{dispose:e,unsubscribe:e};default:return{dispose:e,unsubscribe:e}}};l.prototype.then=function(a,e){var l=this;l._promise||(l._promise=new c(function(a,e){var c=!1,f=[];l.subscribe(function(a){f[f.length]=a},function(a){c=!0;e(a)},function(){var e=f;1>=f.length&&(e=f[0]);!1===c&&a(e)})}));return l._promise.then(a,e)};b.exports=l}).call(d,a(65))},function(b,d){b.exports="\u30c4"},
function(b,d,a){var c=a(51);b.exports=function(a,e,f){a.\u30c4invalidated||(a.\u30c4invalidated=!0,e.push(a),c(f,a));return a}},function(b,d,a){var c=a(0);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){b.exports={iterateKeySet:a(40),toTree:a(44),toTreeWithUnion:a(76),pathsComplementFromTree:a(74),pathsComplementFromLengthTree:a(73),hasIntersection:a(26),toPaths:a(43),collapse:a(68),optimizePathSets:a(71),pathCount:a(72)}},function(b,d){b.exports=function(a){return null==a||"object"!==
typeof a}},function(b,d){function a(a){var l=Error.call(this,"An exception was thrown when making a request.");l.name="InvalidSourceError";this.stack=l.stack;this.message=l.message;this.innerError=a;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidSourceError";a.is=function(a){return a&&"InvalidSourceError"===a.name};b.exports=a},function(b,d,a){var c=a(48);b.exports=function(a,e){e=void 0===e?a._path:e;var f=a._node;if(!f||void 0===f.\u30c4parent||f.\u30c4invalidated)a._node=
null,0===e.length?f=a._root.cache:a._node=f=c(a._root.cache,e);return f}},function(b,d,a){b.exports=a(5)+"ref"},function(b,d,a){var c=a(12);b.exports=function(a,e){var f=e.\u30c4refsLength||0;e[c+f]=a;e.\u30c4refsLength=f+1;a.\u30c4refIndex=f;a.\u30c4context=e}},function(b,d){function a(){var a=Error.call(this,"`null` is not allowed in branch key positions.");a.name="NullInPathError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name=
"NullInPathError";a.message="`null` is not allowed in branch key positions.";b.exports=a},function(b,d,a){var c=a(5);b.exports=function(a){for(var e,f=Object.keys(a),k={},h=-1,g=f.length;++h<g;)e=f[h],e.charAt(0)!==c&&(k[e]=a[e]);return k}},function(b,d,a){var c=a(38);b.exports=function(a,e){if(e.$expires!==c){var f=a.\u30c4head;if(!f)a.\u30c4head=a.\u30c4tail=e;else if(f!==e){var k=e.\u30c4prev,h=e.\u30c4next;h&&(h.\u30c4prev=k);k&&(k.\u30c4next=h);e.\u30c4prev=void 0;a.\u30c4head=e;e.\u30c4next=
f;f.\u30c4prev=e;e===a.\u30c4tail&&(a.\u30c4tail=k)}}}},function(b,d,a){var c=a(0),l=Object.prototype.hasOwnProperty;b.exports=function(a,f){return c(a)&&l.call(a,f)}},function(b,d,a){var c=a(35),l=a(63);b.exports=function(a,f,k,h){var g=a;do{var p=g.\u30c4parent;0>=(g.$size=(g.$size||0)-f)&&null!=p?c(g,p,g.\u30c4key,k):g.\u30c4version!==h&&l(g,h);g=p}while(g);return a}},function(b,d){b.exports="error"},function(b,d,a){b.exports=a(5)+"version"},function(b,d,a){function c(a,e,f,h,p,k,g,b,q,r,n,P,d,
L,I,C,Q){var D={},G=e<a.length-1,K=a[e],R=m(K,D),M=P.index;do{n.depth=e;var H=l(f,h,p,k,g,b,R,G,!1,n,P,d,L,I,C,Q);n[e]=R;n.index=e;var N=H[0],S=H[1],J=H[4];J[J.index++]=R;N&&(G?c(a,e+1,f,S,N,k,H[3],H[2],q,r,n,J,d,L,I,C,Q):(q.push(n.slice(0,n.index+1)),r.push(J.slice(0,J.index))));R=m(K,D);if(D.done)break;P.index=M}while(1)}function l(a,c,g,b,m,d,v,F,B,w,z,P,O,L,I,C){for(B=g.$type;B===f;){a:{c=a;m=b;B=w;var Q=P,D=O,G=L,K=I,R=C,M=void 0,H=void 0,N=g.value;z=N.slice(0);if(h(g))r(g,D,G),g=void 0,M=c,
H=m,z.index=N.length;else{var S=0,J=g,T=N.length-1,M=g=c,H=d=m;do{var V=N[S],U=S<T;z.index=S;H=l(c,M,g,m,H,d,V,U,!0,B,z,Q,D,G,K,R);g=H[0];z=H[4];if(p(g)){z.index=S;B=H;break a}M=H[1];d=H[2];H=H[3]}while(S++<T);z.index=S;J.\u30c4context!==g&&k(J,g)}e[0]=g;e[1]=M;e[2]=d;e[3]=H;e[4]=z;B=e}g=B[0];if(p(g))return B;c=B[1];d=B[2];m=B[3];z=B[4];B=g.$type}if(void 0===B){if(null==v){if(F)throw new n;g&&(v=g.\u30c4key)}else c=g,m=d,g=c[v],d=m&&m[v];g=q(c,g,d,v,w,z,P,O,L,I,C)}e[0]=g;e[1]=c;e[2]=d;e[3]=m;e[4]=
z;return e}var e=Array(5),f=a(1),k=a(13),h=a(122),g=a(2),p=a(9),r=a(6),m=a(8).iterateKeySet,q=a(124),n=a(14);b.exports=function(a,f,l,h){var k=a._root,p=k.expired,b=k.version++,m=k.cache;a=m.\u30c4version;for(var q=[],r=[],n=[],d=[],O=-1,L=f.length;++O<L;)for(var I=f[O],C=I.paths,I=I.jsonGraph,Q=-1,D=C.length;++Q<D;){var G=C[Q];r.index=0;c(G,0,m,m,m,I,I,I,n,d,q,r,b,p,k,h,l)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;f=m.\u30c4version;l=k.onChange;g(l)&&a!==f&&l();return[n,d]}},function(b,
d,a){var c=a(0);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,l=a(0);b.exports=function(a){return l(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,d){b.exports=function(){}},function(b,d){b.exports="atom"},function(b,d,a){function c(a,k,h,g){if(h===g)return!0;var p,b=-1,m=0,q=h+1,n,t,u;p=k[h];if(null===p)return a===e;a:do{if("object"!==typeof p)h=p,t=void 0,n=!1;else if(l(p)){if(void 0!==u)break a;b=0;u=p;m=p.length;if(0===m)break a;p=u[b];continue a}else{t=
p.to;h=p.from||0;"number"!==typeof t&&(t=h+(p.length||0)-1);if(0>t-h)break a;n=!0}do if(q===g){if(null!==a[h])return!1}else if(p=a[h],null===p||void 0===p||!1===c(p,k,q,g))return!1;while(n&&++h<=t);if(++b===m)break a;p=u[b]}while(1);return!0}var l=Array.isArray,e=a(27);b.exports=c},function(b,d){b.exports={$__null__$:null}},function(b,d,a){b.exports={getWithPathsAsPathMap:a(89),getWithPathsAsJSONGraph:a(94)}},function(b,d){b.exports=function(a,c,l,e){var f=0,k;k=e.jsonGraph;k||(k={},e.jsonGraph=k);
do{e=c[f++];if(f>=l){k=k[e]=a;break}k=k[e]||(k[e]={})}while(1);return k}},function(b,d,a){var c=a(35),l=a(18);b.exports=function(a,f,k,h,g,p){var b=g;"number"!==typeof b&&(b=.75);g="number"===typeof p;var b=h*b,m,q,n;for(q=f.pop();q;)n=q.$size||0,k-=n,!0===g?l(q,n,a,p):(m=q.\u30c4parent)&&c(q,m,q.\u30c4key,a),q=f.pop();if(k>=h){for(q=f=a.\u30c4tail;k>=b&&q;)f=f.\u30c4prev,n=q.$size||0,k-=n,!0===g&&l(q,n,a,p),q=f;a.\u30c4tail=a.\u30c4prev=q;null==q?a.\u30c4head=a.\u30c4next=void 0:q.\u30c4next=void 0}}},
function(b,d,a){function c(a,e,g,k,p,b,q,n,x,y,u,t,d,D){var G;if(m(a)&&!a.$type){G=[];var K=0;f(a)&&(G[K++]="length");for(var R in a)R[0]!==h&&"$"!==R[0]&&r(a,R)&&(G[K++]=R)}else G=void 0;if(G&&G.length){K=0;R=G.length;var M=x.index;do{var H=G[K],N=a[H],S=m(N)&&!N.$type;n.depth=e;var J=l(g,k,p,H,N,S,!1,n,x,y,u,t,d,D);n[e]=H;n.index=e;var T=J[0],V=J[1],J=J[2];J[J.index++]=H;T&&(S?c(N,e+1,g,V,T,b,q,n,J,y,u,t,d,D):(b.push(n.slice(0,n.index+1)),q.push(J.slice(0,J.index))));if(++K>=R)break;x.index=M}while(1)}}
function l(a,c,f,h,p,b,m,n,r,d,I,C,Q,D){for(var G=f.$type;G===k;){a:{c=p;var G=a,K=n,R=d,M=I,H=C,N=Q,S=D,J=void 0,T=f.value;r=T.slice(0);if(q(f))u(f,M,H),f=void 0,J=G,r.index=T.length;else{var V=f;f=f.\u30c4context;if(null!=f)J=f.\u30c4parent||G,r.index=T.length;else{var U=0,X=T.length-1;r.index=U;J=f=G;do{J=l(G,J,f,T[U],c,U<X,!0,K,r,R,M,H,N,S);f=J[0];r=J[2];if(t(f)){r.index=U;G=J;break a}J=J[1]}while(U++<X);r.index=U;V.\u30c4context!==f&&g(V,f)}}e[0]=f;e[1]=J;e[2]=r;G=e}f=G[0];if(t(f))return G;c=
G[1];r=G[2];G=f&&f.$type}if(void 0===G){if(null==h){if(b)throw new y;f&&(h=f.\u30c4key)}else c=f,f=c[h];f=x(c,f,h,p,b,m,n,r,d,I,C,Q,D)}e[0]=f;e[1]=c;e[2]=r;return e}var e=Array(3),f=Array.isArray,k=a(1),h=a(5),g=a(13),p=a(11),r=a(17),m=a(0),q=a(3),n=a(2),t=a(9),u=a(6),x=a(60),y=a(14);b.exports=function(a,f,g,l){var h=a._root,k=h.expired,b=h.version++,m=a._path,q=h.cache,r=p(a),x=r.\u30c4parent||q;a=q.\u30c4version;for(var y=[],u=[],t=[],d=m.length,K=-1,R=f.length;++K<R;){var M=f[K],H=m.slice(0);H.index=
d;c(M.json,0,q,x,r,u,t,y,H,b,k,h,l,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;f=q.\u30c4version;h=h.onChange;n(h)&&a!==f&&h();return[u,t]}},function(b,d,a){function c(a,e,f,g,h,k,p,b,m,r,n,t,d,I,C){var Q={},D=f<e.length-1,G=e[f],K=q(G,Q),R=r.index;do{m.depth=f;m[f]=K;m.index=f;var M=l(g,h,k,K,a,D,!1,m,r,n,t,d,I,C);m[f]=K;m.index=f;var H=M[0],N=M[1],M=M[2];M[M.index++]=K;H&&(D?c(a,e,f+1,g,N,H,p,b,m,M,n,t,d,I,C):(p.push(m.slice(0,m.index+1)),b.push(M.slice(0,M.index))));K=q(G,Q);if(Q.done)break;r.index=
R}while(1)}function l(a,c,h,p,b,q,d,B,w,z,P,O,L,I){for(var C=h.$type;C===f;){a:{c=b;var C=a,Q=B,D=z,G=P,K=O,R=L,M=I,H=void 0,N=h.value;w=N.slice(0);if(g(h))m(h,G,K),h=void 0,H=C,w.index=N.length;else{var S=h;h=h.\u30c4context;if(null!=h)H=h.\u30c4parent||C,w.index=N.length;else{var J=0,T=N.length-1,H=h=C;do{var V=N[J],U=J<T;w.index=J;H=l(C,H,h,V,c,U,!0,Q,w,D,G,K,R,M);h=H[0];w=H[2];if(r(h)){w.index=J;C=H;break a}H=H[1]}while(J++<T);w.index=J;S.\u30c4context!==h&&k(S,h)}}e[0]=h;e[1]=H;e[2]=w;C=e}h=
C[0];if(r(h))return C;c=C[1];w=C[2];C=h.$type}if(!q||void 0===C){if(null==p){if(q)throw new t;h&&(p=h.\u30c4key)}else c=h,h=c[p];h=n(c,h,p,b,q,d,B,w,z,P,O,L,I)}e[0]=h;e[1]=c;e[2]=w;return e}var e=Array(3),f=a(1),k=a(13),h=a(11),g=a(3),p=a(2),r=a(9),m=a(6),q=a(8).iterateKeySet,n=a(60),t=a(14);b.exports=function(a,f,g,l){var k=a._root,b=k.expired,m=k.version++,q=a._path,r=k.cache,n=h(a),t=n.\u30c4parent||r;a=r.\u30c4version;for(var d=[],L=[],I=[],C=q.length,Q=-1,D=f.length;++Q<D;){var G=f[Q],K=G.path,
G=G.value,R=q.slice(0);R.index=C;c(G,K,0,r,t,n,L,I,d,R,m,b,k,l,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;f=r.\u30c4version;k=k.onChange;p(k)&&a!==f&&k();return[L,I]}},function(b,d,a){var c=Array.isArray,l=a(0);b.exports=function(a){return l(a)&&c(a.paths)&&(l(a.jsonGraph)||l(a.jsong)||l(a.json)||l(a.values)||l(a.value))}},function(b,d){b.exports=Date.now},function(b,d,a){var c=a(1),l=a(51),e=a(0),f=a(126),k=a(127);b.exports=function(a,g,p,b){if(e(a)){var m=a.$type;m&&(m===c&&k(a),l(b,a));f(a);g[p]=a.\u30c4parent=
void 0;return!0}return!1}},function(b,d,a){var c=a(17),l=a(5),e=a(35);b.exports=function k(a,g,p,b){if(e(a,g,p,b)){if(null==a.$type)for(var m in a)m[0]!==l&&"$"!==m[0]&&c(a,m)&&k(a[m],a,m,b);return!0}return!1}},function(b,d,a){var c=Array.isArray,l=a(23),e=a(33),f=a(22);b.exports=function(a,h,g){for(var p=0,b=a.length;p<b;++p){var m=a[p],q=!1;c(m)&&h.path?q=!0:l(m)&&h.pathValue?q=!0:e(m)&&h.jsonGraph?q=!0:f(m)&&h.json?q=!0:"function"===typeof m&&p+1===b&&h.selector&&(q=!0);if(!q)return Error("Unrecognized argument "+
typeof m+" ["+String(m)+"] to Model#"+g+"")}return!0}},function(b,d){b.exports=1},function(b,d){b.exports=0},function(b,d){function a(a,c){var f=c.from=a.from||0,k=c.to=a.to||"number"===typeof a.length&&c.from+a.length-1||0;c.rangeOffset=c.from;c.loaded=!0;f>k&&(c.empty=!0)}var c=Array.isArray;b.exports=function(l,e){if(void 0===e.isArray){e.done=!1;var f=e.isObject=!(!l||"object"!==typeof l);e.isArray=f&&c(l);e.arrayOffset=0}if(e.isArray){var k;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=
!1);if(e.arrayOffset>=l.length){e.done=!0;break}f=l[e.arrayOffset];"object"===typeof f?(e.loaded||a(f,e),e.empty||(k=e.rangeOffset++)):(++e.arrayOffset,k=f)}while(void 0===k);return k}if(e.isObject){e.loaded||a(l,e);if(e.rangeOffset>e.to){e.done=!0;return}return e.rangeOffset++}e.done=!0;return l}},function(b,d){b.exports=function(a,c){for(var l=[],e=a.length,f=c||0;f<e;f++)l[f]=a[f];return l}},function(b,d){b.exports={$ref:"ref",$atom:"atom",$error:"error"}},function(b,d,a){function c(a,h,g){var l,
b=f(String(h)),t=Object.create(null),u=[],x=-1,d=0,A=[],E=0,v,F,B,w,z,P;B=[];w=-1;if(h<g-1){for(z=e(a,B);++w<z;)l=B[w],v=c(a[l],h+1,g),F=v.code,t[F]?v=t[F]:(u[d++]=F,v=t[F]={keys:[],sets:v.sets}),b=f(b+l+F),k(l)&&v.keys.push(parseInt(l,10))||v.keys.push(l);for(;++x<d;)if(l=u[x],v=t[l],B=v.keys,z=B.length,0<z)for(a=v.sets,h=-1,g=a.length,w=B[0];++h<g;){l=a[h];v=-1;F=l.length;P=Array(F+1);for(P[0]=1<z&&B||w;++v<F;)P[v+1]=l[v];A[E++]=P}}else for(z=e(a,B),1<z?A[E++]=[B]:A[E++]=B;++w<z;)b=f(b+B[w]);return{code:b,
sets:A}}function l(a,c){return a-c}function e(a,c,f){var e=0;if(a===g)c[e++]=null;else{for(var h in a)c[e++]=h;1<e&&c.sort(f)}return e}function f(a){for(var c=5381,f=-1,e=a.length;++f<e;)c=(c<<5)+c+a.charCodeAt(f);return String(c)}function k(a){return!h(a)&&0<=a-parseFloat(a)+1}var h=Array.isArray,g=a(27);b.exports=function(a){var f,e=[],g=0,b;for(b in a){var t;if(t=k(b))t=f=a[b],t=null!==t&&"object"===typeof t;if(t){t=c(f,0,parseInt(b,10)).sets;for(var u=-1,x=t.length;++u<x;){for(var d=g++,A=t[u],
E=-1,v=A.length;++E<v;){var F=A[E];if(h(F)){var B=A,w=E;a:{for(var z=-1,P=F.length-1,O=0<P;++z<=P;){var L=F[z];if(!k(L)){O=!1;break}F[z]=parseInt(L,10)}if(!0===O&&(F.sort(l),z=F[0],O=F[P],O-z<=P)){F={from:z,to:O};break a}}B[w]=F}}e[d]=A}}}return e}},function(b,d,a){function c(a,k,h,g){if(h===g)return!0;var b,r=-1,m=0,q,n=h+1,t,u,x;b=k[h];if(null===b)return e;a=a||{};a:do{if("object"!==typeof b)h=b,u=void 0,t=!1;else if(l(b)){if(void 0!==x)break a;r=0;x=b;m=b.length;if(0===m)break a;b=x[r];continue a}else{u=
b.to;h=b.from||0;"number"!==typeof u&&(u=h+(b.length||0)-1);if(0>u-h)break a;t=!0}do n===g?a[h]=null:(b=a[h],(q=c(b,k,n,g))?b||(a[h]=q):a[h]=null);while(t&&++h<=u);if(++r===m)break a;b=x[r]}while(1);return a}var l=Array.isArray,e=a(27);b.exports=function(a){return a.reduce(function(a,f){return c(a,f,0,f.length)},{})}},function(b,d){function a(a){a=Error.call(this,"Encountered circular reference "+JSON.stringify(a));a.name="CircularReferenceError";this.stack=a.stack;this.message=a.message;return this}
a.prototype=Object.create(Error.prototype);a.prototype.name="CircularReferenceError";b.exports=a},function(b,d){function a(a,b){var e=Error.call(this,"The KeySet "+JSON.stringify(b)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges");e.name="InvalidKeySetError";this.stack=e.stack;this.message=e.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidKeySetError";a.is=function(a){return a&&"InvalidKeySetError"===a.name};b.exports=
a},function(b,d){function a(){var a=Error.call(this,"The allowed number of retries have been exceeded.");a.name="MaxRetryExceededError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="MaxRetryExceededError";a.is=function(a){return a&&"MaxRetryExceededError"===a.name};b.exports=a},function(b,d,a){function c(a,f){var b=a,h,g=0,p=f.length;do for(b=b[f[g]];b&&(h=b.$type)===l;)b=c(a,b.value);while(++g<p&&b&&!h);return b}var l=a(1);b.exports=
c},function(b,d){var a=Array.isArray;b.exports=function(c,b,e,f,k,h,g){for(var p,r=-1,m=k-b,q=m&&Array(m)||void 0;++r<m;){p=c[r+b];var n;n=p;if("object"!==typeof n||null===n)n=!1;else if(a(n))n=0===n.length;else{var t=n.to,u=n.from||0;"number"!==typeof t&&(t=u+(n.length||0));n=u>=t}if(n)return;q[r]=p}c=null===p;t=b;b=k;r=f;f=e.requestedMissingPaths||(e.requestedMissingPaths=[]);p=!0;do{if(m<k||!p){n=-1;u=t;for(t=Array(b);++n<u;)t[n]=r[n];for(r=-1;n<b;)t[n++]=q[++r];f.push(t)}else f.push(q);if(p=!p)break;
t=g;b=g+m-Number(c);r=h;f=e.optimizedMissingPaths||(e.optimizedMissingPaths=[])}while(1)}},function(b,d,a){var c=a(25),l=a(16),e=a(3),f=a(6);b.exports=function(a,b,g,p,r,m,q,n,t,u,x,d,A,E,v,F,B,w,z){if(!a||!b){if(v&&!F){if(r)return m.hasValue=!0,{$type:c};return}return z(g,p,m,q,n,t,u)}if(e(a))return a.\u30c4invalidated||f(a,A,d),z(g,p,m,q,n,t,u);l(d,a);if(r)return x&&(q[p]=null),w(a,b,p,r,m,q,t,u,x,E,v,B)}},function(b,d){b.exports=function(a,c){var b=c.\u30c4prev,e=c.\u30c4next;e&&(e.\u30c4prev=
b);b&&(b.\u30c4next=e);c.\u30c4prev=c.\u30c4next=void 0;c===a.\u30c4head&&(a.\u30c4head=e);c===a.\u30c4tail&&(a.\u30c4tail=b)}},function(b,d){b.exports={GetRequest:"GET"}},function(b,d){var a=function(a){this.disposed=!1;this.currentDisposable=a};a.prototype={unsubscribe:function(){return this.dispose()},dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var a=this.currentDisposable;this.currentDisposable=null;a.dispose?a.dispose():a.unsubscribe?a.unsubscribe():"function"===
typeof a&&a()}}};b.exports=a},function(b,d,a){d=a(4);var c=a(55),l=a(108),e=a(24),f={dispose:e,unsubscribe:e},k=a(30),h=a(7),g=a(20),p=a(2),r=b.exports=function(a,c,f,e,b,h){this.model=a;this.currentRemainingPaths=c;this.isJSONGraph=f||!1;this.isProgressive=e||!1;this.forceCollect=b||!1;c=a._root.cache[g];this.initialCacheVersion="number"===typeof h?h:"number"===typeof c?c:a._root.version};r.prototype=Object.create(d.prototype);r.prototype._toJSONG=function(){return new r(this.model,this.currentRemainingPaths,
!0,this.isProgressive,this.forceCollect,this.initialCacheVersion)};r.prototype.progressively=function(){return new r(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect,this.initialCacheVersion)};r.prototype._subscribe=function(a){var e=[],b=this.model,r=a.isJSONG=this.isJSONGraph,r=c(b,this.currentRemainingPaths,a,this.isProgressive,r,[{}],e);return r?l(this,b,r,a,e,1,this.initialCacheVersion):(a=b._root,r=a.cache,e=r[g],this.forceCollect&&k(a,a.expired,h(r),b._maxSize,b._collectRatio,
e),b=a.onChangesCompleted,this.initialCacheVersion!==e&&0>=a.syncRefCount&&p(b)&&b.call(a.topLevelModel),f)}},function(b,d,a){d=a(28);var c=a(110),l=a(8).collapse,e=d.getWithPathsAsPathMap,f=d.getWithPathsAsJSONGraph;b.exports=function(a,b,g,p,r,m,q){var n,d=p&&!r&&m;d&&(n=m[0],m[0]={});b=r?f(a,b,m):e(a,b,m);if(b.criticalError)return g.onError(b.criticalError),null;m=b.hasValue;var u=b.values[0],x=!(!u.json&&!u.jsonGraph),y=!b.requestedMissingPaths||!b.requestedMissingPaths.length||!a._source;if(b.errors)for(var A=
b.errors,E=q.length,v=0,F=A.length;v<F;++v,++E)q[E]=A[v];d&&n&&(u=c(u,n));if(m&&p||x&&y)try{if(r&&u){var B=u.paths;B&&0<B.length&&(u.paths=l(B))}++a._root.syncRefCount;g.onNext(u)}catch(w){throw w;}finally{--a._root.syncRefCount}if(y){if(q.length)g.onError(q);else g.onCompleted();return null}return b}},function(b,d){b.exports={path:!0,pathSyntax:!0}},function(b,d,a){d=a(4);var c=Array.isArray,l=a(23),e=a(33),f=a(22),k=a(113),h=a(20),g=b.exports=function(a,b,g,k,n){this._model=a;this._isJSONGraph=
g||!1;this._isProgressive=k||!1;this._initialArgs=b;this._value=[{}];g=a._root.cache[h];this.initialCacheVersion="number"===typeof n?n:"number"===typeof g?g:a._root.version;a=[];var d,u;n=-1;for(g=b.length;++n<g;){k=b[n];var x;c(k)?x="PathValues":l(k)?x="PathValues":e(k)?x="JSONGs":f(k)&&(x="PathMaps");u!==x&&(u=x,d={inputType:x,arguments:[]},a.push(d));d.arguments.push(k)}this._groups=a};g.prototype=Object.create(d.prototype);g.prototype._subscribe=function(a){return k(this._model,a,this._groups,
this._isJSONGraph,this._isProgressive,0,this.initialCacheVersion)};g.prototype._toJSONG=function(){return new g(this._model,this._initialArgs,!0,this._isProgressive,this.initialCacheVersion)};g.prototype.progressively=function(){return new g(this._model,this._initialArgs,this._isJSONGraph,!0,this.initialCacheVersion)}},function(b,d,a){var c=a(0);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d){b.exports=function(a,c,b,e,f){a.\u30c4key=b;a.\u30c4parent=c;void 0!==e&&(a.\u30c4version=
e);a.\u30c4absolutePath||(a.\u30c4absolutePath=f.slice(0,f.index).concat(b));return c[b]=a}},function(b,d,a){var c=a(1),l=a(19),e=a(121),f=a(7),k=a(58),h=a(3),g=a(9),p=a(2),r=a(64),m=a(6),q=a(59),n=a(62),t=a(18),u=a(61);b.exports=function(a,b,d,E,v,F,B,w,z,P,O,L,I){var C=e(b,F);if(v||F){if(C&&h(b)&&(C="expired",m(b,P,O)),C&&C!==c||g(b))b=n(b,{},a,d,O,z),b=q(b,a,d,z,w)}else v=e(E),F=!1===k(E)<k(b),(C||v)&&p(L)&&(F=!L(b,E,w.slice(0,w.index))),F&&(v===l&&p(I)&&(E=I(u(B,d),E)),E=r(E,v,v?E.value:E),B=
f(b)-f(E),b=n(b,E,a,d,O,z),a=t(a,B,O,z),b=q(b,a,d,z,w));return b}},function(b,d){b.exports=function(a,b){var l=a.slice(0,a.depth);l[l.length]=b;return l}},function(b,d,a){var c=a(0),l=a(125),e=a(36),f=a(63);b.exports=function(a,b,g,p,r,m){if(a===b)return a;c(a)&&(l(a,b),e(a,g,p,r),f(b,m));return g[p]=b}},function(b,d,a){var c=a(12);b.exports=function(a,b){var f=[a],k=0;do{var h=f[k];if(h&&h.\u30c4version!==b){h.\u30c4version=b;f[k++]=h.\u30c4parent;for(var g=-1,p=h.\u30c4refsLength||0;++g<p;)f[k++]=
h[c+g]}}while(-1<--k);return a}},function(b,d,a){var c=a(34),l=a(39),e=a(119),f=Array.isArray,k=a(7),h=a(120),g=a(25);b.exports=function(a,b,m){var d=0;if(b){var n=a.\u30c4modelCreated;a=e(a);d=k(a);a.$type=b;a.\u30c4prev=void 0;a.\u30c4next=void 0;a.\u30c4modelCreated=n||!1}else a={$type:g,value:m,"\u30c4prev":void 0,"\u30c4next":void 0,"\u30c4modelCreated":!0};if(null==m)d=51;else if(null==d||0>=d)switch(typeof m){case "object":d=f(m)?50+m.length:51;break;case "string":d=50+m.length;break;default:d=
51}b=h(a);"number"===typeof b&&b<l&&(a.$expires=c()+-1*b);a.$size=d;return a}},function(b,d,a){(function(c,l,e){(function(a,c){b.exports=c()})(this,function(){function b(){return function(){return c.nextTick(d)}}function l(){return function(){H(d)}}function h(){var a=0,b=new T(d),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function g(){var a=new MessageChannel;a.port1.onmessage=d;return function(){return a.port2.postMessage(0)}}function p(){var a=
setTimeout;return function(){return a(d,1)}}function d(){for(var a=0;a<M;a+=2)(0,U[a])(U[a+1]),U[a]=void 0,U[a+1]=void 0;M=0}function m(){try{var b=a(130);H=b.runOnLoop||b.runOnContext;return l()}catch(c){return p()}}function q(a,b){var c=arguments,f=this,e=new this.constructor(t);void 0===e[Y]&&C(e);var g=f._state;g?function(){var a=c[g-1];S(function(){return L(g,e,a,f._result)})}():z(f,e,a,b);return e}function n(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(t);v(b,a);
return b}function t(){}function u(a){try{return a.then}catch(b){return ba.error=b,ba}}function x(a,b,c,f){try{a.call(b,c,f)}catch(e){return e}}function y(a,b,c){S(function(a){var f=!1,e=x(c,b,function(c){f||(f=!0,b!==c?v(a,c):B(a,c))},function(b){f||(f=!0,w(a,b))},"Settle: "+(a._label||" unknown promise"));!f&&e&&(f=!0,w(a,e))},a)}function A(a,b){b._state===Z?B(a,b._result):b._state===aa?w(a,b._result):z(b,void 0,function(b){return v(a,b)},function(b){return w(a,b)})}function E(a,b,c){b.constructor===
a.constructor&&c===q&&b.constructor.resolve===n?A(a,b):c===ba?w(a,ba.error):void 0===c?B(a,b):"function"===typeof c?y(a,b,c):B(a,b)}function v(a,b){a===b?w(a,new TypeError("You cannot resolve a promise with itself")):"function"===typeof b||"object"===typeof b&&null!==b?E(a,b,u(b)):B(a,b)}function F(a){a._onerror&&a._onerror(a._result);P(a)}function B(a,b){a._state===W&&(a._result=b,a._state=Z,0!==a._subscribers.length&&S(P,a))}function w(a,b){a._state===W&&(a._state=aa,a._result=b,S(F,a))}function z(a,
b,c,f){var e=a._subscribers,g=e.length;a._onerror=null;e[g]=b;e[g+Z]=c;e[g+aa]=f;0===g&&a._state&&S(P,a)}function P(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var f=void 0,e=void 0,g=a._result,h=0;h<b.length;h+=3)f=b[h],e=b[h+c],f?L(c,f,e,g):e(g);a._subscribers.length=0}}function O(){this.error=null}function L(a,b,c,f){var e="function"===typeof c,g=void 0,h=void 0,l=void 0,k=void 0;if(e){try{g=c(f)}catch(p){ca.error=p,g=ca}g===ca?(k=!0,h=g.error,g=null):l=!0;if(b===g){w(b,new TypeError("A promises callback cannot return that same promise."));
return}}else g=f,l=!0;b._state===W&&(e&&l?v(b,g):k?w(b,h):a===Z?B(b,g):a===aa&&w(b,g))}function I(a,b){try{b(function(b){v(a,b)},function(b){w(a,b)})}catch(c){w(a,c)}}function C(a){a[Y]=da++;a._state=void 0;a._result=void 0;a._subscribers=[]}function Q(a,b){this._instanceConstructor=a;this.promise=new a(t);this.promise[Y]||C(this.promise);R(b)?(this._input=b,this._remaining=this.length=b.length,this._result=Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||
0,this._enumerate(),0===this._remaining&&B(this.promise,this._result))):w(this.promise,Error("Array Methods must be provided an Array"))}function D(a){this[Y]=da++;this._result=this._state=void 0;this._subscribers=[];if(t!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof D)I(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}function G(){var a=void 0;if("undefined"!==typeof e)a=e;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(b){throw Error("polyfill failed because global object is unavailable in this environment");}var c=a.Promise;if(c){var f=null;try{f=Object.prototype.toString.call(c.resolve())}catch(b){}if("[object Promise]"===f&&!c.cast)return}a.Promise=D}var K=void 0,R=K=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},M=0,
H=void 0,N=void 0,S=function(a,b){U[M]=a;U[M+1]=b;M+=2;2===M&&(N?N(d):X())},J=(K="undefined"!==typeof window?window:void 0)||{},T=J.MutationObserver||J.WebKitMutationObserver,J="undefined"===typeof self&&"undefined"!==typeof c&&"[object process]"==={}.toString.call(c),V="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,U=Array(1E3),X=void 0,X=J?b():T?h():V?g():void 0===K?m():p(),Y=Math.random().toString(36).substring(16),W=void 0,Z=1,aa=
2,ba=new O,ca=new O,da=0;Q.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===W&&c<a;c++)this._eachEntry(b[c],c)};Q.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,f=c.resolve;f===n?(f=u(a),f===q&&a._state!==W?this._settledAt(a._state,b,a._result):"function"!==typeof f?(this._remaining--,this._result[b]=a):c===D?(c=new c(t),E(c,a,f),this._willSettleAt(c,b)):this._willSettleAt(new c(function(b){return b(a)}),b)):this._willSettleAt(f(a),b)};Q.prototype._settledAt=
function(a,b,c){var f=this.promise;f._state===W&&(this._remaining--,a===aa?w(f,c):this._result[b]=c);0===this._remaining&&B(f,this._result)};Q.prototype._willSettleAt=function(a,b){var c=this;z(a,void 0,function(a){return c._settledAt(Z,b,a)},function(a){return c._settledAt(aa,b,a)})};D.all=function(a){return(new Q(this,a)).promise};D.race=function(a){var b=this;return R(a)?new b(function(c,f){for(var e=a.length,g=0;g<e;g++)b.resolve(a[g]).then(c,f)}):new b(function(a,b){return b(new TypeError("You must pass an array to race."))})};
D.resolve=n;D.reject=function(a){var b=new this(t);w(b,a);return b};D._setScheduler=function(a){N=a};D._setAsap=function(a){S=a};D._asap=S;D.prototype={constructor:D,then:q,"catch":function(a){return this.then(null,a)}};G();D.polyfill=G;return D.Promise=D})}).call(d,a(129),a(65),a(66))},function(b,d){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(c){"object"===typeof window&&(a=window)}b.exports=a},function(b,d,a){function c(a){return new l(a)}var l=a(77);
c.Model=l;b.exports=c},function(b,d,a){var c=a(43),l=a(44);b.exports=function(a){var b=a.reduce(function(a,b){var c=b.length;a[c]||(a[c]=[]);a[c].push(b);return a},{});Object.keys(b).forEach(function(a){b[a]=l(b[a])});return c(b)}},function(b,d){b.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},function(b,d,a){var c=a(41),l=a(42).$ref,e=a(69);b.exports=function(a,b,h){for(var g=
a,p=-1,d=b.length,m,q=0;++p<d;){m=b[p];m=(g=g[m])&&g.$type;if(!g||m&&m!==l)break;if(m&&m===l&&p+1<d)throw a=Error(e.innerReferences),a.throwToNext=!0,a;if(p+1===d&&(m===l&&(p=-1,b=g.value,d=b.length,g=a,q++),q>h))throw Error(e.circularReference);}return[g,c(b)]}},function(b,d,a){function c(a,b,d,m,q,n,t){if(void 0===a)q[q.length]=f(n,d,m);else if(!(null===a||a.$type&&a.$type!==k||"object"!==typeof a||a.$type===k&&m===d.length)){var u=d[m];m+=1;var x=!1,y=u;"object"===typeof u&&(x={},y=l(u,x));var A,
E;do{A=a[y];var v=n.length;null!==y&&(n[v]=y);A&&A.$type===k&&m<d.length?(E=h(b,A.value,t),A=E[0],E=e(E[1])):E=n;c(A,b,d,m,q,E,t);n.length=v;x&&!x.done&&(y=l(u,x))}while(x&&!x.done)}}var l=a(40),e=a(41),f=a(75),k=a(42).$ref,h=a(70);b.exports=function(a,b,f){var e=[];b.forEach(function(b){c(a,a,b,0,e,[],f)});return e}},function(b,d){function a(a){if(null==a)return 1;if(Array.isArray(a))throw Error("Unexpected Array found in keySet: "+JSON.stringify(a));if("object"===typeof a){var b=a.to,e=a.length;
if(null!=b){if(isNaN(b)||parseInt(b,10)!==b)throw Error("Invalid range, 'to' is not an integer: "+JSON.stringify(a));e=a.from||0;if(isNaN(e)||parseInt(e,10)!==e)throw Error("Invalid range, 'from' is not an integer: "+JSON.stringify(a));a=e<=b?b-e+1:0}else if(null!=e){if(isNaN(e)||parseInt(e,10)!==e)throw Error("Invalid range, 'length' is not an integer: "+JSON.stringify(a));a=e}else throw Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(a));return a}return 1}b.exports=function(b){if(0===
b.length)throw Error("All paths must have length larger than zero.");for(var l=1,e=0;e<b.length;e++){var f=b[e];if(Array.isArray(f)){for(var k=0,h=0;h<f.length;h++)k+=a(f[h]);l*=k}else l*=a(f)}return l}},function(b,d,a){var c=a(26);b.exports=function(a,b){for(var f=[],k=-1,h=0,g=a.length;h<g;++h){var p=a[h];c(b[p.length],p,0,p.length)||(f[++k]=p)}return f}},function(b,d,a){var c=a(26);b.exports=function(a,b){for(var f=[],k=-1,h=0,g=a.length;h<g;++h)c(b,a[h],0,a[h].length)||(f[++k]=a[h]);return f}},
function(b,d){b.exports=function(a,b,l){var e=[],f,k;f=0;for(k=a.length;f<k;++f)e[f]=a[f];a=l||0;for(k=b.length;a<k;++a,++f)e[f]=b[a];return e}},function(b,d){},function(b,d,a){function c(a){a=a||{};this._root=a._root||new l(a,this);this._path=a.path||a._path||[];this._source=a.source||a._source;this._request=a.request||a._request||new f(this,a.scheduler||new r);this._maxSize="number"===typeof a.maxSize?a.maxSize:a._maxSize||c.prototype._maxSize;this._collectRatio="number"===typeof a.collectRatio?
a.collectRatio:a._collectRatio||c.prototype._collectRatio;if(a.boxed||a.hasOwnProperty("_boxed"))this._boxed=a.boxed||a._boxed;if(a.materialized||a.hasOwnProperty("_materialized"))this._materialized=a.materialized||a._materialized;"boolean"===typeof a.treatErrorsAsValues?this._treatErrorsAsValues=a.treatErrorsAsValues:a.hasOwnProperty("_treatErrorsAsValues")&&(this._treatErrorsAsValues=a._treatErrorsAsValues);this._allowFromWhenceYouCame=a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&
this.setCache(a.cache)}var l=a(79),e=a(78),f=a(102),k=a(4),h=a(106),g=a(107),p=a(116),r=a(115),m=a(30),q=a(7),n=a(0),t=a(2),u=a(9),x=a(22),y=a(33),A=a(31),E=a(21),v=a(37),F=function(){},B=a(86),w=a(28),z=a(56);b.exports=c;c.prototype.constructor=c;c.prototype._materialized=!1;c.prototype._boxed=!1;c.prototype._progressive=!1;c.prototype._treatErrorsAsValues=!1;c.prototype._maxSize=Math.pow(2,53)-1;c.prototype._collectRatio=.75;c.prototype.get=a(109);c.prototype.set=a(111);c.prototype.preload=function(){var a=
v(arguments,z,"preload");if(!0!==a)return new k(function(b){b.onError(a)});var b=Array.prototype.slice.call(arguments),c=this;return new k(function(a){return c.get.apply(c,b).subscribe(function(){},function(b){a.onError(b)},function(){a.onCompleted()})})};c.prototype.call=function(){var a,b=-1,c=arguments.length;for(a=Array(c);++b<c;){var f=arguments[b];a[b]=f;var e=typeof f;if(1<b&&!Array.isArray(f)||0===b&&!Array.isArray(f)&&"string"!==e||1===b&&!Array.isArray(f)&&!u(f))return new k(function(a){a.onError(Error("Invalid argument"))})}return new h(this,
a[0],a[1],a[2],a[3])};c.prototype.invalidate=function(){var a,b=-1,c=arguments.length;for(a=[];++b<c;)if(a[b]=arguments[b],!Array.isArray(a[b]))throw Error("Invalid argument");(new g(this,a)).subscribe(F,function(a){throw a;})};c.prototype.deref=a(82);c.prototype._hasValidParentReference=a(81);c.prototype.getValue=a(87);c.prototype.setValue=a(117);c.prototype.setCache=function(a){var b=this._root.cache;if(a!==b){var c=this._root,f=this._path;this._path=[];this._root.cache={};"undefined"!==typeof b&&
m(c,c.expired,q(b),0);var e;y(a)?e=E(this,[a])[0]:x(a)?e=A(this,[a])[0]:n(a)&&(e=A(this,[{json:a}])[0]);e&&w.getWithPathsAsPathMap(this,e,[]);this._path=f}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];if(0===b.length)return B(this._root.cache);var c=[{}],f=this._path;w.getWithPathsAsJSONGraph(this,b,c);this._path=f;return c[0].jsonGraph};c.prototype.getVersion=function(a){a=void 0===a?[]:
a;if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._syncCheck=function(a){if(this._source&&0>=this._root.syncRefCount&&!1===this._root.unsafeMode)throw Error("Model#"+a+" may only be called within the context of a request selector.");return!0};c.prototype._clone=function(a){var b=new c(this),f;for(f in a){var e=a[f];"delete"===e?delete b[f]:b[f]=e}0<b._path.length&&(b.setCache=
void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new p(Math.round(Math.abs(a))):a?t(a.schedule)?b=a:t(a)&&(b={scheudle:a}):b=new p(1);a=this._clone();a._request=new f(a,b);return a};c.prototype.unbatch=function(){var a=this._clone();a._request=new f(a,new r);return a};c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new e(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};
c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.toJSON=function(){return{$type:"ref",value:this._path}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===
a?!0:a})};c.prototype._getVersion=a(88);c.prototype._getPathValuesAsPathMap=w.getWithPathsAsPathMap;c.prototype._getPathValuesAsJSONG=w.getWithPathsAsJSONGraph;c.prototype._setPathValues=a(32);c.prototype._setPathMaps=a(31);c.prototype._setJSONGs=a(21);c.prototype._setCache=a(31);c.prototype._invalidatePathValues=a(100);c.prototype._invalidatePathMaps=a(99)},function(b,d){function a(a){this._model=a._materialize().boxValues().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,
a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,f){a=[a,b,e].concat(f);return this._model.call.apply(this._model,a)._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){var c=a||{};this.syncRefCount=this.version=0;this.expired=c.expired||[];this.unsafeMode=c.unsafeMode||!1;this.cache={};this.topLevelModel=b;e(c.comparator)&&(this.comparator=c.comparator);!0===c.JSONWithHashCodes?this.branchSelector=f:e(c.branchSelector)&&(this.branchSelector=
c.branchSelector);e(c.errorSelector)&&(this.errorSelector=c.errorSelector);e(c.branchSelector)&&(this.branchSelector=c.branchSelector);e(c.onChange)&&(this.onChange=c.onChange);e(c.onChangesCompleted)&&(this.onChangesCompleted=c.onChangesCompleted)}var l=a(17),e=a(2),f=a(98);c.prototype.errorSelector=function(a,b){return b};c.prototype.comparator=function(a,b){return l(a,"value")&&l(b,"value")?a.value===b.value&&a.$type===b.$type&&a.$expires===b.$expires:a===b};b.exports=c},function(b,d,a){(function(a){function l(a){a.Symbol||
(a.Symbol=function(a){return"@@Symbol("+a+"):"+h++ +"}"});return a.Symbol}function e(a){return"@@"+a}var f={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},k=f[typeof self]&&self||f[typeof window]&&window;a=f[typeof a]&&a;!a||a.global!==a&&a.window!==a||(k=a);var h=0;b.exports=function(a){a=l(a);a.observable||(a.observable="function"===typeof a.for?a.for("observable"):"@@observable");a.for||(a["for"]=e);return a}(k)}).call(d,a(66))},function(b,d){b.exports=function(){var a=
this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a.\u30c4parent||a&&a.\u30c4invalidated?!1:!0:!0}},function(b,d,a){var c=a(1),l=a(48),e=a(84);b.exports=function(a){var b,h,g,p=a&&a.$__path,d=a&&a.$__refPath;h=a&&a.$__toReference;if(p){var m=this._root.cache,q=l(m,p),n="e";if(0===p.length)return this._clone({_path:p,_referenceContainer:!0});if(h){n=!1;a=-1;g=h.length;for(b=m;++a<g&&(b=b[h[a]],b&&!b.$type););if(d&&b&&b.$type===c){a=0;g=d.length;h=b.value;for(n=
!0;n&&a<g;++a)h[a]!==d[a]&&(n=!1);!1===n&&(q=void 0)}}n?"e"===n&&(b=!0):b=!1;return this._clone({_node:q,_path:p,_referenceContainer:b})}throw new e;}},function(b,d){function a(){var a=Error.call(this,"It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");a.name=this.name;this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="BoundJSONGraphModelError";a.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.";
b.exports=a},function(b,d){function a(){var a=Error.call(this,"Deref can only be used with a non-primitive object from get, set, or call.");a.name="InvalidDerefInputError";this.stack=a.stack;this.message=a.message;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidDerefInputError";a.message="Deref can only be used with a non-primitive object from get, set, or call.";b.exports=a},function(b,d){function a(a,b){var e=Error.call(this,"The boundPath of the model is not valid since a value or error was found before the path end.");
e.name="InvalidModelError";this.stack=e.stack;this.message=e.message;this.boundPath=a;this.shortedPath=b;return this}a.prototype=Object.create(Error.prototype);a.prototype.name="InvalidModelError";a.message="The boundPath of the model is not valid since a value or error was found before the path end.";b.exports=a},function(b,d,a){function c(a,b,k){Object.keys(a).filter(function(b){return!l(b)&&void 0!==a[b]}).forEach(function(h){var g=a[h],k=b[h];k||(k=b[h]={});if(g.$type){k=!g.\u30c4modelCreated;
if(g.value&&"object"===typeof g.value||k){var k={},d=Object.keys(g),m,q,n;q=0;for(n=d.length;q<n;q++)m=d[q],l(m)||(k[m]=g[m]);g=k}else g=g.value;b[h]=g}else c(g,k,h)})}var l=a(123);b.exports=function(a){var b={};c(a,b);return b}},function(b,d,a){var c=a(4);b.exports=function(a){for(var b=0,f=a.length;++b<f;)if("object"===typeof a[b])return new c(function(a){a.onError(Error("Paths must be simple paths"))});var k=this;return new c(function(b){return k.get(a).subscribe(function(c){c=c.json;for(var f=
-1,e=a.length;c&&++f<e;)c=c[a[f]];b.onNext(c)},function(a){b.onError(a)},function(){b.onCompleted()})})}},function(b,d,a){var c=a(11);b.exports=function(a,b){var f=c(a,b),f=f&&f.\u30c4version;return null==f?-1:f}},function(b,d,a){var c=a(93),l=a(11),e=a(85);b.exports=function(a,b,h){var g,d,r=a._path,m=a._root,q=m.cache,n,t=r.length;if(t){if((g=l(a))&&g.$type)return{criticalError:new e(r,r)};n=[];for(d=0;d<t;++d)n[d]=r[d];d=a._referenceContainer}else g=q,n=[];var r=[],u=a._boxed,x=m.expired,y=a._materialized,
A=!!a._source,E=m.branchSelector,v=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;for(var F=h[0],B=F&&F.json,w={values:h},z,P=-1,O=b.length;++P<O;)z=b[P],h=z.length,B=c(q,g,B,z,0,F,w,r,h,n,t,!1,d,m,x,E,u,y,A,v,a);w.hasValue&&(F.json=B);return w}},function(b,d,a){var c=Array(3),l=a(1),e=a(16),f=a(3),k=a(13),h=a(45);b.exports=function(a,b,d){e(d,b);var m,q,n=0,t=a,u=b.value,x=u,y=u.length;do{if(0===n&&void 0!==(m=b.\u30c4context))t=m,n=y;else if(q=u[n++],void 0===(t=t[q]))break;if(n===y){q=t.$type;
if(void 0!==q&&f(t))break;else{if(t===b)throw new h(u);t!==m&&k(b,t)}if(q===l)e(d,t),n=0,b=t,t=a,u=x=b.value,y=u.length;else break}else if(void 0!==t.$type)break}while(1);n<y&&void 0!==t&&(y=n);n=-1;for(u=Array(y);++n<y;)u[n]=x[n];c[0]=t;c[1]=u;c[2]=b;return c}},function(b,d,a){var c=a(15);b.exports=function(a,b,f,k,h,g){var d=-1;b+=!!h;h=Array(b);for(a=g?c(a):a.value;++d<b;)h[d]=k[d];(f.errors||(f.errors=[])).push({path:h,value:a})}},function(b,d,a){var c=a(15),l=a(91),e=a(25),f=a(19);b.exports=
function(a,b,g,d,r,m,q,n,t,u,x,y){if(f===b&&!y)return l(a,g,r,m,t,u);g=a&&a.value;if(b&&void 0===g){if(x)return r.hasValue=!0,{$type:e}}else return r.hasValue=!0,u?c(a):g}},function(b,d,a){function c(a,b,d,u,x,y,A,E,v,F,B,w,z,P,O,L,I,C,Q,D,G){var K,R;if(void 0===b||(K=b.$type)||x===v)return h(b,K,u,x,y,A,E,v,F,B,w,P,O,I,C,Q,D,f,k);var M,H,N=x+1,S,J,T,V,U=-1,X=0,Y,W,Z=B+1;w=u[x];if(null===w){if(N<v)throw new r;return d}a:do{if("object"!==typeof w)K=w,S=void 0,H=!1;else if(l(w)){if(void 0!==J)throw new m(u,
J);U=0;J=w;X=w.length;if(0===X)break a;w=J[U];continue a}else{S=w.to;K=w.from||0;"number"!==typeof S&&(S=K+(w.length||0)-1);if(0>S-K)break a;H=!0}do w=!1,T=d&&d[K],W=F,Y=Z,V=z,M=b[K],E[x]=K,F[B]=K,M&&N<v&&M.$type===e&&!g(M)&&(R=p(a,M,P),M=R[0],w=!0,W=R[1],V=R[2],Y=W.length,R[0]=R[1]=R[2]=void 0),T=c(a,M,T,u,N,y,A,E,v,W,Y,w,V,P,O,L,I,C,Q,D,G),void 0!==T&&(void 0===d&&(L?d=L(b.\u30c4key,b.\u30c4absolutePath,b.\u30c4version,u,x,G&&z&&z.value||void 0,G&&z&&z.\u30c4absolutePath||void 0):(d={},0<x&&(d.$__path=
b.\u30c4absolutePath),G&&z&&(d.$__refPath=z.value,d.$__toReference=z.\u30c4absolutePath))),d[K]=T);while(H&&++K<=S);if(++U===X)break a;w=J[U]}while(1);return d}var l=Array.isArray,e=a(1),f=a(92),k=a(49),h=a(50),g=a(3),p=a(90),r=a(14),m=a(46);b.exports=c},function(b,d,a){var c=a(97),l=a(83);b.exports=function(a,b,d){var h,g,p=a._root,r,m,q=a._path.length;if(q)return{criticalError:new l};m=[];g=h=p.cache;r=[];var n=a._boxed,t=p.expired,u=a._materialized,x=!!a._source;a=a._treatErrorsAsValues;for(var y=
d[0],A={values:d},E,v=-1,F=b.length;++v<F;)E=b[v],d=E.length,c(g,h,E,0,y,A,r,d,m,q,!1,p,t,n,u,x,a);return A}},function(b,d,a){var c=Array(2),l=a(15),e=a(1),f=a(29),k=a(16),h=a(3),g=a(13),p=a(45);b.exports=function(a,b,d,n,t,u){k(d,b);var x,y;t=0;u=a;var A=b.value,E=A,v=A.length;do{if(0===t&&void 0!==(x=b.\u30c4context))u=x,t=v;else if(y=A[t++],void 0===(u=u[y]))break;if(t===v){y=u.$type;if(void 0!==y&&h(u))break;else{if(u===b)throw new p(A);u!==x&&g(b,u)}if(y===e)k(d,u),f(l(u),A,v,n),t=0,b=u,u=a,
A=E=b.value,v=A.length;else break}else if(void 0!==u.$type)break}while(1);t<v&&void 0!==u&&(v=t);t=-1;for(A=Array(v);++t<v;)A[t]=E[t];c[0]=u;c[1]=A;return c}},function(b,d,a){var c=a(15),l=a(1),e=a(25),f=a(19),k=a(29);b.exports=function(a,b,d,r,m,q,n,t,u,x,y){var A=a&&a.value;if(b&&void 0===A)if(y)A={$type:e};else return;else if(x||l===b||f===b||!a.\u30c4modelCreated||"object"===typeof A)A=c(a);m&&q&&(m.hasValue=!0,k(A,n,t,r,x,y),(r.paths||(r.paths=[])).push(q.slice(0,d+!!u)));return A}},function(b,
d,a){function c(a,b,d,y,A,E,v,F,B,w,z,P,O,L,I,C,Q){var D,G;if(void 0===b||(D=b.$type)||y===F)return p(b,D,d,y,A,E,v,F,B,w,z,P,O,L,I,C,Q,k,h);var K,R,M=y+1,H,N,S=-1,J=0,T,V,U=w+1;z=d[y];if(null===z){if(M<F)throw new q;}else{a:do{if("object"!==typeof z)D=z,H=void 0,R=!1;else if(l(z)){if(void 0!==N)throw new n(d,N);S=0;N=z;J=z.length;if(0===J)break a;z=N[S];continue a}else{H=z.to;D=z.from||0;"number"!==typeof H&&(H=D+(z.length||0)-1);if(0>H-D)break a;R=!0}do z=!1,V=B,T=U,K=b[D],v[y]=D,B[w]=D,K&&M<F&&
K.$type===f&&!r(K)&&(g(e(K),B,T,A),G=m(a,K,P,A,L,I),K=G[0],z=!0,V=G[1],T=V.length,G[0]=G[1]=void 0),c(a,K,d,M,A,E,v,F,V,T,z,P,O,L,I,C,Q);while(R&&++D<=H);if(++S===J)break a;z=N[S]}while(1)}}var l=Array.isArray,e=a(15),f=a(1),k=a(96),h=a(49),g=a(29),p=a(50),r=a(3),m=a(95),q=a(14),n=a(46);b.exports=c},function(b,d){function a(b,e,h){b=""+c(""+b);if(h===e.length)return b;var g=h+1,d,r=-1,m=0,q,n;d=e[h];if(null===d)return b;a:do{if("object"!==typeof d)h=d,q=void 0,d=!1;else if(l(d)){if(void 0!==n)break a;
r=0;n=d;m=d.length;if(0===m)break a;d=n[r];continue a}else{q=d.to;h=d.from||0;"number"!==typeof q&&(q=h+(d.length||0)-1);if(0>q-h)break a;d=!0}do b=""+c(""+b+a(h,e,g));while(d&&++h<=q);if(++r===m)break a;d=n[r]}while(1);return b}function c(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0}b.exports=function(a,b,c,d,l,r,m){b=void 0===b?[]:b;d=void 0===d?[]:d;a={__proto__:e,$__key:void 0===a?"$__cache__$":a,$__path:b,$__version:void 0===c?0:c,$__keysPath:d,$__keyDepth:void 0===l?
0:l};r&&m&&(a.$__refPath=r,a.$__toReference=m);return a};var l=Array.isArray,e=Object.create(Object.prototype,Object.assign({$__name:{value:"falcor-node"},$__hash:{enumerable:!1,get:function(){var b=this.$__hash__$;void 0===b&&(b=this.$__hash__$=""+c(""+a("$__cache__$",this.$__path,0)+a(this.$__key,this.$__keysPath,this.$__keyDepth)));return b}}},"concat copyWithin entries every fill filter find findIndex forEach includes indexOf join keys lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift values".split(" ").reduce(function(a,
b){var c=Array.prototype[b];a[b]={writable:!0,enumerable:!1,value:function(){return c.apply(this,arguments)}};return a},{})))},function(b,d,a){function c(a,b,e,d,g,h,k,n,u,q){if(!t(a)&&!a.$type)for(var I in a)if(I[0]!==f&&"$"!==I[0]&&r(a,I)){var C=a[I],Q=m(C)&&!C.$type,D=l(e,d,g,I,C,Q,!1,h,k,n,u,q),G=D[0],D=D[1];G&&(Q?c(C,b+1,e,D,G,h,k,n,u,q):y(G,D,I,n)&&x(D,p(G),n,h))}}function l(a,b,c,f,d,h,m,n,x,p,r,y){for(m=c.$type;m===k;){a:{b=d;m=a;var Q=n,D=x,G=p,K=r,R=y;if(q(c))u(c,D,G),b=[void 0,m];else{g(G,
c);var M=c,H=c.value,N=m;c=c.\u30c4context;if(null!=c)N=c.\u30c4parent||m;else{var S=0,J=H.length-1,N=c=m;do{N=l(m,N,c,H[S],b,S<J,!0,Q,D,G,K,R);c=N[0];if(t(c)){b=N;break a}N=N[1]}while(S++<J);M.\u30c4context!==c&&e(M,c)}b=[c,N]}}c=b[0];if(t(c))return b;b=b[1];m=c&&c.$type}if(void 0!==m)return[c,b];if(null==f){if(h)throw Error("`null` is not allowed in branch key positions.");}else b=c,c=b[f];return[c,b]}var e=a(13),f=a(5),k=a(1),h=a(11),g=a(16),p=a(7),r=a(17),m=a(0),q=a(3),n=a(2),t=a(9),u=a(6),x=
a(18),y=a(36);b.exports=function(a,b){for(var e=a._root,f=e.expired,d=e.version++,g=e._comparator,l=e._errorSelector,m=e.cache,k=h(a),u=k.\u30c4parent||m,x=m.\u30c4version,q=-1,p=b.length;++q<p;)c(b[q].json,0,m,u,k,d,f,e,g,l);f=m.\u30c4version;e=e.onChange;n(e)&&x!==f&&e()}},function(b,d,a){function c(a,b,e,f,d,h,m,k){var q={},p=b<a.length-1,r=a[b],L=n(r,q);do{var I=l(e,f,d,L,p,!1,h,m,k),C=I[0],I=I[1];C&&(p?c(a,b+1,e,I,C,h,m,k):u(C,I,L,k)&&t(I,g(C),k,h));L=n(r,q)}while(!q.done)}function l(a,b,c,d,
g,k,n,u,r){for(k=c.$type;k===f;){a:{b=a;var t=n,O=u,L=r;if(p(c))q(c,O,L),b=[void 0,b];else{h(L,c);k=c;var I=c.value,C=b;c=c.\u30c4context;if(null!=c)C=c.\u30c4parent||b;else{var Q=0,D=I.length-1,C=c=b;do{C=l(b,C,c,I[Q],Q<D,!0,t,O,L);c=C[0];if(m(c)){b=C;break a}C=C[1]}while(Q++<D);k.\u30c4context!==c&&(b=c.\u30c4refsLength||0,c.\u30c4refsLength=b+1,c[e+b]=k,k.\u30c4context=c,k.\u30c4refIndex=b)}b=[c,C]}}c=b[0];if(m(c))return b;b=b[1];k=c.$type}if(void 0!==k)return[c,b];if(null==d){if(g)throw Error("`null` is not allowed in branch key positions.");
}else b=c,c=b[d];return[c,b]}var e=a(12),f=a(1),k=a(11),h=a(16),g=a(7),p=a(3),r=a(2),m=a(9),q=a(6),n=a(8).iterateKeySet,t=a(18),u=a(36);b.exports=function(a,b){for(var e=a._root,f=e.expired,d=e.version++,g=e.cache,h=k(a),l=h.\u30c4parent||g,m=g.\u30c4version,n=-1,q=b.length;++n<q;)c(b[n],0,g,l,h,d,f,e);f=g.\u30c4version;e=e.onChange;r(e)&&m!==f&&e()}},function(b,d,a){function c(a,b){var c=!1;return function(){c||a._disposed||(c=!0,a._callbacks[b]=null,a._optimizedPaths[b]=[],a._requestedPaths[b]=
[],0===--a._count&&(a._disposable.dispose(),a.requestQueue.removeRequest(a)))}}function l(a){for(var b=[],c=-1,e=0,f=a.length;e<f;++e)for(var d=a[e],g=0,h=d.length;g<h;++g)b[++c]=d[g];return b}function e(a){if(!a)return{dispose:m,unsubscribe:m};a.unsubscribe?a.dispose||(a.dispose=a.unsubscribe):a.unsubscribe=a.dispose;return a}var f=a(103),k=a(104),h=0,g=a(52).GetRequest,p=a(21),r=a(32),m=a(24),q=a(19),n=[],t=a(10);d=function(a,b){this.scheduled=this.sent=!1;this.requestQueue=b;this.id=++h;this.type=
g;this._scheduler=a;this._pathMap={};this._optimizedPaths=[];this._requestedPaths=[];this._callbacks=[];this._count=0;this._collapsed=this._disposable=null;this._disposed=!1};d.prototype={batch:function(a,b,f){var d=this,g=d._optimizedPaths,h=d._requestedPaths,l=d._callbacks,m=g.length;g[m]=b;h[m]=a;l[m]=f;++d._count;if(!d.scheduled){d.scheduled=!0;var n;a=d._scheduler.schedule(function(){d._disposable=n=e(k(d,g,function(a,b){var c,e,f;d.requestQueue.removeRequest(d);d._disposed=!0;if(a instanceof
t)for(c=0,f=l.length;c<f;++c)(e=l[c])&&e(a);else if(d._count)for(d._merge(h,a,b),c=0,f=l.length;c<f;++c)(e=l[c])&&e(a,b)}))});d._disposable=e(n||a)}return c(d,m)},add:function(a,b,e){var d=f(a,b,this._pathMap),g;d?(g=d[2],a=d[1]):(g=a,a=b);var h=!1,l=!1;a.length<b.length&&(h=!0,b=this._callbacks.length,this._callbacks[b]=e,this._requestedPaths[b]=d[0],this._optimizedPaths[b]=[],++this._count,l=c(this,b));return[h,g,a,l]},_merge:function(a,b,c){var e=this.requestQueue.model,f=e._root,d=f.errorSelector,
f=f.comparator,g=e._path;e._path=n;a=l(a);if(b){var h=b;h instanceof Error?h={message:h.message}:h.$type||(h={$type:q,value:h});b=a.map(function(a){return{path:a,value:h}});r(e,b,d,f)}else p(e,[{paths:a,jsonGraph:c.jsonGraph}],d,f);e._path=g}};b.exports=d},function(b,d,a){function c(a,b){this.model=a;this.scheduler=b;this.requests=this._requests=[]}var l=a(52),e=a(105),f=a(101),k=a(8).collapse;c.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,b){a.paths=k(a.paths);return e(a,
this.model,b)},get:function(a,b,c){function e(a){x||(--k,0===k&&c(a))}var d=[],k=0,n=this._requests,t,u=a,x=!1,y;a=0;for(t=n.length;a<t&&(y=n[a],y.type!==l.GetRequest||(y.sent?(y=y.add(u,b,e),y[0]&&(u=y[1],b=y[2],d[d.length]=y[3],++k)):(y.batch(u,b,e),b=[],u=[],++k),b.length));++a);b.length&&(y=new f(this.scheduler,this),n[n.length]=y,++k,n=y.batch(u,b,e),d[d.length]=n);return function(){if(!x&&0!==k){x=!0;for(var a=d.length,b=0;b<a;++b)d[b]()}}},removeRequest:function(a){for(var b=this._requests,
c=b.length;0<=--c;)if(b[c].id===a.id){b.splice(c,1);break}}};b.exports=c},function(b,d,a){var c=a(8).hasIntersection;b.exports=function(a,b,f){for(var d=[],h=[],g=[],p=-1,r=-1,m=!1,q=0,n=b.length;q<n;++q){var t=b[q],u=t.length,x=f[u];x&&c(x,t,0,u)?(!m&&0<q&&(h=a.slice(0,q),d=b.slice(0,q)),g[++p]=a[q],m=!0):m&&(d[++r]=t,h[r]=a[q])}return m?[g,d,h]:null}},function(b,d,a){d=a(8);var c=d.toTree,l=d.toPaths,e=a(10);b.exports=function(a,b,d){if(0===a._count)return a.requestQueue.removeRequest(a),null;a.sent=
!0;a.scheduled=!1;for(var g=a._pathMap,p=0,r=Object.keys(b).length;p<r;++p)for(var m=b[p],q=0,n=m.length;q<n;++q){var t=m[q],u=t.length;g[u]?(u=g[u],u[u.length]=t):g[u]=[t]}b=Object.keys(g);p=0;for(r=b.length;p<r;++p)m=b[p],g[m]=c(g[m]);var g=a._collasped=l(g),x,y;try{y=a.requestQueue.model._source.get(g)}catch(A){return d(new e),null}return y.subscribe(function(a){x=a},function(a){d(a,x)},function(){d(null,x)})}},function(b,d,a){var c=a(21),l=a(32),e=a(10),f=[],k={dispose:function(){}};b.exports=
function(a,b,d){var r=a.paths,m=b._root,q=m.errorSelector,n=m.comparator,t=b._path,u,x;try{x=b._source.set(a)}catch(A){return d(new e),k}var y=x.subscribe(function(a){if(!y||!y.disposed){b._path=f;var e=c(b,[{paths:r,jsonGraph:a.jsonGraph}],q,n);a.paths=e[1];b._path=t;u=a}},function(a){y&&y.disposed||(b._path=f,l(b,r.map(function(b){return{path:b,value:a}}),q,n),b._path=t,d(a))},function(){d(null,u)});return y}},function(b,d,a){function c(a,b,c,e,d){this.callPath=b;this.args=c;d&&(this.paths=d);e&&
(this.suffix=e);this.model=a;b=a._root.cache[f];this.initialCacheVersion="number"===typeof b?b:a._root.version}var l=a(57);d=a(4);var e=a(10),f=a(20);c.prototype=Object.create(d.prototype);c.prototype._subscribe=function(a){var b=this.callPath,c=this.args,f=this.suffix,d=this.paths,m=this.model,q=m._clone({_path:[]}),b=m._path.concat(b),n=this.initialCacheVersion;if(m._source){var t,u;try{u=m._source.call(b,c,f,d)}catch(x){a.onError(new e(x));return}return u.subscribe(function(a){t=a},function(b){a.onError(b)},
function(){var b=t.invalidated;b&&b.length&&(++m._root.syncRefCount,q.invalidate.apply(q,b),--m._root.syncRefCount);return(new l(q.withoutDataSource(),[t],!1,!1,n)).subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}a.onError(Error("function does not exist"))};b.exports=c},function(b,d,a){function c(a,b,c){this._model=a;var d=[],h,k,p=-1,y=b.length,A=a._root.cache[g];for(this.initialCacheVersion="number"===typeof c?c:"number"===typeof A?A:a._root.version;++p<
y;){a=b[p];if(l(a))c="PathValues";else if(e(a))c="PathValues";else if(f(a))c="PathMaps";else throw Error("Invalid Input");k!==c&&(k=c,h={inputType:c,arguments:[]},d.push(h));h.arguments.push(a)}this._groups=d}var l=Array.isArray;d=a(4);var e=a(23),f=a(22),k=a(24),h={dispose:k,unsubscribe:k},g=a(20),p=a(2);c.prototype=Object.create(d.prototype);c.prototype.progressively=function(){return this};c.prototype._toJSONG=function(){return this};c.prototype._subscribe=function(a){var b=this._model;this._groups.forEach(function(a){(0,b["_invalidate"+
a.inputType])(b,a.arguments)});a.onCompleted();a=b._root;var c=a.onChangesCompleted;this.initialCacheVersion!==a.cache[g]&&0>=a.syncRefCount&&p(c)&&c.call(a.topLevelModel);return h};b.exports=c},function(b,d,a){function c(a,b){var c=[],e,f,d;e=0;for(f=a.length;e<f;e++)c[e]=a[e];d=0;for(f=b.length;d<f;d++)c[e++]=b[d];return c}var l=a(55),e=a(47),f=a(30),k=a(7),h=a(53),g=a(10),p=a(2);b.exports=function m(a,b,d,u,x,y,A){if(10===y)throw new e;var E=b._request,v=d.requestedMissingPaths,F=d.optimizedMissingPaths,
B=new h,w=[],z=b._path;if(z.length)for(var P=0,O=v.length;P<O;++P)w[P]=c(z,v[P]);else w=v;E=E.get(w,F,function(c){if(c instanceof g)u.onError(c);else if(c=l(b,v,u,a.isProgressive,a.isJSONGraph,d.values,x))B.currentDisposable=m(a,b,c,u,x,y+1,A);else{c=b._root;var e=c.cache,h=e.\u30c4version;f(c,c.expired,k(e),b._maxSize,b._collectRatio,h);e=c.onChangesCompleted;A!==h&&0>=c.syncRefCount&&p(e)&&e.call(c.topLevelModel)}});B.currentDisposable=E;return B}},function(b,d,a){var c=a(4),l=a(56),e=a(37),f=a(54);
b.exports=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];var p=e(b,l,"get");return!0!==p?new c(function(a){a.onError(p)}):new f(this,b)}},function(b,d){function a(b,d){for(var e,f,k,h=Object.keys(d),g=-1,p=h.length;++g<p;)k=h[g],"$__path"!==k&&"$__refPath"!==k&&"$__toReference"!==k&&(f=d[k],e=b[k],e!==f&&(void 0===e||"object"!==typeof f?b[k]=f:a(e,f)));if(e=d.$__path)b.$__path=e,e=d.$__refPath,f=d.$__toReference,e&&f&&(b.$__refPath=e,b.$__toReference=f);return b}b.exports=
a},function(b,d,a){var c=a(114),l=a(37),e=a(57),f=a(4);b.exports=function(){var a=l(arguments,c,"set");if(!0!==a)return new f(function(b){b.onError(a)});for(var b=-1,d=arguments.length,p=[];++b<d;)p[b]=arguments[b];return new e(this,p)}},function(b,d,a){function c(a){return a.path}function l(a){return a.paths}var e=a(118);b.exports=function(a,b){for(var d=a._root.errorSelector,g=-1,p=b.length,r=[],m=[],q={requestedPaths:r,optimizedPaths:m};++g<p;){var n=b[g],t=n.inputType,n=n.arguments;if(0<n.length){var u=
(0,a["_set"+t])(a,n,d);m.push.apply(m,u[1]);"PathValues"===t?r.push.apply(r,n.map(c)):"JSONGs"===t?r.push.apply(r,e(n,l)):r.push.apply(r,u[0])}}return q}},function(b,d,a){function c(a,b){var c=a._path,d={};a._path=e;a._getPathValuesAsJSONG(a._materialize().withoutDataSource(),b,[d]);a._path=c;return d}function l(a,b,c,e,d,f){return(new k(a,c,e,d,!0,f)).subscribe(b)}var e=[],f=a(53),k=a(54),h=a(112),g=a(28).getWithPathsAsPathMap,p=a(10),r=a(47);b.exports=function q(a,b,e,d,k,A,E){if(10===A)throw new r;
var v=h(a,e),F=v.optimizedPaths,B=v.requestedPaths;if(void 0===a._source)return l(a,b,B,d,k,E);if(k){v=g(a,B,[{}]);if(v.criticalError)return b.onError(v.criticalError),null;b.onNext(v.values[0])}var v=c(a,F),w=new f,v=a._request.set(v,function(c,f){if(typeof c===p)b.onError(c);else{var g=!1;if(c||F.length===f.paths.length)g=!0;g?w.currentDisposable=l(a,b,B,d,k,E):q(a,b,e,d,k,A+1,E)}});w.currentDisposable=v;return w}},function(b,d){b.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(b,
d){function a(){}var c={dispose:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){a=setTimeout(a,this.delay);return new c(a)};c.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)};b.exports=a},function(b,d,a){var c=a(4),l=a(23);b.exports=function(a,b){for(var d=l(a)?a:{path:a,value:b},h=0,g=d.path,p=g.length;++h<p;)if("object"===
typeof g[h])return new c(function(a){a.onError(Error("Paths must be simple paths"))});var r=this;return new c(function(a){return r.set(d).subscribe(function(b){b=b.json;for(var c=-1,e=g.length;b&&++c<e;)b=b[g[c]];a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})})}},function(b,d){b.exports=function(a,b){for(var d=-1,e=-1,f=a.length,k=[];++e<f;)for(var h=b(a[e],e,a),g=-1,p=h.length;++g<p;)k[++d]=h[g];return k}},function(b,d,a){var c=a(5),l=a(17),e=Array.isArray,f=a(0);b.exports=function(a){var b=
a;if(f(b)){var b=e(a)?[]:{},d;for(d in a)d.charAt(0)!==c&&l(a,d)&&(b[d]=a[d])}return b}},function(b,d,a){var c=a(0);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(0);b.exports=function(a,b){var d=c(a)&&a.$type||void 0;return b&&d?"branch":d}},function(b,d,a){var c=a(34),l=a(39),e=a(38);b.exports=function(a){a=a.$expires;return null!=a&&a!==e&&a!==l&&a<c()}},function(b,d,a){var c=a(5);b.exports=function(a){return"$size"===a||"$modelCreated"===a||a.charAt(0)===c}},function(b,
d,a){var c=a(1),l=a(19),e=a(7),f=a(58),k=a(0),h=a(3),g=a(2),p=a(64),r=a(59),m=a(6),q=a(62),n=a(18),t=a(61);b.exports=function(a,b,d,A,E,v,F,B,w,z,P){var O,L,I,C,Q,D;if(b===d){if(null===d)return b=p(d,void 0,d),a=n(a,-b.$size,w,F),b=r(b,a,A,void 0,v);if(void 0===d)return d;if(I=k(b))if(O=b.$type,null==O)return null==b.\u30c4parent&&r(b,a,A,F,v),b}else if(I=k(b))O=b.$type;if(O!==c){if(C=k(d))L=d.$type;if(I&&!O&&(null==d||C&&!L))return b}else{if(null==d){if(h(b)){m(b,B,w);return}return b}if(C=k(d))if(L=
d.$type,L===c)if(b===d){if(null!=b.\u30c4parent)return b}else if(Q=b.$timestamp,D=d.$timestamp,!h(b)&&!h(d)&&D<Q)return}if(O&&C&&!L)return r(q(b,d,a,A,w,F),a,A,void 0,v);L||!C?(L===l&&g(P)&&(d=P(t(E,A),d)),L&&b===d?null==b.\u30c4parent&&(b=p(b,O,b.value),a=n(a,-b.$size,w,F),b=r(b,a,A,F,v)):(E=!0,(O&&!h(b)||!I)&&(E=!1===f(d)<f(b))&&(O||L)&&g(z)&&(E=!z(b,d,v.slice(0,v.index))),E&&(d=p(d,L,L?d.value:d),z=e(b)-e(d),b=q(b,d,a,A,w,F),a=n(a,z,w,F),b=r(b,a,A,F,v))),h(b)&&m(b,B,w)):null==b&&(b=r(d,a,A,void 0,
v));return b}},function(b,d,a){var c=a(12);b.exports=function(a,b){for(var d=a.\u30c4refsLength||0,k=b.\u30c4refsLength||0,h=-1;++h<d;){var g=a[c+h];void 0!==g&&(g.\u30c4context=b,b[c+(k+h)]=g,a[c+h]=void 0)}b.\u30c4refsLength=d+k;a.\u30c4refsLength=void 0;return b}},function(b,d,a){var c=a(12);b.exports=function(a){for(var b=-1,d=a.\u30c4refsLength||0;++b<d;){var k=a[c+b];null!=k&&(k.\u30c4context=k.\u30c4refIndex=a[c+b]=void 0)}a.\u30c4refsLength=void 0;return a}},function(b,d,a){var c=a(12);b.exports=
function(a){var b=a.\u30c4context;if(b){for(var d=(a.\u30c4refIndex||0)-1,k=(b.\u30c4refsLength||0)-1;++d<=k;)b[c+d]=b[c+(d+1)];b.\u30c4refsLength=k;a.\u30c4refIndex=a.\u30c4context=void 0}return a}},function(b,d){function a(a){this.esObserver=a}function c(a){this.subscription=a}a.prototype={onNext:function(a){"function"===typeof this.esObserver.next&&this.esObserver.next(a)},onError:function(a){"function"===typeof this.esObserver.error&&this.esObserver.error(a)},onCompleted:function(){"function"===
typeof this.esObserver.complete&&this.esObserver.complete()}};c.prototype.unsubscribe=function(){this.subscription.dispose()};b.exports=function(b){return{subscribe:function(d){return new c(b.subscribe(new a(d)))}}}},function(b,d){function a(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");}function l(b){if(r===setTimeout)return setTimeout(b,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(b,0);try{return r(b,0)}catch(c){try{return r.call(null,
b,0)}catch(d){return r.call(this,b,0)}}}function e(a){if(m===clearTimeout)return clearTimeout(a);if((m===c||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(d){return m.call(this,a)}}}function f(){n&&t&&(n=!1,t.length?q=t.concat(q):u=-1,q.length&&k())}function k(){if(!n){var a=l(f);n=!0;for(var b=q.length;b;){t=q;for(q=[];++u<b;)t&&t[u].run();u=-1;b=q.length}t=null;n=!1;e(a)}}function h(a,b){this.fun=a;this.array=b}function g(){}var p=
b.exports={},r,m;try{r="function"===typeof setTimeout?setTimeout:a}catch(x){r=a}try{m="function"===typeof clearTimeout?clearTimeout:c}catch(x){m=c}var q=[],n=!1,t,u=-1;p.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];q.push(new h(a,b));1!==q.length||n||l(k)};h.prototype.run=function(){this.fun.apply(null,this.array)};p.title="browser";p.browser=!0;p.env={};p.argv=[];p.version="";p.versions={};p.on=g;p.addListener=g;
p.once=g;p.off=g;p.removeListener=g;p.removeAllListeners=g;p.emit=g;p.binding=function(a){throw Error("process.binding is not supported");};p.cwd=function(){return"/"};p.chdir=function(a){throw Error("process.chdir is not supported");};p.umask=function(){return 0}},function(b,d){},function(b,d,a){b.exports=a(67)}])});
