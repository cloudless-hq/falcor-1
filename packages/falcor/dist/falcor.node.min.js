/*!
 * 
 * Copyright 2015 Netflix, Inc
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
module.exports=function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=106)}([function(b,
d,a){var c=a(53),f=a(30),e=a(54);b.exports=function(a,b){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?b:a<c()}},function(b,d,a){var c=a(19);b.exports=function(a){for(var e,f=Object.keys(a),b={},w=-1,u=f.length;++w<u;)e=f[w],"$size"===e||c(e)||(b[e]=a[e]);return b}},function(b,d,a){var c=a(48);b.exports=function(a,e,l){a["\u001ef_invalidated"]||(a["\u001ef_invalidated"]=!0,e.push(a),c(l,a));return a}},function(b,d,a){(function(a){function c(a){a?(this["\u001ef_meta"]=a["\u001ef_meta"])||
(this["\u001ef_meta"]=a):this["\u001ef_meta"]={}}function e(a){return function(){var e,c=this.length;e=c;var l;if("number"!==(l=typeof c)&&(!c||"object"!==l||"atom"!==c.$type||"number"!==typeof(e=c.value))||0>e||e!==(e|0)){if("pending"===this.$__status)return[];throw new RangeError("Invalid FalcorJSON length");}this.length=e;e=a.apply(this,arguments);this.length=c;return e}}function l(e){var c=e,g=typeof c,l=arguments.length;if(0===l)c=this;else if("string"!==g){if(!c||"object"!==g)return c}else{if(1!==
l)return c;c=this}return c===a?void 0:c}function x(){return r(l.apply(this,arguments),x)}function w(a,c){return JSON.stringify(r(l.call(this,this),r,!0===a,!1,!0===c))}function u(a){var c=l.apply(this,arguments),e,f,m=0,b=r(c,u,!0,!0);c&&(e=c["\u001ef_meta"])&&(m=e.version);b&&"object"===typeof b&&(f=b["\u001ef_meta"])&&(f.version=m);return b}function r(a,e,g,l,f){if(!a||"object"!==typeof a)return a;var h,k,p,m,b,q;if(v(a))q=a;else{h=-1;m=Object.keys(a);k=m.length;q={};l&&(q.__proto__=c.prototype);
if(g&&(p=a["\u001ef_meta"])){var u=p.$code,r=p.status,x=p.abs_path,w=p.deref_to,n=p.deref_from;p={};u&&(p.$code=u);x&&(p.abs_path=x);w&&(p.deref_to=w);n&&(p.deref_from=n);f&&r&&(p.status=r);q["\u001ef_meta"]=p;l&&(p={},p.__proto__=q,q=p)}for(;++h<k;)"\u001ef_meta"!==(b=m[h])&&(q[b]=e(a[b],e,g,l,f))}return q}var d={length:!0,toString:!0,constructor:!0,toLocaleString:!0},n={toJSON:{enumerable:!1,value:x},toProps:{enumerable:!1,value:u},toString:{enumerable:!1,value:w},toLocaleString:{enumerable:!1,
value:w},$__hash:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.$code||""}},$__path:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.abs_path||[]}},$__status:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.status||"resolved"}},$__version:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.version||0}}};Object.defineProperties(c.prototype,Object.getOwnPropertyNames(Array.prototype).reduce(function(a,c){if(!d.hasOwnProperty(c)){var g=
Array.prototype[c];"function"===typeof g&&(a[c]={value:e(g),writable:!0,enumerable:!1})}return a},n));var v=Array.isArray;b.exports=c}).call(d,a(31))},function(b,d,a){d=a(5);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Object.create(Error.prototype);
f.prototype.name=a;f.prototype.constructor=f;f.is=function(c){return c.name===a};return f}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){b.exports=function(a,f){var c=f["\u001ef_refs_length"]||0;f["\u001ef_ref"+c]=a;f["\u001ef_refs_length"]=c+1;a["\u001ef_ref_index"]=c;a["\u001ef_context"]=f}},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){function c(a,e){var l=a,f,b=0,u=e.length;if(0<u){do for(l=l[e[b]];l&&
"ref"===(f=l.$type);)l=c(a,l.value);while(++b<u&&l&&!f)}return l}b.exports=c},function(b,d,a){var c=a(25),f=a(27);b.exports=function(a,l,b,w){var e=a,r;do 0<(e.$size=(e.$size||0)-l)?(r=e["\u001ef_parent"])?e["\u001ef_version"]!==w&&f(e,w):e["\u001ef_version"]=w:(r=e["\u001ef_parent"])&&c(e,r,e["\u001ef_key"],b,w);while(e=r);return a}},function(b,d,a){d=a(5);b.exports=d("InvalidKeySetError",function(a,f){this.mesage="The KeySet "+JSON.stringify(f)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},
function(b,d,a){var c=a(54);b.exports=function(a,e){if(e.$expires!==c){var l=a["\u001ef_head"];if(!l)a["\u001ef_head"]=a["\u001ef_tail"]=e;else if(l!==e){var f=e["\u001ef_prev"],b=e["\u001ef_next"];b&&(b["\u001ef_prev"]=f);f&&(f["\u001ef_next"]=b);e["\u001ef_prev"]=void 0;a["\u001ef_head"]=e;e["\u001ef_next"]=l;l["\u001ef_prev"]=e;e===a["\u001ef_tail"]&&(a["\u001ef_tail"]=f)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),
this.destination={error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(14);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var c=this.destination;if(c)if(c.onNext)c.onNext(a);else c.next&&c.next(a)};c.prototype.error=c.prototype.onError=function(a){var c=!1,e=this.destination;e&&(e.onError?(c=!0,e.onError(a)):e.error&&(c=!0,e.error(a)),this.dispose());if(!c)throw a;};c.prototype.complete=
c.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,
1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d,a){var c=a(0),f=a(2),e=a(12);b.exports=function(a,b,w,u,r,d,n,v,m,h,g,k,q,y,t,p,A,D,F,E,C,B,H){var l=F;if(b)if(c(a,t))a["\u001ef_invalidated"]||f(a,y,q);else if(e(q,a),void 0===a.value)l=!1,F=D;else{if(d)return k&&(v[r]=null),C(a,b,r,d,n,v,h,g,k,A,D,E);return}if(D)d&&(n.hasValue=
!0);else if(!F)return;return B(u,r,n,v,m,k,h,g,l,D,w,p,A,H,q)}},function(b,d,a){var c=a(9);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001ef_parent"]||f["\u001ef_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){function c(a,l,b,h,g,k,q,y,t,p,A,u,r,w,d,x,H,P){var m={},v=l<a.length-1,n=a[l],D=z(n,m),F=u.index;do{A.depth=l;f(b,h,g,k,q,y,D,v,!1,A,u,r,w,d,x,H,P);A[l]=D;A.index=l;var C=e[0],E=e[1],
B=e[4];B[B.index++]=D;C&&(v?c(a,l+1,b,E,C,k,e[3],e[2],t,p,A,B,r,w,d,x,H,P):(t.push(A.slice(0,A.index+1)),p.push(B.slice(0,B.index))));D=z(n,m);if(m.done)break;u.index=F}while(1)}function f(a,c,b,h,g,k,q,y,t,p,A,d,z,E,C,B,H){var m=b;for(b=m.$type;"ref"===b;){a:{g=a;A=h;b=k;k=p;c=d;t=z;var v=E,n=C,D=B,F=H,M,G=m,J=G.value,Q=J.slice(0);if(l(G,F))x(G,t,v),G=void 0,m=g,M=A,Q.index=J.length;else{var R=0,X=G,O=J.length-1,m=G=g;M=b=A;do{var V=J[R],W=R<O;Q.index=R;f(g,m,G,A,M,b,V,W,!0,k,Q,c,t,v,n,D,F);G=e[0];
Q=e[4];if(!G||"object"!==typeof G){Q.index=R;break a}m=e[1];b=e[2];M=e[3]}while(R++<O);Q.index=R;X["\u001ef_context"]!==G&&w(X,G)}e[0]=G;e[1]=m;e[2]=b;e[3]=M;e[4]=Q}m=e[0];if(!m||"object"!==typeof m)return;c=e[1];k=e[2];g=e[3];A=e[4];b=m.$type}if(void 0===b){if(null==q){if(y)throw new r;m&&(q=m["\u001ef_key"])}else c=m,g=k,m=c[q],k=g&&g[q];m=u(c,m,k,q,p,A,d,z,E,C,B,H)}e[0]=m;e[1]=c;e[2]=k;e[3]=g;e[4]=A}var e=Array(5),l=a(0),x=a(2),w=a(7),u=a(72),r=a(4),z=a(32);b.exports=function(a,f,l,h,g){a=a._root;
for(var b=a.expired,m=a.version+1,y=a.cache,t=[],p=[],u=[],r=[],v=-1,w=f.length;++v<w;)for(var d=f[v],x=d.paths,d=d.jsonGraph,n=-1,z=x.length;++n<z;){var N=x[n];p.index=0;c(N,0,y,y,y,d,d,d,u,r,t,p,m,b,a,h,l,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;return y["\u001ef_version"]===m?(a.version=m,[u,r,!0]):[u,r,!1]}},function(b,d,a){function c(a,h,g,b,q,y,t,p,u,r,v,d,w,x,n){var k;if(a&&"object"===typeof a&&!a.$type){k=[];var m=0;l(a)&&(k[m++]="length");for(var A in a)z(A)||(k[m++]=
A)}else k=void 0;if(k&&k.length){m=0;A=k.length;var D=u.index;do{var F=k[m],C=a[F],E=!(!C||"object"!==typeof C)&&!C.$type;p.depth=h;f(g,b,q,F,C,E,!1,p,u,r,v,d,w,x,n);p[h]=F;p.index=h;var B=e[0],H=e[1],R=e[2];R[R.index++]=F;B&&(E?c(C,h+1,g,H,B,y,t,p,R,r,v,d,w,x,n):(y.push(p.slice(0,p.index+1)),t.push(R.slice(0,R.index))));if(++m>=A)break;u.index=D}while(1)}}function f(a,c,g,l,b,y,t,p,r,d,z,E,C,B,H){var h=g;for(g=h.$type;"ref"===g;){a:{r=b;g=a;c=p;var k=d,m=z,q=E,A=C,D=B,F=H,J=h,Q=J.value,R=Q.slice(0);
if(x(J,F))w(J,m,q),J=void 0,h=g,R.index=Q.length;else{var X=J,J=J["\u001ef_context"];if(null!=J)h=J["\u001ef_parent"]||g,R.index=Q.length;else{var O=0,V=Q.length-1;R.index=O;h=J=g;do{f(g,h,J,Q[O],r,O<V,!0,c,R,k,m,q,A,D,F);J=e[0];R=e[2];if(!J||"object"!==typeof J){R.index=O;break a}h=e[1]}while(O++<V);R.index=O;X["\u001ef_context"]!==J&&u(X,J)}}e[0]=J;e[1]=h;e[2]=R}h=e[0];if(!h||"object"!==typeof h)return;c=e[1];r=e[2];g=h&&h.$type}if(!y||void 0===g){if(null==l){if(y)throw new n;h&&(l=h["\u001ef_key"])}else c=
h,h=c[l];h=v(c,h,l,b,y,t,p,r,d,z,E,C,B,H)}e[0]=h;e[1]=c;e[2]=r}var e=Array(3),l=Array.isArray,x=a(0),w=a(2),u=a(7),r=a(9),z=a(29),n=a(4),v=a(42);b.exports=function(a,f,g,l,b){var h=a._root,k=h.expired,p=h.version+1;a=a._path;var m=h.cache,q=r(m,a);if(!q)return[[],[],!1];for(var u=q["\u001ef_parent"]||m,v=[],d=[],w=[],x=a.length,n=-1,z=f.length;++n<z;){var K=f[n],L=a.slice(0);L.index=x;c(K.json,0,m,u,q,d,w,v,L,p,k,h,l,g,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;return m["\u001ef_version"]===p?(h.version=
p,[d,w,!0]):[d,w,!1]}},function(b,d,a){d=a(83);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d,a){b.exports=a(34)},function(b,d,a){b.exports=a(37)},function(b,d){b.exports=function(a,c,f,e,l){var b=0,d;d=e.jsonGraph;d||(e.jsonGraph=d={});do{e=c[b++];if(b>=f){d=d[e]=!0!==l?a:d[e]||{};break}d=d[e]||(d[e]={})}while(1);return d}},function(b,d){var a=Array.isArray;b.exports=function(c,f,e,l,b,d,u,r,z,n,v,m,h,g,k){if(z||n){for(var q,y=-1,t=(d=b-f)&&Array(d)||void 0;++y<d;){q=c[y+f];var p;
p=q;if("object"!==typeof p||null===p)p=!1;else if(a(p))p=0===p.length;else{var A=p.to,w=p.from||0;"number"!==typeof A&&(A=w+(p.length||0));p=w>=A}if(p)return;t[y]=q}var x;c=null===q;q=z;var E;z?(p=b,A=l,E=e.requested||(e.requested=[])):(f=r,A=u,p=r+d-Number(c));do{if(d<b||!q){l=-1;y=f;for(x=Array(p);++l<y;)x[l]=A[l];for(y=-1;l<p;)x[l++]=t[++y]}if(q=!q){z&&(E[E.length]=x);break}E[E.length]=x||t;f=r;A=u;E=e.missing||(e.missing=[]);p=r+d-Number(c)}while(1);if(n)return g(v,x,f,p,m,h,k)}}},function(b,
d,a){function c(a,h,g,l,b,d,t,p,r){var k={},m=h<a.length-1,q=a[h],y=v(q,k);do{f(g,l,b,y,m,!1,d,t,p,r);var y=e[0],A=e[1];y&&(m?c(a,h+1,g,A,y,d,t,p,r):n(y,u(y),p,d));y=v(q,k)}while(!k.done)}function f(a,c,g,b,q,d,t,p,u,v){var h=g;for(g=h.$type;"ref"===g;){a:{c=a;g=t;d=p;var k=u,m=v;if(l(h,m))x(h,d,k),e[0]=void 0,e[1]=c;else{w(k,h);var y=h,A=h.value,n,h=h["\u001ef_context"];if(null!=h)n=h["\u001ef_parent"]||c;else{var z=0,D=A.length-1;n=h=c;do{f(c,n,h,A[z],z<D,!0,g,d,k,m);h=e[0];if(!h&&"object"!==typeof h)break a;
n=e[1]}while(z++<D);y["\u001ef_context"]!==h&&r(y,h)}e[0]=h;e[1]=n}}h=e[0];if(!h&&"object"!==typeof h)return;c=e[1];g=h.$type}if(void 0===g)if(null==b){if(q)throw Error("`null` is not allowed in branch key positions.");}else c=h,h=c[b];e[0]=h;e[1]=c}var e=Array(2),l=a(0),x=a(2),w=a(12),u=a(8),r=a(7),z=a(16),n=a(10),v=a(32);b.exports=function(a,h,g){var f=a._root,l=f.expired,b=f.version+1,t=f.cache;a=z(a);if(!a)return!1;for(var p=-1,m=h.length,d=a["\u001ef_parent"]||t;++p<m;)c(h[p],0,t,d,a,b,l,f,g);
e[0]=void 0;e[1]=void 0;return t["\u001ef_version"]===b?(f.version=b,!0):!1}},function(b,d,a){function c(a,b,d,n,v){if(a&&"object"===typeof a){var m=a.$type;if(void 0===m)for(var h in a)e(h)||c(a[h],a,h,n,v);else"ref"===m&&x(a),f(n,a);l(w(a,v));b[d]=a["\u001ef_parent"]=void 0;return!0}return!1}var f=a(48),e=a(29),l=a(75),x=a(76),w=a(27);b.exports=c},function(b,d,a){function c(a,b,h,g,l,q,d,t,p,r,u,n,x,w,B,H){var k={},m=h<b.length-1,y=b[h],v=z(y,k),A=r.index;do{p.depth=h;p[h]=v;p.index=h;f(g,l,q,v,
a,m,!1,p,r,u,n,x,w,B,H);p[h]=v;p.index=h;var D=e[0],C=e[1],E=e[2];E[E.index++]=v;D&&(m?c(a,b,h+1,g,C,D,d,t,p,E,u,n,x,w,B,H):(d.push(p.slice(0,p.index+1)),t.push(E.slice(0,E.index))));v=z(y,k);if(k.done)break;r.index=A}while(1)}function f(a,c,h,g,b,q,d,t,p,u,z,F,E,C,B){var k=h;for(h=k.$type;"ref"===h;){a:{p=b;h=a;c=t;var m=u,y=z,v=F,A=E,D=C,M=B,G=k,J=G.value,Q=J.slice(0);if(l(G,M))x(G,y,v),G=void 0,k=h,Q.index=J.length;else{var R=G,G=G["\u001ef_context"];if(null!=G)k=G["\u001ef_parent"]||h,Q.index=
J.length;else{var X=0,O=J.length-1,k=G=h;do{var V=J[X],W=X<O;Q.index=X;f(h,k,G,V,p,W,!0,c,Q,m,y,v,A,D,M);G=e[0];Q=e[2];if(!G||"object"!==typeof G){Q.index=X;break a}k=e[1]}while(X++<O);Q.index=X;R["\u001ef_context"]!==G&&w(R,G)}}e[0]=G;e[1]=k;e[2]=Q}k=e[0];if(!k||"object"!==typeof k)return;c=e[1];p=e[2];h=k.$type}if(!q||void 0===h){if(null==g){if(q)throw new r;k&&(g=k["\u001ef_key"])}else c=k,k=c[g];k=n(c,k,g,b,q,d,t,p,u,z,F,E,C,B)}e[0]=k;e[1]=c;e[2]=p}var e=Array(3),l=a(0),x=a(2),w=a(7),u=a(9),r=
a(4),z=a(32),n=a(42);b.exports=function(a,f,h,g,b){var l=a._root,k=l.expired,t=l.version+1;a=a._path;var p=l.cache,m=u(p,a);if(!m)return[[],[],!1];for(var d=m["\u001ef_parent"]||p,r=[],v=[],n=[],x=a.length,w=-1,z=f.length;++w<z;){var N=f[w],K=N.path,N=N.value,L=a.slice(0);L.index=x;c(N,K,0,p,d,m,v,n,r,L,t,k,l,g,h,b)}e[0]=void 0;e[1]=void 0;e[2]=void 0;return p["\u001ef_version"]===t?(l.version=t,[v,n,!0]):[v,n,!1]}},function(b,d,a){b.exports=function(a,f){var c=a,b=[],d=0,w,u,r;do{u=-1;w=c["\u001ef_parent"];
c["\u001ef_version"]=f;r=c["\u001ef_refs_length"]||0;do if(w&&w["\u001ef_version"]!==f&&(b[d++]=w),++u<r)w=c["\u001ef_ref"+u];else break;while(1)}while(c=b[--d]);return a}},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(19)},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=
d},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/iterateKeySet")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/support/materializedAtom")},function(b,d,a){var c=Array.isArray,f=a(64),e=a(63),l=a(16),x=a(81),w=a(104),u=a(98);b.exports=function(a,b,d,v,m){var h,g=b,k;b=a._path;var q=a._root,y=q.cache,t,p,r,n=b&&b.length||0;if(n){if((h=l(a))&&h.$type)return{error:new x(b,b)};r=[];for(k=0;k<n;++k)r[k]=b[k];k=a._referenceContainer}else h=y,r=[];t=[];var z=!1;
v=d&&d.json;var E=a._boxed,C=q.expired;p=a._recycleJSON;var B=!!a._source,H=q.branchSelector,P=d&&a._materialized,N=a._treatErrorsAsValues,K=a._allowFromWhenceYouCame;a={args:null,data:d,hasValue:!1,relative:null,requested:null,missing:null};var L,S=0,M=g.length;if(0<M){if(p){z=!0;if(1<M&&m||c(g[0]))g=[u(w(g,{}))];M=1}do L=g[S],z?p=e(y,h,v,g[0],0,d,a,t,r,n,!1,k,q,C,m,H,E,P,B,N,K):(p=L.length,p=f(y,h,v,L,0,d,a,t,p,r,n,!1,k,q,C,m,H,E,P,B,N,K)),v=p[0],p[0]=void 0,p[1]=void 0;while(++S<M)}m=a.requested;
a.args=z&&g||m;if(m&&m.length&&(a.relative=a.args,n)){g=[];k=0;for(n=m.length;k<n;++k)g[k]=b.concat(m[k]);a.requested=g}a.hasValue&&(d.json=v);return a}},function(b,d,a){var c=Array(3),f=a(12),e=a(0),l=a(7),x=a(46);b.exports=function(a,b,d,z){f(d,b);var u,v,m=0,h=a,g=b.value,k=g,q=g.length;do{if(0===m&&void 0!==(u=b["\u001ef_context"]))h=u,m=q;else if(v=g[m++],void 0===(h=h[v]))break;if(m===q){v=h.$type;if(void 0!==v&&e(h,z))break;else{if(h===b)throw new x(g);h!==u&&l(b,h)}if("ref"===v)f(d,h),m=0,
b=h,h=a,g=k=b.value,q=g.length;else break}else if(void 0!==h.$type)break}while(1);m<q&&void 0!==h&&(q=m);m=-1;for(g=Array(q);++m<q;)g[m]=k[m];c[0]=h;c[1]=g;c[2]=b;return c}},function(b,d,a){var c=a(1),f=a(62);b.exports=function(a,b,d,w,u,r,z,n,v,m,h,g){if("error"===b&&!g)return f(a,d,u,r,v,m);u.hasValue=!0;return m?c(a):a.value}},function(b,d,a){var c=a(67),f=a(79);b.exports=function(a,b,d,w,u){var e,l;e=a._path;w=a._root;var n,v,m=e&&e.length||0;if(m)return{error:new f};v=[];l=e=w.cache;n=[];for(var h=
a._boxed,g=w.expired,k=a._materialized,q=!!a._source,y=-1,t=b.length,p=a._treatErrorsAsValues,x={args:null,data:d,paths:null,relative:null,requested:null,jsonGraph:null};++y<t;){var D=b[y];a=D.length;c(l,e,D,0,d,x,n,a,v,m,!1,w,g,u,h,k,q,p)}x.args=x.relative=x.requested;return x}},function(b,d,a){function c(a,b,d,n,v,m,h){if(d===n)return m?e(w):void 0;var g,k,q=d+1,y,t=-1,p=0;k=b[d];a&&"object"===typeof a?((g=a["\u001ef_meta"])||(a["\u001ef_meta"]=g={}),g.status="resolved",g.version=h.version,g.abs_path=
b.slice(0,d)):(a={},a.__proto__=l.prototype,a["\u001ef_meta"]=g={},g.status="resolved",g.version=h.version,g.abs_path=b.slice(0,d),v&&(a=v(a)));a:do{if("object"!==typeof k)d=k,g=void 0,k=!1;else if(f(k)){if(void 0!==y)throw new x(b,y);t=0;y=k;p=k.length;if(0===p)break a;k=y[t];continue a}else{g=k.to;d=k.from||0;"number"!==typeof g&&(g=d+(k.length||0)-1);if(0>g-d)break a;k=!0}do a[d]=c(a[d],b,q,n,v,m,h);while(k&&++d<=g);if(++t===p)break a;k=y[t]}while(1);return a}var f=Array.isArray,e=a(1),l=a(3);
a(4);var x=a(11),w=a(33);b.exports=c},function(b,d,a){var c=Array.isArray,f=a(93),e=a(51),l=a(52);b.exports=function(a){for(var b=[],d=-1,r=a.length,x,n,v,m;++d<r;)v=a[d],c(v)?(v={path:v},m="PathValues"):f(v)?m="PathValues":l(v)?m="JSONGraphs":e(v)&&(m="PathMaps"),n!==m&&(n=m,b.push(x={arguments:[],inputType:m})),x.arguments.push(v);return b}},function(b,d,a){b.exports=function(a,b,e,l,d){a["\u001ef_key"]=e;a["\u001ef_parent"]=b;void 0!==l&&(a["\u001ef_version"]=l);a["\u001ef_abs_path"]||(a["\u001ef_abs_path"]=
d.slice(0,d.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,b,g,l,d,y,t,p,r,x){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!n(h)){var k=a[h],m=!(!k||"object"!==typeof k)&&!k.$type;f(g,l,d,h,k,m,!1,y,t,p,r,x);var q=e[0],w=e[1];q&&(m?c(k,b+1,g,w,q,y,t,p,r,x):v(q,u(q),p,y))}}function f(a,c,b,k,d,y,t,p,v,u,n,z){var g=b;for(b=g.$type;"ref"===b;){a:{c=d;b=a;t=p;var h=v,m=u,q=n,A=z;if(l(g,A))x(g,h,m),e[0]=void 0,e[1]=b;else{w(m,g);var D=g,E=g.value,F,g=g["\u001ef_context"];if(null!=
g)F=g["\u001ef_parent"]||b;else{var M=0,G=E.length-1;F=g=b;do{f(b,F,g,E[M],c,M<G,!0,t,h,m,q,A);g=e[0];if(!g&&"object"!==typeof g)break a;F=e[1]}while(M++<G);D["\u001ef_context"]!==g&&r(D,g)}e[0]=g;e[1]=F}}g=e[0];if(!g&&"object"!==typeof g)return;c=e[1];b=g.$type}if(void 0===b)if(null==k){if(y)throw Error("`null` is not allowed in branch key positions.");}else c=g,g=c[k];e[0]=g;e[1]=c}var e=Array(2),l=a(0),x=a(2),w=a(12),u=a(8),r=a(7),z=a(16),n=a(29),v=a(10);b.exports=function(a,b,g){var h=a._root,
l=h.expired,f=h.version+1,d=h._comparator,p=h.cache;a=z(a);if(!a)return!1;for(var m=-1,v=a["\u001ef_parent"]||p,u=b.length;++m<u;)c(b[m].json,0,p,v,a,f,l,h,d,g);e[0]=void 0;e[1]=void 0;return p["\u001ef_version"]===f?(h.version=f,!0):!1}},function(b,d,a){var c=a(30),f=a(92),e=a(8),l=a(28),x=a(45),w=a(0),u=a(2),r=a(40),z=a(44),n=a(43),v=a(10);a(25);b.exports=function(a,b,g,k,d,y,t,p,A,D,F,E,C,B){B=f(b,y);if(d||y){if(B&&w(b,!0)&&(u(b,D,F),B=b.$expires===c?B:"expired"),B&&"ref"!==B||!b||"object"!==typeof b)b=
z(b,{},a,g,F,A),b=r(b,a,g,A,p)}else d=f(k),(B||d)&&(E?3>E.length?E(b,k):E(b,k,p.slice(0,p.index)):!1!==l(k)<l(b))||(C&&"error"===d&&(k=C(n(t,g),k)),t=e(b)-e(k=x(k,d,d?k.value:k)),b=z(b,k,a,g,F,A),a=v(a,t,F,A),b=r(b,a,g,A,p));return b}},function(b,d){b.exports=function(a,c){a=a.slice(0,a.depth);a[a.length]=c;return a}},function(b,d,a){var c=a(74),f=a(25),e=a(27);b.exports=function(a,b,d,u,r,z){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,u,r),e(b,z));return d[u]=b}},function(b,d,a){var c=
Array.isArray,f=a(53),e=a(90),l=a(8),x=a(91),w=a(30);b.exports=function(a,b,d){var n=0;if(b){var v=a["\u001ef_wrapped_value"];a=e(a);n=l(a);a.$type=b;a["\u001ef_prev"]=void 0;a["\u001ef_next"]=void 0;a["\u001ef_wrapped_value"]=v||!1}else a={$type:"atom",value:d,"\u001ef_prev":void 0,"\u001ef_next":void 0,"\u001ef_wrapped_value":!0};if(null==d)n=51;else if(null==n||0>=n)switch(typeof d){case "object":n=c(d)?50+d.length:51;break;case "string":n=50+d.length;break;default:n=51}b=x(a);"number"===typeof b&&
b<w&&(a.$expires=f()+-1*b);a.$size=n;return a}},function(b,d,a){d=a(5);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(5);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){b.exports=function(a,b){var c=b["\u001ef_prev"],f=b["\u001ef_next"];f&&(f["\u001ef_prev"]=c);c&&(c["\u001ef_next"]=f);b["\u001ef_prev"]=b["\u001ef_next"]=void 0;
b===a["\u001ef_head"]&&(a["\u001ef_head"]=f);b===a["\u001ef_tail"]&&(a["\u001ef_tail"]=c)}},function(b,d,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(13),d=a(14),x=a(94).default;b.exports=f;f.prototype[x]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.subscribe=function(a,c,b){return new d([this.operator.call(this.source,a instanceof e?a:new e(a,c,b))])};f.prototype.then=
function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,c){var b=[],f=!1;e.subscribe({next:function(a){b[b.length]=a},error:function(a){f=!0;c(a)},complete:function(){!f&&a(1>=b.length?b[0]:b)}})}));return this._promise.then(a,b)}}).call(d,a(31))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,
a){var c=Array.isArray,f=a(6);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/collapse")},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(57);d=a(3);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,
d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new u;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={},this._seed.__proto__=l.prototype);this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||
!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(85),e=a(59),l=a(3),x=a(58),w=a(89),u=a(50),r=a(55);a(8);var z=a(6),n=a(51),v=a(9),m=a(52),h=a(18),g=a(17),k=a(20),q=a(69),y=a(21);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){var a=this._seed;a||(a={},a.__proto__=l.prototype);for(var c=arguments.length,b=Array(c),g=0;g<
c;g++)b[g]=arguments[g];return(new f("get",this,b))._toJSON(a,[])};c.prototype.set=function(){var a={};a.__proto__=l.prototype;for(var c=arguments.length,b=Array(c),g=0;g<c;g++)b[g]=arguments[g];return(new f("set",this,b))._toJSON(a,[])};c.prototype.preload=function(){for(var a=arguments.length,c=Array(a),b=0;b<a;b++)c[b]=arguments[b];return(new f("get",this,c))._toJSON(null,[])};c.prototype.call=function(){var a={};a.__proto__=l.prototype;for(var c=arguments.length,b=Array(c),g=0;g<c;g++)b[g]=arguments[g];
return(new f("call",this,b))._toJSON(a,[])};c.prototype.invalidate=function(){for(var a=arguments.length,c=Array(a),b=0;b<a;b++)c[b]=arguments[b];return(new f("invalidate",this,c))._toJSON(null,null).then()};c.prototype.deref=a(78);c.prototype._hasValidParentReference=a(77);c.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({},[]).lift(function(c){return this.subscribe({onNext:function(b){var g=-1;b=b.json;for(var e=a.length;b&&!b.$type&&++g<e;)b=b[a[g]];c.onNext(b)},onError:c.onError.bind(c),
onCompleted:c.onCompleted.bind(c)})})};c.prototype.setValue=function(a,c){a=1===arguments.length?a.path:a;c=1===arguments.length?a:{path:a,value:c};return(new f("set",this,[c]))._toJSON({},[]).lift(function(c){return this.subscribe({onNext:function(b){var g=-1;b=b.json;for(var e=a.length;b&&!b.$type&&++g<e;)b=b[a[g]];c.onNext(b)},onError:c.onError.bind(c),onCompleted:c.onCompleted.bind(c)})})};c.prototype.setCache=function(a){var c=this._root,b=c.cache;if(a!==b){var e={_path:[],_boxed:!1,_root:c,
_materialized:!1,_treatErrorsAsValues:!1};c.cache=this._node={};"undefined"!==typeof b&&(c.expired=[],c["\u001ef_head"]=void 0,c["\u001ef_tail"]=void 0,this._recycleJSON&&(this._seed={},this._seed.__proto__=l.prototype));var f,d;m(a)?f=g(e,[a]):n(a)?f=h(e,[a]):z(a)&&(f=h(e,[{json:a}]));f&&(f[0].length&&k(e,f[0],null,!1,!1),f[2]&&(d=c.onChange)&&d.call(c.topLevelModel))}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=function(){for(var a=arguments.length,c=Array(a),
b=0;b<a;b++)c[b]=arguments[b];if(0===c.length)return q(this,this._root.cache);a={};a.__proto__=l.prototype;a=y({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},c,a).data;a.paths=r(c);return a};c.prototype.getVersion=function(a){a=a||[];if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=
function(a){var b=new c(this);if(a)for(var g in a){var e=a[g];"delete"===e?delete b[g]:"_path"===g?(b[g]=e,!1===a.hasOwnProperty("_node")&&delete b._node):b[g]=e}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var c;"number"===typeof a?c=new w(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?c=a:"function"===typeof a&&(c={scheudle:a}):c=new w(1);return this._clone({_scheduler:c})};c.prototype.unbatch=function(){return this._clone({_scheduler:new u})};c.prototype.treatErrorsAsValues=
function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new x(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.inspect=
function(){return"{ v: "+this.getVersion()+" p: ["+this._path.join(", ")+"] }"};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=v(this._root.cache,a);return(a&&a["\u001ef_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(70);c.prototype._getPathValuesAsPathMap=k;c.prototype._getPathValuesAsJSONG=
y;c.prototype._setPathValues=a(26);c.prototype._setPathMaps=a(18);c.prototype._setJSONGs=a(17);c.prototype._setCache=a(18);c.prototype._invalidatePathValues=a(24);c.prototype._invalidatePathMaps=a(41)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,
[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.version=-1;this.syncRefCount=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(86),e=a(28);c.comparator=c.prototype.comparator=function(a,b){var c=a&&a.$type,f=b&&b.$type;return c?f?!0===e(b)<e(a)?!0:!(c!==f||a.value!==b.value||a.$expires!==
b.$expires):a.value===b:f?!1:a===b};b.exports=c},function(b,d,a){var c=a(20),f=a(21);b.exports={json:function(a,b,f,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var l=[].concat(b[1]||[]),x=[].concat(b[2]||[]),n=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&n&&n.length&&(e=c(a,n,f,d,!0).hasValue);return{data:f,missing:!0,hasValue:e,fragments:[b,l,x,n]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var l=[].concat(b[1]||[]),x=[].concat(b[2]||[]),n=[].concat(b[3]||
[]);b=(a._path||[]).concat(b[0]||[]);d&&n&&n.length&&(e=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},n,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,l,x,n]}}}},function(b,d,a){b.exports={json:a(34),jsonGraph:a(37)}},function(b,d,a){var c=a(1);b.exports=function(a,b,d,x,w,u){var e=-1;b+=!!w;w=Array(b);for(a=u?c(a):a.value;++e<b;)w[e]=x[e];(d.errors||(d.errors=[])).push({path:w,value:a})}},function(b,d,a){function c(a,
b,g,d,p,z,D,F,E,C,B,H,P,N,K,L,S,M,G,J,Q){var k,q,y=B;if(void 0===b||void 0!==(k=b.$type)||void 0===d)return l[1]=G&&void 0===b,l[0]=r(b,k,g,d,p,z,D,F,p,E,C,y,P,N,K,L,S,M,G,J,x,f,v),l;var t,A,U;k="";var T,I,ca;B=d.$keys;var ea=p+1,Z,aa,da,ia,ba,fa=C+1,Y,ga;Q&&H&&(ga=H.value,Y=H["\u001ef_abs_path"]);if(!g||"object"!==typeof g)g=void 0;else if(t=g["\u001ef_meta"]){U=b["\u001ef_abs_path"];A=t.abs_path;L||g instanceof w||(g.__proto__={},g.__proto__["\u001ef_meta"]=t,g.__proto__.__proto__=w.prototype);
if(!e(U,A)){t.$code="";t.status="pending";t.abs_path=U;t.version=b["\u001ef_version"];ga&&(t.deref_to=ga);Y&&(t.deref_from=Y);if(A=t.keys)for(I in t.keys=Object.create(null),A)A[I]&&delete g[I];l[0]=g;l[1]=!0;return l}if(t.version===b["\u001ef_version"]&&t.$code===d.$code)return D.hasValue=!0,l[0]=g,l[1]=!1,l;A=t.keys;t.abs_path=U;t.version=b["\u001ef_version"];ga&&(t.deref_to=ga);Y&&(t.deref_from=Y)}U=Object.create(null);var ka=-1,ma=B.length,ha,la,ja=!1;a:for(;++ka<ma;)if(y=B[ka],ha=d[ka],null===
y){if(void 0!==ha)throw new m;k=""+h(""+k+"null")}else{if("object"!==typeof y)I=y,Z=void 0,ca=!1,la=I;else{Z=y.to;I=y.from||0;"number"!==typeof Z&&(Z=I+(y.length||0)-1);if(0>Z-I)break a;ca=!0;la="["+I+".."+Z+"]"}do{y=!1;aa=g&&g[I];ba=E;ia=fa;da=H;T=b[I];F[p]=I;E[C]=I;if(void 0===ha){if(c(a,T,aa,ha,ea,z,D,F,ba,ia,y,da,P,N,K,L,S,M,G,J,Q),!0===l[1]&&(ja=!0),void 0===(aa=l[0])&&!M){g&&g.hasOwnProperty(I)&&delete g[I];continue}}else if(T&&"ref"===T.$type&&!u(T,K)&&(q=n(a,T,P,K),T=q[0],y=!0,ba=q[1],da=
q[2],ia=ba.length,q[0]=q[1]=q[2]=void 0),c(a,T,aa,ha,ea,z,D,F,ba,ia,y,da,P,N,K,L,S,M,G,J,Q),!0===l[1]&&(ja=!0),void 0===(aa=l[0])){g&&g.hasOwnProperty(I)&&delete g[I];continue}void 0===t&&(t={},t.version=b["\u001ef_version"],t.abs_path=b["\u001ef_abs_path"],ga&&(t.deref_to=ga),Y&&(t.deref_from=Y),g={},g["\u001ef_meta"]=t,g.__proto__=w.prototype,L?g=L(g):(y=g,g={},g.__proto__=y));U[I]=!0;A&&I in A&&(A[I]=!1);g[I]=aa}while(ca&&++I<=Z);k=""+h(""+k+(ja?"":la)+(ha?ha.$code:""))}if(t&&(t.$code=k,t.keys=
U,t.status=ja&&"pending"||"resolved",A))for(I in A)A[I]&&delete g[I];l[0]=g;l[1]=ja;return l}function f(a,b,c,e,d,h,l,m,v,n,r,u,x,w,K){if(n)return w(r,a,b,b,u,x,K,c,e,l,m,h,v,f);a=a?g(a):[[]];var k=e.slice(0,d);return a.forEach(function(a){d=b+a.length;return z(k.concat(a),b,c,e,d,h,l,m,v,!1,r,u,x,w,K)})}function e(a,b){if(a===b)return!0;var c=a.length;if(c!==b.length)return!1;for(;~--c;)if(a[c]!==b[c])return!1;return!0}var l=Array(2),x=a(36),w=a(3),u=a(0),r=a(15),z=a(23),n=a(35),v=a(68),m=a(4);a(11);
var h=a(100),g=a(99);b.exports=c},function(b,d,a){function c(a,b,d,q,y,t,p,A,D,F,E,C,B,H,P,N,K,L,S,M,G,J){var g,h;if(void 0===b||(g=b.$type)||y===D)return f[1]=M&&void 0===b,f[0]=u(b,g,d,q,y,t,p,A,D,F,E,C,H,P,N,K,L,S,M,G,l,x,z),f;var k,O,V,W=y+1,U,T,I,ca,ea=-1,Z=0,aa,da,ia=E+1,ba,fa;C=q[y];if(null===C){if(W<D)throw new v;f[0]=d;f[1]=!1;return f}J&&B&&(fa=B.value,ba=B["\u001ef_abs_path"]);if(!d||"object"!==typeof d)d=void 0;else if(k=d["\u001ef_meta"])k.version=b["\u001ef_version"],k.abs_path=b["\u001ef_abs_path"],
fa&&(k.deref_to=fa),ba&&(k.deref_from=ba);var Y=!1;a:do{if("object"!==typeof C)g=C,U=void 0,V=!1;else if(e(C)){if(void 0!==T)throw new m(q,T);ea=0;T=C;Z=C.length;if(0===Z)break a;C=T[ea];continue a}else{U=C.to;g=C.from||0;"number"!==typeof U&&(U=g+(C.length||0)-1);if(0>U-g)break a;V=!0}do{C=!1;I=d&&d[g];da=F;aa=ia;ca=B;O=b[g];A[y]=g;F[E]=g;if(W===D){if(c(a,O,I,q,W,t,p,A,D,da,aa,C,ca,H,P,N,K,L,S,M,G,J),!0===f[1]&&(Y=!0),void 0===(I=f[0])&&!S)continue}else if(O&&"ref"===O.$type&&!r(O,N)&&(h=n(a,O,H,
N),O=h[0],C=!0,da=h[1],ca=h[2],aa=da.length,h[0]=h[1]=h[2]=void 0),c(a,O,I,q,W,t,p,A,D,da,aa,C,ca,H,P,N,K,L,S,M,G,J),!0===f[1]&&(Y=!0),void 0===(I=f[0]))continue;void 0===k&&(k={},k.version=b["\u001ef_version"],k.abs_path=b["\u001ef_abs_path"],fa&&(k.deref_to=fa),ba&&(k.deref_from=ba),d={},d["\u001ef_meta"]=k,d.__proto__=w.prototype,K&&(d=K(d)));d[g]=I}while(V&&++g<=U);if(++ea===Z)break a;C=T[ea]}while(1);k&&(k.status=Y&&"pending"||"resolved");f[0]=d;f[1]=Y;return f}var f=Array(2),e=Array.isArray,
l=a(36),x=a(23),w=a(3),u=a(15),r=a(0),z=a(38),n=a(35),v=a(4),m=a(11);b.exports=c},function(b,d,a){var c=Array(2),f=a(1),e=a(22),l=a(12),x=a(0),w=a(7),u=a(46);b.exports=function(a,b,d,v,m){l(d,b);var h,g,k=0,q=a,n=b.value,t=n,p=n.length;do{if(0===k&&void 0!==(h=b["\u001ef_context"]))q=h,k=p;else if(g=n[k++],void 0===(q=q[g]))break;if(k===p){g=q.$type;if(void 0!==g&&x(q,m))break;else{if(q===b)throw new u(n);q!==h&&w(b,q)}if("ref"===g)l(d,q),v&&e(f(q),n,p,v),k=0,b=q,q=a,n=t=b.value,p=n.length;else break}else if(void 0!==
q.$type)break}while(1);k<p&&void 0!==q&&(p=k);k=-1;for(n=Array(p);++k<p;)n[k]=t[k];c[0]=q;c[1]=n;return c}},function(b,d,a){var c=a(1),f=a(22);b.exports=function(a,b,d,w,u,r,z,n,v,m,h){h=a.value;if(m||"ref"===b||"error"===b||!a["\u001ef_wrapped_value"]||"object"===typeof h)h=c(a);u.hasValue=!0;f(h,z,n,w);(w.paths||(w.paths=[])).push(r.slice(0,d+!!v));return h}},function(b,d,a){function c(a,b,g,d,p,n,D,F,E,C,B,H,P,N,K,L,S,M){var k,q;if(void 0===b||(k=b.$type)||d===F)return r(b,k,p,g,d,p,n,D,F,E,C,
B,H,P,N,void 0,K,L,S,M,x,f,z);var t,y,A=d+1,O,V,W=-1,U=0,T,I,ca=C+1;B=g[d];if(null===B){if(A<F)throw new m;}else{a:do{if("object"!==typeof B)k=B,O=void 0,y=!1;else if(e(B)){if(void 0!==V)throw new h(g,V);W=0;V=B;U=B.length;if(0===U)break a;B=V[W];continue a}else{O=B.to;k=B.from||0;"number"!==typeof O&&(O=k+(B.length||0)-1);if(0>O-k)break a;y=!0}do B=!1,I=E,T=ca,t=b[k],D[d]=k,E[C]=k,t&&A<F&&"ref"===t.$type&&!u(t,N)&&(p&&w(l(t),E,T,p),q=v(a,t,H,p,N),t=q[0],B=!0,I=q[1],T=I.length,q[0]=q[1]=void 0),c(a,
t,g,A,p,n,D,F,I,T,B,H,P,N,K,L,S,M);while(y&&++k<=O);if(++W===U)break a;B=V[W]}while(1)}}function f(a,b,c,e,d,f,h,m,v,r,u,x,z,N,K){var k,q;u&&r&&((u.paths||(u.paths=[])).push((q=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),k=w(q&&l(g)||void 0,h,m,u,!q));return n(a,b,c,e,d,f,h,m,v,!q&&r,k,x,!0,N,K)}var e=Array.isArray,l=a(1),x=a(66),w=a(22),u=a(0),r=a(15),z=a(38),n=a(23),v=a(65),m=a(4),h=a(11),g=a(33);b.exports=c},function(b,d,a){function c(a,b,d,n,v,m,h,g,k,q,y,t,p,A){if(void 0===
b)return e(void 0,void 0,a,b,d,void 0,g,k,d,q,y,t,h,void 0,!1,v,m,!1,p,!1,void 0,A,void 0),m?f(w):void 0;var r,u,z,C,B=b.$keys,H=d+1,P,N=y+1;a&&"object"===typeof a?((r=a["\u001ef_meta"])?u=r.keys:a["\u001ef_meta"]=r={},r.$code="",r.status="resolved",r.version=h.version,r.abs_path=q.slice(0,y)):(a={},a.__proto__=l.prototype,a["\u001ef_meta"]=r={},r.$code="",r.status="resolved",r.version=h.version,r.abs_path=q.slice(0,y),v&&(a=v(a)));n=Object.create(null);var K,L=-1,S=B.length;a:for(;++L<S;)if(C=B[L],
K=b[L],null===C){if(void 0!==K)throw new x;}else{if("object"!==typeof C)z=C,P=void 0,C=!1;else{P=C.to;z=C.from||0;"number"!==typeof P&&(P=z+(C.length||0)-1);if(0>P-z)break a;C=!0}do k[d]=z,q[y]=z,n[z]=!0,u&&z in u&&(u[z]=!1),a[z]=c(a[z],K,H,H,v,m,h,g,k,q,N,t,p,A);while(C&&++z<=P)}r.keys=n;if(u)for(z in u)u[z]&&delete a[z];return a}var f=a(1),e=a(15),l=a(3),x=a(4);a(11);var w=a(33);b.exports=c},function(b,d,a){function c(a,b,d,u){var l,x;if(!a||"object"!==typeof a)return a;if(l=a.$type){if(void 0===
(x=a.value))u?x={$type:"atom"}:a["\u001ef_wrapped_value"]&&(x=f(a));else if(d||"ref"===l||"error"===l||!a["\u001ef_wrapped_value"]||"object"===typeof x)x=f(a);return x}l=Object.keys(a);for(var n=l.length,v=-1;++v<n;){var m=l[v];"$size"===m||e(m)||void 0===(x=c(a[m],b&&b[m],d,u))||(void 0===b&&(b={}),b[m]=x)}return b}var f=a(1),e=a(19);b.exports=function(a,b){return c(b,{},a._boxed,a._materialized)}},function(b,d,a){var c=a(16);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001ef_version"];return null==
a?-1:a}},function(b,d,a){function c(a,c,d,u,r){c=e(c);d=!1;u=-1;for(var l=c.length;++u<l;){var n=c[u],v=n.inputType,n=n.arguments;0<n.length&&("PathValues"===v&&(n=n.map(f)),(0,b.exports["invalidate"+v])(a,n,r)&&(d=!0))}d&&(r=a._root.onChange)&&r.call(a._root.topLevelModel);return{}}function f(a){return a.path||a.paths}var e=a(39);b.exports={json:c,jsonGraph:c,invalidatePathMaps:a(41),invalidatePathValues:a(24)}},function(b,d,a){var c=a(45),f=a(0),e=a(40),l=a(2),x=a(44),w=a(8),u=a(43),r=a(28),z=a(10);
b.exports=function(a,b,d,h,g,k,q,y,t,p,A,D){var m,n,v,B,H,P;if(b===d){if(void 0===d)return d;if(null===d)return b=c(d,void 0,d),a=z(a,-b.$size,t,q),b=e(b,a,h,void 0,k);if((v=!(!b||"object"!==typeof b))&&void 0===(m=b.$type))return void 0===b["\u001ef_parent"]&&e(b,a,h,q,k),b}else if(v=!(!b||"object"!==typeof b))m=b.$type;if("ref"!==m){if(B=!(!d||"object"!==typeof d))n=d.$type;if(v&&!m&&(null==d||B&&!n))return b}else{if(null==d){if(f(b,D)){l(b,y,t);return}return b}if(B=!(!d||"object"!==typeof d))if(n=
d.$type,"ref"===n)if(b===d){if(null!=b["\u001ef_parent"])return b}else if(H=b.$timestamp,P=d.$timestamp,!f(b,D)&&!f(d,D)&&P<H)return}if(m&&B&&!n)return e(x(b,d,a,h,t,q),a,h,void 0,k);n||!B?("error"===n&&A&&(d=A(u(g,h),d)),n&&b===d?b["\u001ef_parent"]||(b=c(b,m,b.value),a=z(a,-b.$size,t,q),b=e(b,a,h,q,k)):(g=!0,m||n?v&&f(b,D)||(g=p?!(3>p.length?p(b,d):p(b,d,k.slice(0,k.index))):!1===r(d)<r(b)):g=!0,g&&(p=w(b)-w(d=c(d,n,n?d.value:d)),b=x(b,d,a,h,t,q),a=z(a,p,t,q),b=e(b,a,h,q,k))),f(b,!0)&&l(b,y,t)):
null==b&&(b=e(d,a,h,void 0,k));return b}},function(b,d,a){function c(a,c,d){var l=!1,r=-1,m=c.length,h=[],g=[],k=a._root,q=k.errorSelector;d=d&&!a._source;for(k=a._source?null:k.comparator;++r<m;){var y=c[r],t=y.inputType,y=y.arguments;if(0<y.length){var p=(0,b.exports["set"+t])(a,y,q,k,d),l=l||p[2];g.push.apply(g,p[1]);"PathValues"===t?h.push.apply(h,y.map(f)):"JSONGraphs"===t?h.push.apply(h,e(y,f)):h.push.apply(h,p[0])}}return{changed:l,requested:h,optimized:g}}function f(a){return a.path||a.paths}
function e(a,b){for(var c=-1,d=-1,e=a.length,f=[];++d<e;)for(var h=b(a[d],d,a),g=-1,k=h.length;++g<k;)f[++c]=h[g];return f}var l=a(20),x=a(21),w=a(39);b.exports={json:function(a,b,d,e,f){var m,h,g,k,q,n,t=w(b);m=c(a,t,f);if((b=m.requested).length){if(!(k=m.changed)||e)h=l(a,b,d,e,f);k&&(g=x({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},m.optimized,{},e,f),n=g.data,q=n.paths,g=g.requested,(e=a._root.onChange)&&e.call(a._root.topLevelModel))}return{args:t,
data:d,missing:q,relative:b,fragments:n,requested:g,error:h&&h.error,errors:h&&h.errors,hasValue:h&&h.hasValue}},jsonGraph:function(a,b,d,e,f){var l,h,g,k,q,n,t=w(b);l=c(a,t,f);(b=l.requested).length&&(e||(g=l.changed))&&(h=x({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},l.optimized,d,e,f),q=h.data,k=q.paths,n=h.requested,g&&(e=a._root.onChange)&&e.call(a._root.topLevelModel));return{args:t,data:d,missing:k,relative:b,fragments:q,requested:n,error:h&&
h.error,hasValue:h&&h.hasValue}},setPathMaps:a(18),setPathValues:a(26),setJSONGraphs:a(17)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001ef_refs_length"]||0,d=b["\u001ef_refs_length"]||0,f=-1;++f<c;){var w=a["\u001ef_ref"+f];void 0!==w&&(w["\u001ef_context"]=b,b["\u001ef_ref"+(d+f)]=w,a["\u001ef_ref"+f]=void 0)}b["\u001ef_refs_length"]=c+d;a["\u001ef_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001ef_refs_length"]||0;++b<c;){var d=a["\u001ef_ref"+
b];null!=d&&(d["\u001ef_context"]=d["\u001ef_ref_index"]=a["\u001ef_ref"+b]=void 0)}a["\u001ef_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001ef_context"];if(b){for(var c=(a["\u001ef_ref_index"]||0)-1,d=(b["\u001ef_refs_length"]||0)-1;++c<=d;)b["\u001ef_ref"+c]=b["\u001ef_ref"+(c+1)];b["\u001ef_refs_length"]=d;a["\u001ef_ref_index"]=a["\u001ef_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&
!0!==a?!1===a||a&&void 0===a["\u001ef_parent"]||a&&a["\u001ef_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(3),f=a(9);a(80);b.exports=function(a){var b,d;if(!a||"object"!==typeof a||!(d=a["\u001ef_meta"])||"object"!==typeof d)return null;var e=this._root.cache,u=this._recycleJSON,r=d.abs_path,z,n;if(!r)return u&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:void 0,_seed:b});if(0===r.length)return u&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:e,_path:r,_referenceContainer:!0,
_seed:b});var v=d.deref_to,m=d.deref_from,h=f(e,r),g="e";if(m){g=!1;d=-1;n=m.length;for(z=e;++d<n&&(z=z[m[d]],z&&!z.$type););if(v&&z&&"ref"===z.$type)for(g=!0,n=v.length,e=z.value,d=0;d<n;++d)if(e[d]!==v[d]){h=void 0;g=!1;break}}g?"e"===g&&(z=!0):z=!1;u&&(b={json:a},b.__proto__=c.prototype);return this._clone({_seed:b,_node:h,_path:r,_referenceContainer:z})}},function(b,d,a){d=a(5);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},
function(b,d,a){d=a(5);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(5);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(5);b.exports=d("MaxRetryExceededError",
function(a,b,d,x){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(x&&"optimized: [\n\t"+c(x)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"f_"},function(b,d,a){var c=a(10);b.exports=function(a,b,d,x,w,u){"number"!==typeof w&&(w=.75);for(var e,f=x*w;w=b.pop();)d-=e=w.$size||0,c(w,e,a,u);if(d>=x){for(b=a["\u001ef_tail"];d>=f&&(w=b);)b=b["\u001ef_prev"],d-=e=w.$size||0,c(w,e,a,
u);a["\u001ef_tail"]=w;null==w?a["\u001ef_head"]=void 0:w["\u001ef_next"]=void 0}}},function(b,d,a){function c(a,b,c){u.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function e(a,b,c,d,e,h){r.call(this,a);this.data=b;this.request=this.missing=null;this.started=!1;this.retryCount=-1;this.errors=c;this.errored=!1;this.relative=null;this.hasValue=!1;this.requested=this.fragments=
null;this.completed=!1;this.operation=d;this.progressive=e;this.maxRetryCount=h}function l(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=v(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(t){throw t;}finally{--c.syncRefCount}}function x(a,b){try{throw b;}catch(q){r.prototype.onError.call(a,q)}}function w(a,b){for(var c,d,g,e=Object.keys(b),h=-1,f=e.length;++h<f;)g=e[h],"\u001ef_meta"===g?a["\u001ef_meta"]=b["\u001ef_meta"]:(d=b[g],c=a[g],c!==d&&(d&&"object"===typeof d?void 0===c?a[g]=d:w(c,d):void 0===
c&&(a[g]=d)));return a}var u=a(49),r=a(13),z=a(84),n=a(3),v=a(55),m=a(47),h=a(82);b.exports=c;c.prototype=Object.create(u.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=
function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){void 0===a&&(a={},a.__proto__=n.prototype);return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=function(a,b){void 0===a&&(a={},a.__proto__=n.prototype);return this.lift(new f(a,b||
this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,
this.operation,this.progressive))};e.prototype=Object.create(r.prototype);e.prototype.operations={get:a(61),set:a(73),call:a(60),invalidate:a(71)};e.prototype.next=e.prototype.onNext=function(a){if(!this.started)this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount;else if(this.destination){var b,c=a.type;a=a.args||a.paths;var d=this.data,e=this.model,g=this.errors,h,f=this.hasValue,m=this.operation,r=this.progressive,
v=r&&d;e._recycleJSON&&"get"===this.type&&(v=!1);v&&(d={},d.__proto__=n.prototype);if(a&&a.length){h=this.operations[c][m](e,a,d,r||!e._source,-1===this.retryCount);if(h.error)return x(this,h.error);g&&h.errors&&g.push.apply(g,h.errors);if(b=h.fragments)a=h.args,this.fragments=b;this.relative=h.relative;this.requested=h.requested;this.missing=b=h.missing;this.hasValue=f||(f=h.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=a,v&&(this.data=w(d,this.data)));r&&f&&d&&(d.json||d.jsonGraph)&&
l(d,m,e._root,this.destination)}};e.prototype.error=e.prototype.onError=function(a){if(a instanceof m)return r.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){if(this.destination){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&l(b,this.operation,
this.model._root,this.destination),b=this.errors,c||a||b&&b.length?x(this,b.length&&b||a):r.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return x(this,new h(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)}};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=
this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;r.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&z(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function c(a){w.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var e=a(49),l=a(87),
x=a(13),w=a(14),u=a(50);b.exports=c;c.prototype=Object.create(w.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=new l("set",f,a._source,new u);e=g.subscribe(new x(e,g));f.add(g);g.data=d.jsonGraph;g.requested.push(c);g.optimized.push(b);g.connect();return e})};c.prototype.call=function(a,b,c,d){var f=this;return new e(function(b){var c=new l("call",f,a._source,new u);b=c.subscribe(new x(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=
function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,h=this.scheduler,g=-1,f=b.subscriptions,q=f.length,r=new w([],a);++g<q;){var t=f[g];if("get"===t.type&&((t=t.batch(d,e,d=[],e=[]))&&r.add(t.subscribe(new x(a,t))),!e.length))break}e.length&&(t=f[g]=(new l("get",b,c,h)).batch(d,e),r.add(t.subscribe(new x(a,t))),t.connect());return r}},function(b,d,a){function c(a,b,c,d){l.call(this,
[],b);this.trees=[];this.type=a;this.data=null;this.responded=this.active=!1;this.paths=null;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){var a,b=this.paths=z(v(this.optimized.reduce(function(a,b){return n(b,a)},{})));this.trees=this.optimized.map(function(a){return v(n(a))});this.active=!0;try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,
this.data)}this.disposable=a.subscribe(this)}catch(k){this.disposable={},l.prototype.onError.call(this,new x(k))}}function e(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,g,f,h=-1,l=b.length;a:for(;++h<l;)if(f=b[h],f.length>c){g=0;do if(f[g]!==a[g])continue a;while(++g<c);d[++e]=f.slice(c)}return d}var l=a(88);a(13);a(14);var x=a(47),w=a(17),u=a(26),r=a(24),z=a(105),n=a(102),v=a(103),m=a(101);b.exports=c;c.prototype=Object.create(l.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=
this.parent;if(b){this.responded=!0;var c=!1,d=a.jsonGraph,f=this.boundPath,b=b.modelRoot,h=a.invalidated,l=a.paths||this.paths,m=this.requested.slice(0);a=this.observers.slice(0);var n=b.onChange;h&&h.length&&(c=r({_root:b,_path:[]},h,!1));l&&l.length&&d&&"object"===typeof d&&(d=w({_root:b},[{paths:l,jsonGraph:d}],b.errorSelector,b.comparator,!1),l=d[0],c=c||d[2]);c&&n&&n.call(b.topLevelModel);a.forEach(function(a,b){a.onNext({type:"get",paths:m[b]||e(f,l)})})}};c.prototype.error=c.prototype.onError=
function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:"error",value:{message:a.message}}:"error"===a.$type&&a||{$type:"error",value:a};var b=b.modelRoot,c=z(v(this.requested.reduce(function(a,b){return n(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&u({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);l.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});
l.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.trees.splice(a,1),this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.trees=[];this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,
a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();l.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,d){if(this.active){var e=[],f=[],g=this.trees,h=-1,l=-1,k=-1,q=-1,r=-1,w=g.length,x=b.length,u=a.length-1;a:for(;++h<x;){for(var z=-1,K=b[h],L=K.length;++z<w;){var S=
g[z][L];if(S&&m(S,K,0,L)){f[++q]=K;r<u&&(e[++r]=a[h<u?h:u]);continue a}}d[++l]=K;k<u&&(c[++k]=a[h<u?h:u])}return~q?(this.requested.push(e),this.optimized.push(f),this.trees.push(v(n(f))),this):null}this.trees.push({});this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(13),e=a(14);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};
c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=
function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d,a){var c=Array.isArray,f=a(19);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(6);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=Array.isArray,f=a(6);b.exports=function(a){return f(a)&&
(c(a.path)||"string"===typeof a.path)}},function(b,d,a){b.exports=a(95)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(96),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(31),a(97)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:
(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/computeFlatBufferHash")},function(b,d){b.exports=
require("@graphistry/falcor-path-utils/lib/flatBufferToPaths")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/getHashCode")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/hasIntersection")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toCollapseMap")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toCollapseTrees")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toFlatBuffer")},function(b,d){b.exports=
require("@graphistry/falcor-path-utils/lib/toPaths")},function(b,d,a){b.exports=a(56)}]);
//# sourceMappingURL=falcor.node.min.js.map
