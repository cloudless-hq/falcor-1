/*!
 * 
 * Copyright 2015 Netflix, Inc
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
module.exports=function(b){function d(c){if(a[c])return a[c].exports;var g=a[c]={i:c,l:!1,exports:{}};b[c].call(g.exports,g,g.exports,d);g.l=!0;return g.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,g,f){Object.defineProperty(a,g,{configurable:!1,enumerable:!0,get:f})};d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,g){return Object.prototype.hasOwnProperty.call(a,g)};d.p="";return d(d.s=106)}([function(b,
d,a){var c=a(53),g=a(31),f=a(54);b.exports=function(a,b){a=a.$expires;return void 0===a||null===a||a===f?!1:a===g?b:a<c()}},function(b,d,a){var c=a(48);b.exports=function(a,f,p){a["\u001e\u0192_invalidated"]||(a["\u001e\u0192_invalidated"]=!0,f.push(a),c(p,a));return a}},function(b,d,a){(function(a){function c(a){a?(this["\u001e\u0192_meta"]=a["\u001e\u0192_meta"])||(this["\u001e\u0192_meta"]=a):this["\u001e\u0192_meta"]={}}function f(c){var e=typeof c,f=arguments.length;if(0===f)c=this;else if(e!==
k){if(!c||e!==r)return c}else{if(1!==f)return c;c=this}return c===a?void 0:c}function p(){return m(f.apply(this,arguments),p)}function A(a,e){return JSON.stringify(m(f.call(this,this),m,!0===a,!1,!0===e))}function l(a){a=f.apply(this,arguments);var e,c,h=0,g=m(a,l,!0,!0);a&&(e=a["\u001e\u0192_meta"])&&(h=e.version);g&&typeof g===r&&(c=g["\u001e\u0192_meta"])&&(c.version=h);return g}function m(a,e,f,g,p){if(!a||typeof a!==r)return a;var h,n,k,b,u,m;if(v(a))m=a;else{h=-1;b=Object.keys(a);n=b.length;
m={};g&&(m.__proto__=c.prototype);if(f&&(k=a["\u001e\u0192_meta"])){var x=k.$code,l=k.status,A=k.abs_path,w=k.deref_to,d=k.deref_from;k={};x&&(k.$code=x);A&&(k.abs_path=A);w&&(k.deref_to=w);d&&(k.deref_from=d);p&&l&&(k.status=l);m["\u001e\u0192_meta"]=k;g&&(k={},k.__proto__=m,m=k)}for(;++h<n;)"\u001e\u0192_meta"!==(u=b[h])&&(m[u]=e(a[u],e,f,g,p))}return m}var w={length:!0,toString:!0,constructor:!0,toLocaleString:!0},d={toJSON:{enumerable:!1,value:p},toProps:{enumerable:!1,value:l},toString:{enumerable:!1,
value:A},toLocaleString:{enumerable:!1,value:A},$__hash:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.$code||""}},$__path:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.abs_path||[]}},$__status:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.status||"resolved"}},$__version:{enumerable:!1,get:function(){var a=this["\u001e\u0192_meta"];return a&&a.version||0}}};Object.defineProperties(c.prototype,Object.getOwnPropertyNames(Array.prototype).reduce(function(a,
e){if(!w.hasOwnProperty(e)){var c=Array.prototype[e];"function"===typeof c&&(c=(new Function("fn","return function "+e+" () {return fn.apply(this, arguments);};"))(c),a[e]={value:c,writable:!0,enumerable:!1})}return a},d));var v=Array.isArray,r="object",k="string";b.exports=c}).call(d,a(32))},function(b,d,a){d=a(4);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d){b.exports=function(a,c){function g(a){this.message=a;c&&c.apply(this,
arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}g.prototype=Object.create(Error.prototype);g.prototype.name=a;g.prototype.constructor=g;g.is=function(c){return c.name===a};return g}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){var c=a(29);b.exports=function(a){for(var f,g=Object.keys(a),b={},l=-1,m=g.length;++l<m;)f=g[l],c(f)||(b[f]=a[f]);return b}},function(b,d,a){b.exports=function(a,g){var c=
g["\u001e\u0192_refs_length"]||0;g["\u001e\u0192_ref"+c]=a;g["\u001e\u0192_refs_length"]=c+1;a["\u001e\u0192_ref_index"]=c;a["\u001e\u0192_context"]=g}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){function c(a,f){var g=a,b,l=0,m=f.length;if(0<m){do for(g=g[f[l]];g&&"ref"===(b=g.$type);)g=c(a,g.value);while(++l<m&&g&&!b)}return g}b.exports=c},function(b,d,a){var c=a(26),g=a(28);b.exports=function(a,p,b,l){var f=a,w;do 0<(f.$size=(f.$size||0)-p)?(w=f["\u001e\u0192_parent"])?
f["\u001e\u0192_version"]!==l&&g(f,l):f["\u001e\u0192_version"]=l:(w=f["\u001e\u0192_parent"])&&c(f,w,f["\u001e\u0192_key"],b,l);while(f=w);return a}},function(b,d,a){d=a(4);b.exports=d("InvalidKeySetError",function(a,g){this.mesage="The KeySet "+JSON.stringify(g)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},function(b,d,a){var c=a(54);b.exports=function(a,f){if(f.$expires!==c){var g=a["\u001e\u0192_head"];if(!g)a["\u001e\u0192_head"]=a["\u001e\u0192_tail"]=
f;else if(g!==f){var b=f["\u001e\u0192_prev"],l=f["\u001e\u0192_next"];l&&(l["\u001e\u0192_prev"]=b);b&&(b["\u001e\u0192_next"]=l);f["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_head"]=f;f["\u001e\u0192_next"]=g;g["\u001e\u0192_prev"]=f;f===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=b)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(g.call(this,[]),this.destination={error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(g.call(this,
[],c),this.parent=c,this.destination=a)}var g=a(14);b.exports=c;c.prototype=Object.create(g.prototype);c.prototype.next=c.prototype.onNext=function(a){var c=this.destination;if(c)if(c.onNext)c.onNext(a);else c.next&&c.next(a)};c.prototype.error=c.prototype.onError=function(a){var c=!1,f=this.destination;f&&(f.onError?(c=!0,f.onError(a)):f.error&&(c=!0,f.error(a)),this.dispose());if(!c)throw a;};c.prototype.complete=c.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();
else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;g.prototype.dispose.call(this)}},function(b,d){function a(a,g){this.parent=g;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,g=this.subscriptions;g.length;)(a=
g.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d,a){var c=a(0),g=a(1),f=a(12);b.exports=function(a,b,l,m,w,d,v,r,k,h,e,n,u,x,q,t,z,D,E,F,C,B,G){var p=E;if(b)if(c(a,q))a["\u001e\u0192_invalidated"]||g(a,x,u);else if(f(u,a),void 0===a.value)E=!1,p=D;else{if(d)return n&&(r[w]=null),C(a,b,w,d,v,r,h,e,n,z,D,F);return}if(D)d&&(v.hasValue=!0);else if(!p)return;return B(m,w,v,r,k,n,h,e,E,D,l,t,z,G,u)}},function(b,d,a){var c=a(9);b.exports=function(a,
f){f=f||a._path;var g=a._node;if(!g||void 0===g["\u001e\u0192_parent"]||g["\u001e\u0192_invalidated"])a._node=null,0===f.length?g=a._root.cache:(g=c(a._root.cache,f),f===a._path&&(a._node=g));return g}},function(b,d,a){function c(a,f,k,h,e,n,b,p,q,t,m,l,w,d,A,B,G,K){var u={},x=f<a.length-1,r=a[f],z=y(r,u),v=l.index;do{m.depth=f;var D=g(k,h,e,n,b,p,z,x,!1,m,l,w,d,A,B,G,K);m[f]=z;m.index=f;var F=D[0],E=D[1],C=D[4];C[C.index++]=z;F&&(x?c(a,f+1,k,E,F,n,D[3],D[2],q,t,m,C,w,d,A,B,G,K):(q.push(m.slice(0,
m.index+1)),t.push(C.slice(0,C.index))));z=y(r,u);if(u.done)break;l.index=v}while(1)}function g(a,c,k,h,e,n,b,x,q,t,z,d,y,F,C,B,G){for(q=k.$type;"ref"===q;){a:{c=a;e=h;z=t;var u=d,r=y,v=F,D=C,E=B,O=G,Q,I,P=k.value;q=P.slice(0);if(p(k,O))A(k,r,v),k=void 0,Q=c,I=e,q.index=P.length;else{var U=0,X=k,M=P.length-1;Q=k=c;I=n=e;do{var T=P[U],W=U<M;q.index=U;I=g(c,Q,k,e,I,n,T,W,!0,z,q,u,r,v,D,E,O);k=I[0];q=I[4];if(!k||"object"!==typeof k){q.index=U;z=I;break a}Q=I[1];n=I[2];I=I[3]}while(U++<M);q.index=U;X["\u001e\u0192_context"]!==
k&&l(X,k)}f[0]=k;f[1]=Q;f[2]=n;f[3]=I;f[4]=q;z=f}k=z[0];if(!k||"object"!==typeof k)return z;c=z[1];n=z[2];e=z[3];z=z[4];q=k.$type}if(void 0===q){if(null==b){if(x)throw new w;k&&(b=k["\u001e\u0192_key"])}else c=k,e=n,k=c[b],n=e&&e[b];k=m(c,k,n,b,t,z,d,y,F,C,B,G)}f[0]=k;f[1]=c;f[2]=n;f[3]=e;f[4]=z;return f}var f=Array(5),p=a(0),A=a(1),l=a(7),m=a(72),w=a(3),y=a(33);b.exports=function(a,g,b,h,e){a=a._root;for(var n=a.expired,k=a.version+1,p=a.cache,q=[],t=[],m=[],l=[],r=-1,w=g.length;++r<w;)for(var d=
g[r],v=d.paths,d=d.jsonGraph,A=-1,y=v.length;++A<y;){var L=v[A];t.index=0;c(L,0,p,p,p,d,d,d,m,l,q,t,k,n,a,h,b,e)}f[0]=void 0;f[1]=void 0;f[2]=void 0;f[3]=void 0;f[4]=void 0;return p["\u001e\u0192_version"]===k?(a.version=k,[m,l,!0]):[m,l,!1]}},function(b,d,a){function c(a,f,e,b,m,x,q,t,z,l,r,w,d,v,A){var h;if(a&&"object"===typeof a&&!a.$type){h=[];var n=0;p(a)&&(h[n++]="length");for(var k in a)y(k)||(h[n++]=k)}else h=void 0;if(h&&h.length){n=0;k=h.length;var u=z.index;do{var D=h[n],F=a[D],E=!(!F||
"object"!==typeof F)&&!F.$type;t.depth=f;var C=g(e,b,m,D,F,E,!1,t,z,l,r,w,d,v,A);t[f]=D;t.index=f;var B=C[0],G=C[1],C=C[2];C[C.index++]=D;B&&(E?c(F,f+1,e,G,B,x,q,t,C,l,r,w,d,v,A):(x.push(t.slice(0,t.index+1)),q.push(C.slice(0,C.index))));if(++n>=k)break;z.index=u}while(1)}}function g(a,c,e,b,p,x,q,t,z,w,d,y,C,B,G){for(var h=e.$type;"ref"===h;){a:{c=p;z=a;var h=t,n,k=w,u=d,D=y,F=C,E=B,I=G,P,U=e.value;n=U.slice(0);if(A(e,I))l(e,u,D),e=void 0,P=z,n.index=U.length;else{var X=e;e=e["\u001e\u0192_context"];
if(null!=e)P=e["\u001e\u0192_parent"]||z,n.index=U.length;else{var M=0,T=U.length-1;n.index=M;P=e=z;do{P=g(z,P,e,U[M],c,M<T,!0,h,n,k,u,D,F,E,I);e=P[0];n=P[2];if(!e||"object"!==typeof e){n.index=M;z=P;break a}P=P[1]}while(M++<T);n.index=M;X["\u001e\u0192_context"]!==e&&m(X,e)}}f[0]=e;f[1]=P;f[2]=n;z=f}e=z[0];if(!e||"object"!==typeof e)return z;c=z[1];z=z[2];h=e&&e.$type}if(!x||void 0===h){if(null==b){if(x)throw new v;e&&(b=e["\u001e\u0192_key"])}else c=e,e=c[b];e=r(c,e,b,p,x,q,t,z,w,d,y,C,B,G)}f[0]=
e;f[1]=c;f[2]=z;return f}var f=Array(3),p=Array.isArray,A=a(0),l=a(1),m=a(7),w=a(9),y=a(19),v=a(3),r=a(42);b.exports=function(a,g,e,b,p){var h=a._root,q=h.expired,n=h.version+1;a=a._path;var k=h.cache,m=w(k,a);if(!m)return[[],[],!1];for(var u=m["\u001e\u0192_parent"]||k,l=[],r=[],d=[],v=a.length,A=-1,y=g.length;++A<y;){var J=g[A],N=a.slice(0);N.index=v;c(J.json,0,k,u,m,r,d,l,N,n,q,h,b,e,p)}f[0]=void 0;f[1]=void 0;f[2]=void 0;return k["\u001e\u0192_version"]===n?(h.version=n,[r,d,!0]):[r,d,!1]}},function(b,
d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(29)},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/support/materializedAtom")},function(b,d,a){b.exports=a(34)},function(b,d,a){b.exports=a(37)},function(b,d){b.exports=function(a,c,g,f,b){var p=0,l;l=f.jsonGraph;l||(f.jsonGraph=l={});do{f=c[p++];if(p>=g){l=l[f]=!0!==b?a:l[f]||{};break}l=l[f]||(l[f]={})}while(1);return l}},function(b,d){var a=Array.isArray;b.exports=function(c,g,f,b,d,l,m,w,y,v,r,k,h,e,n){if(y||v){for(var p,
x=-1,q=(l=d-g)&&Array(l)||void 0;++x<l;){p=c[x+g];var t;t=p;if("object"!==typeof t||null===t)t=!1;else if(a(t))t=0===t.length;else{var z=t.to,A=t.from||0;"number"!==typeof z&&(z=A+(t.length||0));t=A>=z}if(t)return;q[x]=p}var E;c=null===p;p=y;var F;y?(t=d,z=b,F=f.requested||(f.requested=[])):(g=w,z=m,t=w+l-Number(c));do{if(l<d||!p){b=-1;x=g;for(E=Array(t);++b<x;)E[b]=z[b];for(x=-1;b<t;)E[b++]=q[++x]}if(p=!p){y&&(F[F.length]=E);break}F[F.length]=E||q;g=w;z=m;F=f.missing||(f.missing=[]);t=w+l-Number(c)}while(1);
if(v)return e(r,E,g,t,k,h,n)}}},function(b,d,a){function c(a,h,e,b,p,x,q,t,l){var n={},k=h<a.length-1,u=a[h],d=r(u,n);do{f=g(e,b,p,d,k,!1,x,q,t,l);var d=f[0],w=f[1];d&&(k?c(a,h+1,e,w,d,x,q,t,l):v(d,m(d),t,x));d=r(u,n)}while(!n.done)}function g(a,c,e,b,m,x,q,t,d,r){for(x=e.$type;"ref"===x;){a:{c=a;x=q;var h=t,n=d,k=r;if(p(e,k))A(e,h,n),f[0]=void 0,f[1]=c;else{l(n,e);var u=e,z=e.value,v;e=e["\u001e\u0192_context"];if(null!=e)v=e["\u001e\u0192_parent"]||c;else{var y=0,D=z.length-1;v=e=c;do{f=g(c,v,e,
z[y],y<D,!0,x,h,n,k);e=f[0];if(!e&&"object"!==typeof e)break a;v=f[1]}while(y++<D);u["\u001e\u0192_context"]!==e&&w(u,e)}f[0]=e;f[1]=v}}e=f[0];if(!e&&"object"!==typeof e)return f;c=f[1];x=e.$type}if(void 0===x)if(null==b){if(m)throw Error("`null` is not allowed in branch key positions.");}else c=e,e=c[b];f[0]=e;f[1]=c;return f}var f=Array(2),p=a(0),A=a(1),l=a(12),m=a(8),w=a(7),y=a(16),v=a(10),r=a(33);b.exports=function(a,g,e){var h=a._root,b=h.expired,p=h.version+1,q=h.cache;a=y(a);if(!a)return!1;
for(var k=-1,m=g.length,d=a["\u001e\u0192_parent"]||q;++k<m;)c(g[k],0,q,d,a,p,b,h,e);f[0]=void 0;f[1]=void 0;return q["\u001e\u0192_version"]===p?(h.version=p,!0):!1}},function(b,d,a){function c(a,b,d,v,r){if(a&&"object"===typeof a){var k=a.$type;if(void 0===k)for(var h in a)f(h)||c(a[h],a,h,v,r);else"ref"===k&&A(a),g(v,a);p(l(a,r));b[d]=a["\u001e\u0192_parent"]=void 0;return!0}return!1}var g=a(48),f=a(19),p=a(75),A=a(76),l=a(28);b.exports=c},function(b,d,a){function c(a,f,h,e,b,p,m,q,t,d,l,w,v,A,
B,G){var n={},k=h<f.length-1,u=f[h],r=y(u,n),x=d.index;do{t.depth=h;t[h]=r;t.index=h;var z=g(e,b,p,r,a,k,!1,t,d,l,w,v,A,B,G);t[h]=r;t.index=h;var D=z[0],F=z[1],z=z[2];z[z.index++]=r;D&&(k?c(a,f,h+1,e,F,D,m,q,t,z,l,w,v,A,B,G):(m.push(t.slice(0,t.index+1)),q.push(z.slice(0,z.index))));r=y(u,n);if(n.done)break;d.index=x}while(1)}function g(a,c,h,e,b,m,d,q,t,z,y,E,F,C,B){for(var n=h.$type;"ref"===n;){a:{c=b;t=a;var n=q,k,u=z,r=y,x=E,D=F,O=C,Q=B,I,P=h.value;k=P.slice(0);if(p(h,Q))A(h,r,x),h=void 0,I=t,
k.index=P.length;else{var U=h;h=h["\u001e\u0192_context"];if(null!=h)I=h["\u001e\u0192_parent"]||t,k.index=P.length;else{var X=0,M=P.length-1;I=h=t;do{var T=P[X],W=X<M;k.index=X;I=g(t,I,h,T,c,W,!0,n,k,u,r,x,D,O,Q);h=I[0];k=I[2];if(!h||"object"!==typeof h){k.index=X;t=I;break a}I=I[1]}while(X++<M);k.index=X;U["\u001e\u0192_context"]!==h&&l(U,h)}}f[0]=h;f[1]=I;f[2]=k;t=f}h=t[0];if(!h||"object"!==typeof h)return t;c=t[1];t=t[2];n=h.$type}if(!m||void 0===n){if(null==e){if(m)throw new w;h&&(e=h["\u001e\u0192_key"])}else c=
h,h=c[e];h=v(c,h,e,b,m,d,q,t,z,y,E,F,C,B)}f[0]=h;f[1]=c;f[2]=t;return f}var f=Array(3),p=a(0),A=a(1),l=a(7),m=a(9),w=a(3),y=a(33),v=a(42);b.exports=function(a,g,h,e,b){var p=a._root,n=p.expired,q=p.version+1;a=a._path;var k=p.cache,d=m(k,a);if(!d)return[[],[],!1];for(var l=d["\u001e\u0192_parent"]||k,r=[],w=[],v=[],A=a.length,y=-1,K=g.length;++y<K;){var L=g[y],J=L.path,L=L.value,N=a.slice(0);N.index=A;c(L,J,0,k,l,d,w,v,r,N,q,n,p,e,h,b)}f[0]=void 0;f[1]=void 0;f[2]=void 0;return k["\u001e\u0192_version"]===
q?(p.version=q,[w,v,!0]):[w,v,!1]}},function(b,d,a){b.exports=function(a,g){var c=a,b=[],d=0,l,m,w;do{m=-1;l=c["\u001e\u0192_parent"];c["\u001e\u0192_version"]=g;w=c["\u001e\u0192_refs_length"]||0;do if(l&&l["\u001e\u0192_version"]!==g&&(b[d++]=l),++m<w)l=c["\u001e\u0192_ref"+m];else break;while(1)}while(c=b[--d]);return a}},function(b,d,a){d=a(83);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,
d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=d},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/iterateKeySet")},function(b,d,a){var c=Array.isArray,g=a(64),f=a(63),p=a(16),A=a(81),l=a(104),m=a(98);b.exports=function(a,b,d,r,k){var h,e;r=a._path;var n=a._root,u=n.cache,x,q,t,z=r&&r.length||0;if(z){if((h=p(a))&&h.$type)return{error:new A(r,r)};t=[];for(e=0;e<
z;++e)t[e]=r[e];e=a._referenceContainer}else h=u,t=[];x=[];var w=!1,v=d&&d.json,y={data:d},C=a._boxed,B=n.expired;q=a._recycleJSON;var G=!!a._source,K=n.branchSelector,L=d&&a._materialized,J=a._treatErrorsAsValues;a=a._allowFromWhenceYouCame;var N,S=0,O=b.length;if(0<O){q&&(w=!0,1<O||c(b[0]))&&(O=1,b=[m(l(b,{}))]);do N=b[S],w?q=f(u,h,v,b[0],0,d,y,x,t,z,!1,e,n,B,k,K,C,L,G,J,a):(q=N.length,q=g(u,h,v,N,0,d,y,x,q,t,z,!1,e,n,B,k,K,C,L,G,J,a)),v=q[0],q[0]=void 0,q[1]=void 0;while(++S<O)}k=y.requested;y.args=
w&&b||k;if(k&&k.length&&(y.relative=y.args,z)){b=[];e=0;for(z=k.length;e<z;++e)b[e]=r.concat(k[e]);y.requested=b}y.hasValue&&(d.json=v);return y}},function(b,d,a){var c=Array(3),g=a(12),f=a(0),p=a(7),A=a(46);b.exports=function(a,b,d,y){g(d,b);var m,l,k=0,h=a,e=b.value,n=e,u=e.length;do{if(0===k&&void 0!==(m=b["\u001e\u0192_context"]))h=m,k=u;else if(l=e[k++],void 0===(h=h[l]))break;if(k===u){l=h.$type;if(void 0!==l&&f(h,y))break;else{if(h===b)throw new A(e);h!==m&&p(b,h)}if("ref"===l)g(d,h),k=0,b=
h,h=a,e=n=b.value,u=e.length;else break}else if(void 0!==h.$type)break}while(1);k<u&&void 0!==h&&(u=k);k=-1;for(e=Array(u);++k<u;)e[k]=n[k];c[0]=h;c[1]=e;c[2]=b;return c}},function(b,d,a){var c=a(6),g=a(62);b.exports=function(a,b,d,l,m,w,y,v,r,k,h,e){if("error"===b&&!e)return g(a,d,m,w,r,k);m.hasValue=!0;return k?c(a):a.value}},function(b,d,a){var c=a(67),g=a(79);b.exports=function(a,b,d,l,m){var f,p;f=a._path;l=a._root;var v,r,k=f&&f.length||0;if(k)return{error:new g};r=[];p=f=l.cache;v=[];for(var h=
a._boxed,e=l.expired,n=a._materialized,u=!!a._source,x=a._treatErrorsAsValues,q={data:d},t=-1,z=b.length;++t<z;){var A=b[t];a=A.length;c(p,f,A,0,d,q,v,a,r,k,!1,l,e,m,h,n,u,x)}q.args=q.relative=q.requested;return q}},function(b,d,a){function c(a,b,d,v,r,k,h){if(d===v)return k?f(l):void 0;var e,n,m=d+1,x,q=-1,t=0;n=b[d];a&&"object"===typeof a?((e=a["\u001e\u0192_meta"])||(a["\u001e\u0192_meta"]=e={}),e.status="resolved",e.version=h.version,e.abs_path=b.slice(0,d)):(a={},a.__proto__=p.prototype,a["\u001e\u0192_meta"]=
e={},e.status="resolved",e.version=h.version,e.abs_path=b.slice(0,d),r&&(a=r(a)));a:do{if("object"!==typeof n)d=n,e=void 0,n=!1;else if(g(n)){if(void 0!==x)throw new A(b,x);q=0;x=n;t=n.length;if(0===t)break a;n=x[q];continue a}else{e=n.to;d=n.from||0;"number"!==typeof e&&(e=d+(n.length||0)-1);if(0>e-d)break a;n=!0}do a[d]=c(a[d],b,m,v,r,k,h);while(n&&++d<=e);if(++q===t)break a;n=x[q]}while(1);return a}var g=Array.isArray,f=a(6),p=a(2);a(3);var A=a(11),l=a(20);b.exports=c},function(b,d,a){var c=Array.isArray,
g=a(93),f=a(51),p=a(52);b.exports=function(a){for(var b=[],d=-1,w=a.length,A,v,r,k;++d<w;)r=a[d],c(r)?(r={path:r},k="PathValues"):g(r)?k="PathValues":p(r)?k="JSONGraphs":f(r)&&(k="PathMaps"),v!==k&&(v=k,b.push(A={arguments:[],inputType:k})),A.arguments.push(r);return b}},function(b,d,a){b.exports=function(a,b,f,p,d){a["\u001e\u0192_key"]=f;a["\u001e\u0192_parent"]=b;void 0!==p&&(a["\u001e\u0192_version"]=p);a["\u001e\u0192_abs_path"]||(a["\u001e\u0192_abs_path"]=d.slice(0,d.index).concat(f));return b[f]=
a}},function(b,d,a){function c(a,b,e,n,p,d,q,t,l,w){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!v(h)){var k=a[h],u=!(!k||"object"!==typeof k)&&!k.$type;f=g(e,n,p,h,k,u,!1,d,q,t,l,w);var x=f[0],z=f[1];x&&(u?c(k,b+1,e,z,x,d,q,t,l,w):r(x,m(x),t,d))}}function g(a,c,e,b,d,m,q,t,r,v,y,F){for(q=e.$type;"ref"===q;){a:{c=d;q=a;var h=t,n=r,k=v,x=y,u=F;if(p(e,u))A(e,n,k),f[0]=void 0,f[1]=q;else{l(k,e);var z=e,D=e.value,E;e=e["\u001e\u0192_context"];if(null!=e)E=e["\u001e\u0192_parent"]||q;else{var O=
0,Q=D.length-1;E=e=q;do{f=g(q,E,e,D[O],c,O<Q,!0,h,n,k,x,u);e=f[0];if(!e&&"object"!==typeof e)break a;E=f[1]}while(O++<Q);z["\u001e\u0192_context"]!==e&&w(z,e)}f[0]=e;f[1]=E}}e=f[0];if(!e&&"object"!==typeof e)return f;c=f[1];q=e.$type}if(void 0===q)if(null==b){if(m)throw Error("`null` is not allowed in branch key positions.");}else c=e,e=c[b];f[0]=e;f[1]=c;return f}var f=Array(2),p=a(0),A=a(1),l=a(12),m=a(8),w=a(7),y=a(16),v=a(19),r=a(10);b.exports=function(a,b,e){var g=a._root,h=g.expired,p=g.version+
1,q=g._comparator,d=g.cache;a=y(a);if(!a)return!1;for(var k=-1,m=a["\u001e\u0192_parent"]||d,l=b.length;++k<l;)c(b[k].json,0,d,m,a,p,h,g,q,e);f[0]=void 0;f[1]=void 0;return d["\u001e\u0192_version"]===p?(g.version=p,!0):!1}},function(b,d,a){var c=a(31),g=a(92),f=a(8),p=a(30),A=a(45),l=a(0),m=a(1),w=a(40),y=a(44),v=a(43),r=a(10);a(26);b.exports=function(a,b,e,d,u,x,q,t,z,D,E,F,C,B){B=g(b,x);if(u||x){if(B&&l(b,!0)&&(m(b,D,E),B=b.$expires===c?B:"expired"),B&&"ref"!==B||!b||"object"!==typeof b)b=y(b,
{},a,e,E,z),b=w(b,a,e,z,t)}else u=g(d),(B||u)&&(F?3>F.length?F(b,d):F(b,d,t.slice(0,t.index)):!1!==p(d)<p(b))||(C&&"error"===u&&(d=C(v(q,e),d)),q=f(b)-f(d=A(d,u,u?d.value:d)),b=y(b,d,a,e,E,z),a=r(a,q,E,z),b=w(b,a,e,z,t));return b}},function(b,d){b.exports=function(a,c){a=a.slice(0,a.depth);a[a.length]=c;return a}},function(b,d,a){var c=a(74),g=a(26),f=a(28);b.exports=function(a,b,d,m,w,y){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),g(a,d,m,w),f(b,y));return d[m]=b}},function(b,d,a){var c=Array.isArray,
g=a(53),f=a(90),p=a(8),A=a(91),l=a(31);b.exports=function(a,b,d){var m=0;if(b){var r=a["\u001e\u0192_wrapped_value"];a=f(a);m=p(a);a.$type=b;a["\u001e\u0192_prev"]=void 0;a["\u001e\u0192_next"]=void 0;a["\u001e\u0192_wrapped_value"]=r||!1}else a={$type:"atom",value:d,"\u001e\u0192_prev":void 0,"\u001e\u0192_next":void 0,"\u001e\u0192_wrapped_value":!0};if(null==d)m=51;else if(null==m||0>=m)switch(typeof d){case "object":m=c(d)?50+d.length:51;break;case "string":m=50+d.length;break;default:m=51}b=
A(a);"number"===typeof b&&b<l&&(a.$expires=g()+-1*b);a.$size=m;return a}},function(b,d,a){d=a(4);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(4);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){b.exports=function(a,b){var c=b["\u001e\u0192_prev"],g=b["\u001e\u0192_next"];g&&(g["\u001e\u0192_prev"]=c);c&&(c["\u001e\u0192_next"]=
g);b["\u001e\u0192_prev"]=b["\u001e\u0192_next"]=void 0;b===a["\u001e\u0192_head"]&&(a["\u001e\u0192_head"]=g);b===a["\u001e\u0192_tail"]&&(a["\u001e\u0192_tail"]=c)}},function(b,d,a){(function(c){function g(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var f=a(13),d=a(14),A=a(94).default;b.exports=g;g.prototype[A]=function(){return this};g.prototype.operator=function(a){return this.subscribe(a)};g.prototype.subscribe=function(a,c,b){return new d([this.operator.call(this.source,
a instanceof f?a:new f(a,c,b))])};g.prototype.then=function(a,b){var f=this;this._promise||(this._promise=new c.Promise(function(a,c){var b=[],g=!1;f.subscribe({next:function(a){b[b.length]=a},error:function(a){g=!0;c(a)},complete:function(){!g&&a(1>=b.length?b[0]:b)}})}));return this._promise.then(a,b)}}).call(d,a(32))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(5);b.exports=
function(a){return c(a)&&"json"in a}},function(b,d,a){var c=Array.isArray,g=a(5);b.exports=function(a){return g(a)&&c(a.paths)&&(g(a.jsonGraph)||g(a.jsong)||g(a.json)||g(a.values)||g(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/collapse")},function(b,d,a){function c(a){if(!(this instanceof g))return new g(a);g.call(this,a)}var g=a(57);d=a(2);c.prototype=Object.create(g.prototype);c.Model=g;c.FalcorJSON=
d;c.toProps=d.prototype.toProps;b.exports=c},function(b,d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new f(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new m;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={},this._seed.__proto__=p.prototype);this._boxed=!0===a.boxed||a._boxed||
!1;this._materialized=!0===a.materialized||a._materialized||!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var g=a(85),f=a(59),p=a(2),A=a(58),l=a(89),m=a(50),w=a(55);a(8);var y=a(5),v=a(51),r=a(9),k=a(52),h=a(18),e=a(17),n=a(21),u=a(69),x=a(22);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){var a=this._seed;a||(a={},a.__proto__=
p.prototype);for(var c=arguments.length,b=Array(c),e=0;e<c;e++)b[e]=arguments[e];return(new g("get",this,b))._toJSON(a,[])};c.prototype.set=function(){var a={};a.__proto__=p.prototype;for(var c=arguments.length,b=Array(c),e=0;e<c;e++)b[e]=arguments[e];return(new g("set",this,b))._toJSON(a,[])};c.prototype.preload=function(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];return(new g("get",this,c))._toJSON(null,[])};c.prototype.call=function(){var a={};a.__proto__=p.prototype;
for(var c=arguments.length,e=Array(c),b=0;b<c;b++)e[b]=arguments[b];return(new g("call",this,e))._toJSON(a,[])};c.prototype.invalidate=function(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];return(new g("invalidate",this,c))._toJSON(null,null).then()};c.prototype.deref=a(78);c.prototype._hasValidParentReference=a(77);c.prototype.getValue=function(a){return(new g("get",this,[a]))._toJSON({},[]).lift(function(c){return this.subscribe({onNext:function(e){var b=-1;e=e.json;for(var f=
a.length;e&&!e.$type&&++b<f;)e=e[a[b]];c.onNext(e)},onError:c.onError.bind(c),onCompleted:c.onCompleted.bind(c)})})};c.prototype.setValue=function(a,c){a=1===arguments.length?a.path:a;c=1===arguments.length?a:{path:a,value:c};return(new g("set",this,[c]))._toJSON({},[]).lift(function(c){return this.subscribe({onNext:function(e){var b=-1;e=e.json;for(var f=a.length;e&&!e.$type&&++b<f;)e=e[a[b]];c.onNext(e)},onError:c.onError.bind(c),onCompleted:c.onCompleted.bind(c)})})};c.prototype.setCache=function(a){var c=
this._root,b=c.cache;if(a!==b){var f={_path:[],_boxed:!1,_root:c,_materialized:!1,_treatErrorsAsValues:!1};c.cache=this._node={};"undefined"!==typeof b&&(c.expired=[],c["\u001e\u0192_head"]=void 0,c["\u001e\u0192_tail"]=void 0,this._recycleJSON&&(this._seed={},this._seed.__proto__=p.prototype));var g,d;k(a)?g=e(f,[a]):v(a)?g=h(f,[a]):y(a)&&(g=h(f,[{json:a}]));g&&(g[0].length&&n(f,g[0],null,!1,!1),g[2]&&(d=c.onChange)&&d())}else"undefined"===typeof b&&(this._root.cache={});return this};c.prototype.getCache=
function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return u(this._root.cache);var c={};c.__proto__=p.prototype;c=x({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},a,c).data;c.paths=w(a);return c};c.prototype.getVersion=function(a){a=a||[];if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,
a)};c.prototype._clone=function(a){var e=new c(this);if(a)for(var b in a){var f=a[b];"delete"===f?delete e[b]:"_path"===b?(e[b]=f,!1===a.hasOwnProperty("_node")&&delete e._node):e[b]=f}0<e._path.length&&(e.setCache=void 0);return e};c.prototype.batch=function(a){var c;"number"===typeof a?c=new l(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?c=a:"function"===typeof a&&(c={scheudle:a}):c=new l(1);return this._clone({_scheduler:c})};c.prototype.unbatch=function(){return this._clone({_scheduler:new m})};
c.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new A(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};
c.prototype.inspect=function(){return"{ v: "+this.getVersion()+" p: ["+this._path.join(", ")+"] }"};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=r(this._root.cache,a);return(a&&a["\u001e\u0192_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(70);c.prototype._getPathValuesAsPathMap=
n;c.prototype._getPathValuesAsJSONG=x;c.prototype._setPathValues=a(27);c.prototype._setPathMaps=a(18);c.prototype._setJSONGs=a(17);c.prototype._setCache=a(18);c.prototype._invalidatePathValues=a(25);c.prototype._invalidatePathMaps=a(41)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,f,d){return this._model.call.apply(this._model,
[a,b,f].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,c){a=a||{};this.cache={};this.version=-1;this.syncRefCount=0;this.maxRetryCount=10;this.topLevelModel=c;this.requests=new g(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var g=a(86),f=a(30);c.comparator=c.prototype.comparator=function(a,c){var b=a&&a.$type,g=c&&c.$type;return b?g?!0===f(c)<f(a)?!0:!(b!==g||a.value!==c.value||a.$expires!==
c.$expires):a.value===c:g?!1:a===c};b.exports=c},function(b,d,a){var c=a(21),g=a(22);b.exports={json:function(a,b,g,d){var f=!1;if(!b)return{missing:!1,hasValue:!1};var p=[].concat(b[1]||[]),l=[].concat(b[2]||[]),v=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&v&&v.length&&(f=c(a,v,g,d,!0).hasValue);return{data:g,missing:!0,hasValue:f,fragments:[b,p,l,v]}},jsonGraph:function(a,c,b,d){var f=!1;if(!c)return{missing:!1,hasValue:!1};var p=[].concat(c[1]||[]),l=[].concat(c[2]||[]),v=[].concat(c[3]||
[]);c=(a._path||[]).concat(c[0]||[]);d&&v&&v.length&&(f=g({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},v,b,!0,!0).hasValue);return{data:b,missing:!0,hasValue:f,fragments:[c,p,l,v]}}}},function(b,d,a){b.exports={json:a(34),jsonGraph:a(37)}},function(b,d,a){var c=a(6);b.exports=function(a,b,d,A,l,m){var f=-1;b+=!!l;l=Array(b);for(a=m?c(a):a.value;++f<b;)l[f]=A[f];(d.errors||(d.errors=[])).push({path:l,value:a})}},function(b,d,a){function c(a,
b,e,d,t,z,y,E,F,C,B,G,K,L,J,N,S,O,Q,I,P){var n,u;if(void 0===b||void 0!==(n=b.$type)||void 0===d)return p[1]=Q&&void 0===b,p[0]=w(b,n,e,d,t,z,y,E,t,F,C,B,K,L,J,N,S,O,Q,I,A,g,r),p;var q,x,D;n="";var R,H,V,da=d.$keys,ea=t+1,Z,aa,ca,ia,ba,fa=C+1,Y,ga;P&&G&&(ga=G.value,Y=G["\u001e\u0192_abs_path"]);if(!e||"object"!==typeof e)e=void 0;else if(q=e["\u001e\u0192_meta"]){D=b["\u001e\u0192_abs_path"];x=q.abs_path;N||e instanceof l||(e.__proto__={},e.__proto__["\u001e\u0192_meta"]=q,e.__proto__.__proto__=l.prototype);
if(!f(D,x)){q.$code="";q.status="pending";q.abs_path=D;q.version=b["\u001e\u0192_version"];ga&&(q.deref_to=ga);Y&&(q.deref_from=Y);if(x=q.keys)for(H in q.keys=Object.create(null),x)x[H]&&delete e[H];p[0]=e;p[1]=!0;return p}if(q.version===b["\u001e\u0192_version"]&&q.$code===d.$code)return y.hasValue=!0,p[0]=e,p[1]=!1,p;x=q.keys;q.abs_path=D;q.version=b["\u001e\u0192_version"];ga&&(q.deref_to=ga);Y&&(q.deref_from=Y)}D=Object.create(null);var ka=-1,ma=da.length,ha,la,ja=!1;a:for(;++ka<ma;)if(B=da[ka],
ha=d[ka],null===B){if(void 0!==ha)throw new k;n=""+h(""+n+"null")}else{if("object"!==typeof B)H=B,Z=void 0,V=!1,la=H;else{Z=B.to;H=B.from||0;"number"!==typeof Z&&(Z=H+(B.length||0)-1);if(0>Z-H)break a;V=!0;la="["+H+".."+Z+"]"}do{B=!1;aa=e&&e[H];ba=F;ia=fa;ca=G;R=b[H];E[t]=H;F[C]=H;if(void 0===ha){if(p=c(a,R,aa,ha,ea,z,y,E,ba,ia,B,ca,K,L,J,N,S,O,Q,I,P),!0===p[1]&&(ja=!0),void 0===(aa=p[0])&&!O){e&&e.hasOwnProperty(H)&&delete e[H];continue}}else if(R&&"ref"===R.$type&&!m(R,J)&&(u=v(a,R,K,J),R=u[0],
B=!0,ba=u[1],ca=u[2],ia=ba.length,u[0]=u[1]=u[2]=void 0),p=c(a,R,aa,ha,ea,z,y,E,ba,ia,B,ca,K,L,J,N,S,O,Q,I,P),!0===p[1]&&(ja=!0),void 0===(aa=p[0])){e&&e.hasOwnProperty(H)&&delete e[H];continue}void 0===q&&(q={},q.version=b["\u001e\u0192_version"],q.abs_path=b["\u001e\u0192_abs_path"],ga&&(q.deref_to=ga),Y&&(q.deref_from=Y),e={},e["\u001e\u0192_meta"]=q,e.__proto__=l.prototype,N?e=N(e):(B=e,e={},e.__proto__=B));D[H]=!0;x&&H in x&&(x[H]=!1);e[H]=aa}while(V&&++H<=Z);n=""+h(""+n+(ja?"":la)+(ha?ha.$code:
""))}if(q&&(q.$code=n,q.keys=D,q.status=ja&&"pending"||"resolved",x))for(H in x)x[H]&&delete e[H];p[0]=e;p[1]=ja;return p}function g(a,c,b,f,d,h,k,p,m,l,r,v,w,A,J){if(l)return A(r,a,c,c,v,w,J,b,f,k,p,h,m,g);a=a?e(a):[[]];var n=f.slice(0,d);return a.forEach(function(a){d=c+a.length;return y(n.concat(a),c,b,f,d,h,k,p,m,!1,r,v,w,A,J)})}function f(a,c){if(a===c)return!0;var e=a.length;if(e!==c.length)return!1;for(;~--e;)if(a[e]!==c[e])return!1;return!0}var p=Array(2),A=a(36),l=a(2),m=a(0),w=a(15),y=a(24),
v=a(35),r=a(68),k=a(3);a(11);var h=a(100),e=a(99);b.exports=c},function(b,d,a){function c(a,e,b,d,x,q,t,z,D,E,F,C,B,G,K,L,J,N,S,O,Q,I){var h,n;if(void 0===e||(h=e.$type)||x===D)return g[1]=O&&void 0===e,g[0]=m(e,h,b,d,x,q,t,z,D,E,F,C,G,K,L,J,N,S,O,Q,p,A,y),g;var u,M,T,W=x+1,R,H,V,da,ea=-1,Z=0,aa,ca,ia=F+1,ba,fa;C=d[x];if(null===C){if(W<D)throw new r;g[0]=b;g[1]=!1;return g}I&&B&&(fa=B.value,ba=B["\u001e\u0192_abs_path"]);if(!b||"object"!==typeof b)b=void 0;else if(u=b["\u001e\u0192_meta"])u.version=
e["\u001e\u0192_version"],u.abs_path=e["\u001e\u0192_abs_path"],fa&&(u.deref_to=fa),ba&&(u.deref_from=ba);var Y=!1;a:do{if("object"!==typeof C)h=C,R=void 0,T=!1;else if(f(C)){if(void 0!==H)throw new k(d,H);ea=0;H=C;Z=C.length;if(0===Z)break a;C=H[ea];continue a}else{R=C.to;h=C.from||0;"number"!==typeof R&&(R=h+(C.length||0)-1);if(0>R-h)break a;T=!0}do{C=!1;V=b&&b[h];ca=E;aa=ia;da=B;M=e[h];z[x]=h;E[F]=h;if(W===D){if(g=c(a,M,V,d,W,q,t,z,D,ca,aa,C,da,G,K,L,J,N,S,O,Q,I),!0===g[1]&&(Y=!0),void 0===(V=
g[0])&&!S)continue}else if(M&&"ref"===M.$type&&!w(M,L)&&(n=v(a,M,G,L),M=n[0],C=!0,ca=n[1],da=n[2],aa=ca.length,n[0]=n[1]=n[2]=void 0),g=c(a,M,V,d,W,q,t,z,D,ca,aa,C,da,G,K,L,J,N,S,O,Q,I),!0===g[1]&&(Y=!0),void 0===(V=g[0]))continue;void 0===u&&(u={},u.version=e["\u001e\u0192_version"],u.abs_path=e["\u001e\u0192_abs_path"],fa&&(u.deref_to=fa),ba&&(u.deref_from=ba),b={},b["\u001e\u0192_meta"]=u,b.__proto__=l.prototype,J&&(b=J(b)));b[h]=V}while(T&&++h<=R);if(++ea===Z)break a;C=H[ea]}while(1);u&&(u.status=
Y&&"pending"||"resolved");g[0]=b;g[1]=Y;return g}var g=Array(2),f=Array.isArray,p=a(36),A=a(24),l=a(2),m=a(15),w=a(0),y=a(38),v=a(35),r=a(3),k=a(11);a(20);b.exports=c},function(b,d,a){var c=Array(2),g=a(6),f=a(23),p=a(12),A=a(0),l=a(7),m=a(46);b.exports=function(a,b,d,r,k){p(d,b);var h,e,n=0,u=a,x=b.value,q=x,t=x.length;do{if(0===n&&void 0!==(h=b["\u001e\u0192_context"]))u=h,n=t;else if(e=x[n++],void 0===(u=u[e]))break;if(n===t){e=u.$type;if(void 0!==e&&A(u,k))break;else{if(u===b)throw new m(x);u!==
h&&l(b,u)}if("ref"===e)p(d,u),r&&f(g(u),x,t,r),n=0,b=u,u=a,x=q=b.value,t=x.length;else break}else if(void 0!==u.$type)break}while(1);n<t&&void 0!==u&&(t=n);n=-1;for(x=Array(t);++n<t;)x[n]=q[n];c[0]=u;c[1]=x;return c}},function(b,d,a){var c=a(6),g=a(23);b.exports=function(a,b,d,l,m,w,y,v,r,k,h){h=a.value;if(k||"ref"===b||"error"===b||!a["\u001e\u0192_wrapped_value"]||"object"===typeof h)h=c(a);m.hasValue=!0;g(h,y,v,l);(l.paths||(l.paths=[])).push(w.slice(0,d+!!r));return h}},function(b,d,a){function c(a,
b,e,d,t,v,D,E,F,C,B,G,K,L,J,N,S,O){var n,q;if(void 0===b||(n=b.$type)||d===E)return w(b,n,t,e,d,t,v,D,E,F,C,B,G,K,L,void 0,J,N,S,O,A,g,y);var u,x,z=d+1,M,T,W=-1,R=0,H,V,da=C+1;B=e[d];if(null===B){if(z<E)throw new k;}else{a:do{if("object"!==typeof B)n=B,M=void 0,x=!1;else if(f(B)){if(void 0!==T)throw new h(e,T);W=0;T=B;R=B.length;if(0===R)break a;B=T[W];continue a}else{M=B.to;n=B.from||0;"number"!==typeof M&&(M=n+(B.length||0)-1);if(0>M-n)break a;x=!0}do B=!1,V=F,H=da,u=b[n],D[d]=n,F[C]=n,u&&z<E&&
"ref"===u.$type&&!m(u,L)&&(t&&l(p(u),F,H,t),q=r(a,u,G,t,L),u=q[0],B=!0,V=q[1],H=V.length,q[0]=q[1]=void 0),c(a,u,e,z,t,v,D,E,V,H,B,G,K,L,J,N,S,O);while(x&&++n<=M);if(++W===R)break a;B=T[W]}while(1)}}function g(a,b,c,f,d,g,h,k,m,r,w,A,y,L,J){var n,q;w&&r&&((w.paths||(w.paths=[])).push((q=0===d-b)&&f.slice(0,b+!!g)||f.slice(0,b).concat(a.slice(b,d+!!g))),n=l(q&&p(e)||void 0,h,k,w,!q));return v(a,b,c,f,d,g,h,k,m,!q&&r,n,A,!0,L,J)}var f=Array.isArray,p=a(6),A=a(66),l=a(23),m=a(0),w=a(15),y=a(38),v=a(24),
r=a(65),k=a(3),h=a(11),e=a(20);b.exports=c},function(b,d,a){function c(a,b,d,v,r,k,h,e,n,u,x,q,t,z){if(void 0===b)return f(void 0,void 0,a,b,d,void 0,e,n,d,u,x,q,h,void 0,!1,r,k,!1,t,!1,void 0,z,void 0),k?g(l):void 0;var m,w,y,C,B=b.$keys,G=d+1,K,L=x+1;a&&"object"===typeof a?((m=a["\u001e\u0192_meta"])?w=m.keys:a["\u001e\u0192_meta"]=m={},m.$code="",m.status="resolved",m.version=h.version,m.abs_path=u.slice(0,x)):(a={},a.__proto__=p.prototype,a["\u001e\u0192_meta"]=m={},m.$code="",m.status="resolved",
m.version=h.version,m.abs_path=u.slice(0,x),r&&(a=r(a)));v=Object.create(null);var J,N=-1,S=B.length;a:for(;++N<S;)if(C=B[N],J=b[N],null===C){if(void 0!==J)throw new A;}else{if("object"!==typeof C)y=C,K=void 0,C=!1;else{K=C.to;y=C.from||0;"number"!==typeof K&&(K=y+(C.length||0)-1);if(0>K-y)break a;C=!0}do n[d]=y,u[x]=y,v[y]=!0,w&&y in w&&(w[y]=!1),a[y]=c(a[y],J,G,G,r,k,h,e,n,u,L,q,t,z);while(C&&++y<=K)}m.keys=v;if(w)for(y in w)w[y]&&delete a[y];return a}var g=a(6),f=a(15),p=a(2),A=a(3);a(11);var l=
a(20);b.exports=c},function(b,d,a){function c(a,b,d){a&&"object"===typeof a&&Object.keys(a).filter(function(b){return("$type"===b||!g(b))&&void 0!==a[b]}).forEach(function(d){var f=a[d],p=b[d];p||(p=b[d]={});if(f.$type){p=!f["\u001e\u0192_wrapped_value"];if(f.value&&"object"===typeof f.value||p){var p={},l=Object.keys(f),v,r,k;r=0;for(k=l.length;r<k;r++)v=l[r],"$type"!==v&&g(v)||(p[v]=f[v]);f=p}else f=f.value;b[d]=f}else c(f,p,d)})}var g=a(19);b.exports=function(a){var b={};c(a,b);return b}},function(b,
d,a){var c=a(16);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001e\u0192_version"];return null==a?-1:a}},function(b,d,a){function c(a,c,d,m,w){c=f(c);d=!1;m=-1;for(var p=c.length;++m<p;){var l=c[m],r=l.inputType,l=l.arguments;0<l.length&&("PathValues"===r&&(l=l.map(g)),(0,b.exports["invalidate"+r])(a,l,w)&&(d=!0))}d&&(a=a._root.onChange)&&a();return{}}function g(a){return a.path||a.paths}var f=a(39);b.exports={json:c,jsonGraph:c,invalidatePathMaps:a(41),invalidatePathValues:a(25)}},function(b,d,a){var c=
a(45),g=a(0),f=a(40),p=a(1),A=a(44),l=a(8),m=a(43),w=a(30),y=a(10);b.exports=function(a,b,d,h,e,n,u,x,q,t,z,D){var k,r,v,B,G,K;if(b===d){if(void 0===d)return d;if(null===d)return b=c(d,void 0,d),a=y(a,-b.$size,q,u),b=f(b,a,h,void 0,n);if((v=!(!b||"object"!==typeof b))&&void 0===(k=b.$type))return void 0===b["\u001e\u0192_parent"]&&f(b,a,h,u,n),b}else if(v=!(!b||"object"!==typeof b))k=b.$type;if("ref"!==k){if(B=!(!d||"object"!==typeof d))r=d.$type;if(v&&!k&&(null==d||B&&!r))return b}else{if(null==
d){if(g(b,D)){p(b,x,q);return}return b}if(B=!(!d||"object"!==typeof d))if(r=d.$type,"ref"===r)if(b===d){if(null!=b["\u001e\u0192_parent"])return b}else if(G=b.$timestamp,K=d.$timestamp,!g(b,D)&&!g(d,D)&&K<G)return}if(k&&B&&!r)return f(A(b,d,a,h,q,u),a,h,void 0,n);r||!B?("error"===r&&z&&(d=z(m(e,h),d)),r&&b===d?b["\u001e\u0192_parent"]||(b=c(b,k,b.value),a=y(a,-b.$size,q,u),b=f(b,a,h,u,n)):(e=!0,k||r?v&&g(b,D)||(e=t?!(3>t.length?t(b,d):t(b,d,n.slice(0,n.index))):!1===w(d)<w(b)):e=!0,e&&(t=l(b)-l(d=
c(d,r,r?d.value:d)),b=A(b,d,a,h,q,u),a=y(a,t,q,u),b=f(b,a,h,u,n))),g(b,!0)&&p(b,x,q)):null==b&&(b=f(d,a,h,void 0,n));return b}},function(b,d,a){function c(a,c,d){var p=!1,l=-1,k=c.length,h=[],e=[],n=a._root,u=n.errorSelector;d=d&&!a._source;for(n=a._source?null:n.comparator;++l<k;){var m=c[l],q=m.inputType,m=m.arguments;if(0<m.length){var t=(0,b.exports["set"+q])(a,m,u,n,d),p=p||t[2];e.push.apply(e,t[1]);"PathValues"===q?h.push.apply(h,m.map(g)):"JSONGraphs"===q?h.push.apply(h,f(m,g)):h.push.apply(h,
t[0])}}return{changed:p,requested:h,optimized:e}}function g(a){return a.path||a.paths}function f(a,b){for(var c=-1,d=-1,f=a.length,g=[];++d<f;)for(var h=b(a[d],d,a),e=-1,n=h.length;++e<n;)g[++c]=h[e];return g}var p=a(21),A=a(22),l=a(39);b.exports={json:function(a,b,d,f,g){var k,h,e,n,u,m,q=l(b);k=c(a,q,g);if((b=k.requested).length){if(!(n=k.changed)||f)h=p(a,b,d,f,g);n&&(e=A({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},k.optimized,{},f,g),m=e.data,u=
m.paths,e=e.requested,(a=a._root.onChange)&&a())}return{args:q,data:d,missing:u,relative:b,fragments:m,requested:e,error:h&&h.error,errors:h&&h.errors,hasValue:h&&h.hasValue}},jsonGraph:function(a,b,d,f,g){var k,h,e,n,p,m,q=l(b);k=c(a,q,g);(b=k.requested).length&&(f||(e=k.changed))&&(h=A({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},k.optimized,d,f,g),p=h.data,n=p.paths,m=h.requested,e&&(a=a._root.onChange)&&a());return{args:q,data:d,missing:n,relative:b,
fragments:p,requested:m,error:h&&h.error,hasValue:h&&h.hasValue}},setPathMaps:a(18),setPathValues:a(27),setJSONGraphs:a(17)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001e\u0192_refs_length"]||0,d=b["\u001e\u0192_refs_length"]||0,g=-1;++g<c;){var l=a["\u001e\u0192_ref"+g];void 0!==l&&(l["\u001e\u0192_context"]=b,b["\u001e\u0192_ref"+(d+g)]=l,a["\u001e\u0192_ref"+g]=void 0)}b["\u001e\u0192_refs_length"]=c+d;a["\u001e\u0192_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=
-1,c=a["\u001e\u0192_refs_length"]||0;++b<c;){var d=a["\u001e\u0192_ref"+b];null!=d&&(d["\u001e\u0192_context"]=d["\u001e\u0192_ref_index"]=a["\u001e\u0192_ref"+b]=void 0)}a["\u001e\u0192_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001e\u0192_context"];if(b){for(var c=(a["\u001e\u0192_ref_index"]||0)-1,d=(b["\u001e\u0192_refs_length"]||0)-1;++c<=d;)b["\u001e\u0192_ref"+c]=b["\u001e\u0192_ref"+(c+1)];b["\u001e\u0192_refs_length"]=d;a["\u001e\u0192_ref_index"]=a["\u001e\u0192_context"]=
void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&!0!==a?!1===a||a&&void 0===a["\u001e\u0192_parent"]||a&&a["\u001e\u0192_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(2),g=a(9);a(80);b.exports=function(a){var b,d;if(!a||"object"!==typeof a||!(d=a["\u001e\u0192_meta"])||"object"!==typeof d)return null;var f=this._root.cache,m=this._recycleJSON,w=d.abs_path,y,v;if(!w)return m&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:void 0,
_seed:b});if(0===w.length)return m&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:f,_path:w,_referenceContainer:!0,_seed:b});var r=d.deref_to,k=d.deref_from,h=g(f,w),e="e";if(k){e=!1;d=-1;v=k.length;for(y=f;++d<v&&(y=y[k[d]],y&&!y.$type););if(r&&y&&"ref"===y.$type)for(e=!0,v=r.length,f=y.value,d=0;d<v;++d)if(f[d]!==r[d]){h=void 0;e=!1;break}}e?"e"===e&&(y=!0):y=!1;m&&(b={json:a},b.__proto__=c.prototype);return this._clone({_seed:b,_node:h,_path:w,_referenceContainer:y})}},function(b,d,a){d=
a(4);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},function(b,d,a){d=a(4);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(4);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";
this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(4);b.exports=d("MaxRetryExceededError",function(a,b,d,A){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(A&&"optimized: [\n\t"+c(A)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"\u0192_"},function(b,d,a){var c=a(10);b.exports=function(a,b,
d,A,l,m){"number"!==typeof l&&(l=.75);for(var f,g=A*l;l=b.pop();)d-=f=l.$size||0,c(l,f,a,m);if(d>=A){for(b=a["\u001e\u0192_tail"];d>=g&&(l=b);)b=b["\u001e\u0192_prev"],d-=f=l.$size||0,c(l,f,a,m);a["\u001e\u0192_tail"]=l;null==l?a["\u001e\u0192_head"]=void 0:l["\u001e\u0192_next"]=void 0}}},function(b,d,a){function c(a,b,c){m.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function g(a,b,c,d,f){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=
f}function f(a,b,c,d,f,g){w.call(this,a);this.data=b;this.retryCount=-1;this.errors=c;this.completed=this.hasValue=!1;this.operation=d;this.progressive=f;this.maxRetryCount=g}function p(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=r(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(q){throw q;}finally{--c.syncRefCount}}function A(a,b){try{throw b;}catch(u){w.prototype.onError.call(a,u)}}function l(a,b){for(var c,e,d,f=Object.keys(b),g=-1,h=f.length;++g<h;)d=f[g],"\u001e\u0192_meta"===d?a["\u001e\u0192_meta"]=
b["\u001e\u0192_meta"]:(e=b[d],c=a[d],c!==e&&(e&&"object"===typeof e?void 0===c?a[d]=e:l(c,e):void 0===c&&(a[d]=e)));return a}var m=a(49),w=a(13),y=a(84),v=a(2),r=a(55),k=a(47),h=a(82);b.exports=c;c.prototype=Object.create(m.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||
this.operator.progressive;a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){void 0===a&&(a={},a.__proto__=v.prototype);return this.lift(new g(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};
c.prototype._toJSONG=function(a,b){void 0===a&&(a={},a.__proto__=v.prototype);return this.lift(new g(a,b||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new g(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new g(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),
this.source)};g.prototype.call=function(a,b){return a.subscribe(new f(b,this.data,this.errors,this.operation,this.progressive))};f.prototype=Object.create(w.prototype);f.prototype.operations={get:a(61),set:a(73),call:a(60),invalidate:a(71)};f.prototype.next=f.prototype.onNext=function(a){if(!this.started)this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount;else if(this.destination){var b,c=a.type;a=a.args||
a.paths;var d=this.data,e=this.model,f=this.errors,g,h=this.hasValue,k=this.operation,m=this.progressive,r=m&&d;e._recycleJSON&&"get"===this.type&&(r=!1);r&&(d={},d.__proto__=v.prototype);if(a&&a.length){g=this.operations[c][k](e,a,d,m||!e._source,-1===this.retryCount);if(g.error)return A(this,g.error);f&&g.errors&&f.push.apply(f,g.errors);if(b=g.fragments)a=g.args,this.fragments=b;this.relative=g.relative;this.requested=g.requested;this.missing=b=g.missing;this.hasValue=h||(h=g.hasValue)}this.completed=
!b||!e._source;"set"!==c&&(this.args=a,r&&(this.data=l(d,this.data)));m&&h&&d&&(d.json||d.jsonGraph)&&p(d,k,e._root,this.destination)}};f.prototype.error=f.prototype.onError=function(a){if(a instanceof k)return w.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};f.prototype.complete=f.prototype.onCompleted=function(a){if(this.destination){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&
this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&p(b,this.operation,this.model._root,this.destination),b=this.errors,c||a||b&&b.length?A(this,b.length&&b||a):w.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return A(this,new h(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)}};f.prototype.dispose=f.prototype.unsubscribe=function(){var a=
this.model,b=this.version,c=this.request;this.errors=this.model=this.data=this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;w.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&y(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function c(a){l.call(this,[]);this.modelRoot=a}function g(a,b,c,d,f){this.queue=a;this.dataSource=
b;this.scheduler=c;this.requested=d;this.optimized=f}var f=a(49),p=a(87),A=a(13),l=a(14),m=a(50);b.exports=c;c.prototype=Object.create(l.prototype);c.prototype.set=function(a,b,c,d){var g=this;return new f(function(f){var e=new p("set",g,a._source,new m);f=e.subscribe(new A(f,e));g.add(e);e.data=d.jsonGraph;e.requested.push(c);e.optimized.push(b);e.connect();return f})};c.prototype.call=function(a,b,c,d){var g=this;return new f(function(b){var c=new p("call",g,a._source,new m);b=c.subscribe(new A(b,
c));g.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=function(a,b,c){return new g(this,a._source,a._scheduler,c,b)};g.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,f=this.optimized,g=this.scheduler,e=-1,n=b.subscriptions,m=n.length,x=new l([],a);++e<m;){var q=n[e];if("get"===q.type&&((q=q.batch(d,f,d=[],f=[]))&&x.add(q.subscribe(new A(a,q))),!f.length))break}f.length&&(q=n[e]=(new p("get",b,c,g)).batch(d,f),x.add(q.subscribe(new A(a,
q))),q.connect());return x}},function(b,d,a){function c(a,b,c,d){p.call(this,[],b);this.tree={};this.paths=[];this.type=a;this.data=null;this.responded=this.active=!1;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function g(){this.active=!0;var a,b=this.paths=y(this.tree=r(this.optimized.reduce(function(a,b){return v(b,a)},{})));try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});
break;case "call":a=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=a.subscribe(this)}catch(n){this.disposable={},p.prototype.onError.call(this,new A(n))}}function f(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,g,h=-1,k=b.length;a:for(;++h<k;)if(g=b[h],g.length>c){f=0;do if(g[f]!==a[f])continue a;while(++f<c);d[++e]=g.slice(c)}return d}var p=a(88);a(13);a(14);var A=a(47),l=a(17),m=a(27),w=a(25),y=a(105),v=a(102),r=a(103),k=a(101);b.exports=c;c.prototype=Object.create(p.prototype);
c.prototype.next=c.prototype.onNext=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));var c=!1,d=a.jsonGraph,g=this.boundPath,b=b.modelRoot,h=a.invalidated,k=a.paths||this.paths,p=this.requested.slice(0);a=b.onChange;h&&h.length&&(c=w({_root:b,_path:[]},h,!1));k&&k.length&&d&&"object"===typeof d&&(d=l({_root:b},[{paths:k,jsonGraph:d}],b.errorSelector,b.comparator,!1),k=d[0],c=c||d[2]);c&&a&&a();this.observers.slice(0).forEach(function(a,b){a.onNext({type:"get",
paths:p[b]||f(g,k)})})}};c.prototype.error=c.prototype.onError=function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:"error",value:{message:a.message}}:"error"===a.$type&&a||{$type:"error",value:a};var b=b.modelRoot,c=y(r(this.requested.reduce(function(a,b){return v(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&m({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);p.prototype.onError.call(this,a)}};c.prototype.complete=
c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});p.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.tree={};this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=
[];var a=this.parent;a&&(this.parent=null,a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();p.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(g.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,d){if(this.active){for(var e=[],f=[],g=this.tree,h=-1,p=-1,l=-1,n=b.length,m=a.length-1;++h<n;){var r=b[h],u=r.length,v=g[u];
v&&k(v,r,0,u)?(f[++l]=r,e[l]=a[h<m?h:m]):(d[++p]=r,c[p]=a[h<m?h:m])}return~l?(this.requested.push(e),this.optimized.push(f),this):null}this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){g.call(this,null,b);this.observers=a||[]}var g=a(13),f=a(14);b.exports=c;c.prototype=Object.create(g.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};c.prototype.onCompleted=function(){var a=this.observers.slice(0);
this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new f([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=
null,this.disposed=!0)};b.exports=a},function(b,d,a){var c=Array.isArray,g=a(29);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)g(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(5);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(5);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=Array.isArray,g=a(5);b.exports=function(a){return g(a)&&(c(a.path)||"string"===typeof a.path)}},function(b,
d,a){b.exports=a(95)},function(b,d,a){(function(b,g){Object.defineProperty(d,"__esModule",{value:!0});var c=a(96),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:g;b=(0,c["default"])(b);d["default"]=b}).call(d,a(32),a(97)(b))},function(b,d){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";
return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/computeFlatBufferHash")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/flatBufferToPaths")},
function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/getHashCode")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/hasIntersection")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toCollapseMap")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toCollapseTrees")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toFlatBuffer")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toPaths")},function(b,
d,a){b.exports=a(56)}]);
//# sourceMappingURL=falcor.node.min.js.map
