/*!
 * 
 * Copyright 2015 Netflix, Inc
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
module.exports=function(b){function d(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};b[c].call(f.exports,f,f.exports,d);f.l=!0;return f.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,f,e){d.o(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:e})};d.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};d.p="";return d(d.s=
106)}([function(b,d,a){var c=a(53),f=a(30),e=a(54);b.exports=function(a,b){a=a.$expires;return void 0===a||null===a||a===e?!1:a===f?b:a<c()}},function(b,d,a){var c=a(19);b.exports=function(a){for(var e,f=Object.keys(a),b={},l=-1,w=f.length;++l<w;)e=f[l],"$size"===e||c(e)||(b[e]=a[e]);return b}},function(b,d,a){var c=a(48);b.exports=function(a,e,n){a["\u001ef_invalidated"]||(a["\u001ef_invalidated"]=!0,e.push(a),c(n,a));return a}},function(b,d,a){(function(a){function c(a){a?(this["\u001ef_meta"]=
a["\u001ef_meta"])||(this["\u001ef_meta"]=a):this["\u001ef_meta"]={}}function e(a){return function(){var c,e=this.length;c=e;var f;if("number"!==(f=typeof e)&&(!e||"object"!==f||"atom"!==e.$type||"number"!==typeof(c=e.value))||0>c||c!==(c|0)){if("pending"===this.$__status)return[];throw new RangeError("Invalid FalcorJSON length");}this.length=c;c=a.apply(this,arguments);this.length=e;return c}}function n(c){var e=c,g=typeof e,f=arguments.length;if(0===f)e=this;else if("string"!==g){if(!e||"object"!==
g)return e}else{if(1!==f)return e;e=this}return e===a?void 0:e}function x(){return r(n.apply(this,arguments),x)}function l(a,e){return JSON.stringify(r(n.call(this,this),r,!0===a,!1,!0===e))}function w(a){var e=n.apply(this,arguments),c,f,m=0,b=r(e,w,!0,!0);e&&(c=e["\u001ef_meta"])&&(m=c.version);b&&"object"===typeof b&&(f=b["\u001ef_meta"])&&(f.version=m);return b}function r(a,e,g,f,n){if(!a||"object"!==typeof a)return a;var h,k,q,m,b,v;if(t(a))v=a;else{h=-1;m=Object.keys(a);k=m.length;v={};f&&(v.__proto__=
c.prototype);if(g&&(q=a["\u001ef_meta"])){var w=q.$code,r=q.status,x=q.abs_path,l=q.deref_to,p=q.deref_from;q={};w&&(q.$code=w);x&&(q.abs_path=x);l&&(q.deref_to=l);p&&(q.deref_from=p);n&&r&&(q.status=r);v["\u001ef_meta"]=q;f&&(q={},q.__proto__=v,v=q)}for(;++h<k;)"\u001ef_meta"!==(b=m[h])&&(v[b]=e(a[b],e,g,f,n))}return v}var d={length:!0,toString:!0,constructor:!0,toLocaleString:!0},p={toJSON:{enumerable:!1,value:x},toProps:{enumerable:!1,value:w},toString:{enumerable:!1,value:l},toLocaleString:{enumerable:!1,
value:l},$__hash:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.$code||""}},$__path:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.abs_path||[]}},$__status:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.status||"resolved"}},$__version:{enumerable:!1,get:function(){var a=this["\u001ef_meta"];return a&&a.version||0}}};Object.defineProperties(c.prototype,Object.getOwnPropertyNames(Array.prototype).reduce(function(a,c){if(!d.hasOwnProperty(c)){var g=
Array.prototype[c];"function"===typeof g&&(a[c]={value:e(g),writable:!0,enumerable:!1})}return a},p));var t=Array.isArray;b.exports=c}).call(d,a(31))},function(b,d,a){d=a(5);b.exports=d("NullInPathError",function(){this.message="`null` is not allowed in branch key positions."})},function(b,d){b.exports=function(a,c){function f(a){this.message=a;c&&c.apply(this,arguments);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}f.prototype=Object.create(Error.prototype);
f.prototype.name=a;f.prototype.constructor=f;f.is=function(e){return e.name===a};return f}},function(b,d){b.exports=function(a){return null!==a&&"object"===typeof a}},function(b,d,a){b.exports=function(a,f){var e=f["\u001ef_refs_length"]||0;f["\u001ef_ref"+e]=a;f["\u001ef_refs_length"]=e+1;a["\u001ef_ref_index"]=e;a["\u001ef_context"]=f}},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&a.$size||0}},function(b,d,a){function c(a,e){var f=a,b,l=0,w=e.length;if(0<w){do for(f=f[e[l]];f&&
"ref"===(b=f.$type);)f=c(a,f.value);while(++l<w&&f&&!b)}return f}b.exports=c},function(b,d,a){var c=a(25),f=a(27);b.exports=function(a,n,b,l){var e=a,r;do 0<(e.$size=(e.$size||0)-n)?(r=e["\u001ef_parent"])?e["\u001ef_version"]!==l&&f(e,l):e["\u001ef_version"]=l:(r=e["\u001ef_parent"])&&c(e,r,e["\u001ef_key"],b,l);while(e=r);return a}},function(b,d,a){d=a(5);b.exports=d("InvalidKeySetError",function(a,f){this.mesage="The KeySet "+JSON.stringify(f)+" in path "+JSON.stringify(a)+" contains a KeySet. Keysets can only contain Keys or Ranges"})},
function(b,d,a){var c=a(54);b.exports=function(a,e){if(e.$expires!==c){var f=a["\u001ef_head"];if(!f)a["\u001ef_head"]=a["\u001ef_tail"]=e;else if(f!==e){var b=e["\u001ef_prev"],l=e["\u001ef_next"];l&&(l["\u001ef_prev"]=b);b&&(b["\u001ef_next"]=l);e["\u001ef_prev"]=void 0;a["\u001ef_head"]=e;e["\u001ef_next"]=f;f["\u001ef_prev"]=e;e===a["\u001ef_tail"]&&(a["\u001ef_tail"]=b)}}}},function(b,d,a){function c(a,c,b){"function"===typeof a||"function"===typeof c||"function"===typeof b?(f.call(this,[]),
this.destination={error:c,onError:c,next:a,onNext:a,complete:b,onCompleted:b}):(f.call(this,[],c),this.parent=c,this.destination=a)}var f=a(14);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.next=c.prototype.onNext=function(a){var e=this.destination;if(e)if(e.onNext)e.onNext(a);else e.next&&e.next(a)};c.prototype.error=c.prototype.onError=function(a){var e=!1,c=this.destination;c&&(c.onError?(e=!0,c.onError(a)):c.error&&(e=!0,c.error(a)),this.dispose());if(!e)throw a;};c.prototype.complete=
c.prototype.onCompleted=function(){var a=this.destination;if(a){if(a.onCompleted)a.onCompleted();else a.complete&&a.complete();this.dispose()}};c.prototype.dispose=c.prototype.unsubscribe=function(){this.destination=null;f.prototype.dispose.call(this)}},function(b,d){function a(a,f){this.parent=f;this.subscriptions=a||[]}b.exports=a;a.prototype.add=function(a){return this.subscriptions.push(a)&&this||this};a.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&this.subscriptions.splice(a,
1);return this};a.prototype.dispose=a.prototype.unsubscribe=function(){for(var a,f=this.subscriptions;f.length;)(a=f.pop())&&a.dispose&&a.dispose();if(a=this.parent)this.parent=null,a.remove&&a.remove(this)}},function(b,d,a){var c=a(0),f=a(2),e=a(12);b.exports=function(a,b,l,w,r,d,p,t,m,h,g,k,v,z,u,q,A,E,D,F,C,B,H){var n=D;if(b)if(c(a,u))a["\u001ef_invalidated"]||f(a,z,v);else if(e(v,a),void 0===a.value)n=!1,D=E;else{if(d)return k&&(t[r]=null),C(a,b,r,d,p,t,h,g,k,A,E,F);return}if(E)d&&(p.hasValue=
!0);else if(!D)return;return B(w,r,p,t,m,k,h,g,n,E,l,q,A,H,v)}},function(b,d,a){var c=a(9);b.exports=function(a,e){e=e||a._path;var f=a._node;if(!f||void 0===f["\u001ef_parent"]||f["\u001ef_invalidated"])a._node=null,0===e.length?f=a._root.cache:(f=c(a._root.cache,e),e===a._path&&(a._node=f));return f}},function(b,d,a){function c(a,b,n,h,g,k,v,z,u,q,A,w,r,l,d,x,H,O){var m={},t=b<a.length-1,p=a[b],E=y(p,m),D=w.index;do{A.depth=b;f(n,h,g,k,v,z,E,t,!1,A,w,r,l,d,x,H,O);A[b]=E;A.index=b;var C=e[0],F=e[1],
B=e[4];B[B.index++]=E;C&&(t?c(a,b+1,n,F,C,k,e[3],e[2],u,q,A,B,r,l,d,x,H,O):(u.push(A.slice(0,A.index+1)),q.push(B.slice(0,B.index))));E=y(p,m);if(m.done)break;w.index=D}while(1)}function f(a,c,b,h,g,k,v,z,u,q,A,d,y,F,C,B,H){var m=b;for(b=m.$type;"ref"===b;){a:{var t;g=a;A=h;b=k;k=q;c=d;u=y;var p=F,E=C,D=B,P=H,G=m,J=G.value,Q=J.slice(0);if(n(G,P))x(G,u,p),G=void 0,t=g,m=A,Q.index=J.length;else{var R=0,X=G,N=J.length-1;t=G=g;m=b=A;do{var V=J[R],W=R<N;Q.index=R;f(g,t,G,A,m,b,V,W,!0,k,Q,c,u,p,E,D,P);
G=e[0];Q=e[4];if(!G||"object"!==typeof G){Q.index=R;break a}t=e[1];b=e[2];m=e[3]}while(R++<N);Q.index=R;X["\u001ef_context"]!==G&&l(X,G)}e[0]=G;e[1]=t;e[2]=b;e[3]=m;e[4]=Q}m=e[0];if(!m||"object"!==typeof m)return;c=e[1];k=e[2];g=e[3];A=e[4];b=m.$type}if(void 0===b){if(null==v){if(z)throw new r;m&&(v=m["\u001ef_key"])}else c=m,g=k,m=c[v],k=g&&g[v];m=w(c,m,k,v,q,A,d,y,F,C,B,H)}e[0]=m;e[1]=c;e[2]=k;e[3]=g;e[4]=A}var e=Array(5),n=a(0),x=a(2),l=a(7),w=a(72),r=a(4),y=a(32);b.exports=function(a,f,b,h,g){a=
a._root;for(var k=a.expired,n=a.version+1,m=a.cache,u=[],q=[],w=[],r=[],t=-1,l=f.length;++t<l;)for(var d=f[t],x=d.paths,d=d.jsonGraph,p=-1,y=x.length;++p<y;){var M=x[p];q.index=0;c(M,0,m,m,m,d,d,d,w,r,u,q,n,k,a,h,b,g)}e[0]=void 0;e[1]=void 0;e[2]=void 0;e[3]=void 0;e[4]=void 0;return m["\u001ef_version"]===n?(a.version=n,[w,r,!0]):[w,r,!1]}},function(b,d,a){function c(a,b,g,k,v,z,u,q,w,r,t,l,d,x,p){var h;if(a&&"object"===typeof a&&!a.$type){h=[];var m=0;n(a)&&(h[m++]="length");for(var A in a)y(A)||
(h[m++]=A)}else h=void 0;if(h&&h.length){m=0;A=h.length;var E=w.index;do{var D=h[m],C=a[D],F=!(!C||"object"!==typeof C)&&!C.$type;q.depth=b;f(g,k,v,D,C,F,!1,q,w,r,t,l,d,x,p);q[b]=D;q.index=b;var B=e[0],H=e[1],R=e[2];R[R.index++]=D;B&&(F?c(C,b+1,g,H,B,z,u,q,R,r,t,l,d,x,p):(z.push(q.slice(0,q.index+1)),u.push(R.slice(0,R.index))));if(++m>=A)break;w.index=E}while(1)}}function f(a,c,g,b,n,z,u,q,r,d,y,F,C,B,H){var h=g;for(g=h.$type;"ref"===g;){a:{r=n;g=a;c=q;var k=d,m=y,v=F,A=C,E=B,D=H,J=h,Q=J.value,R=
Q.slice(0);if(x(J,D))l(J,m,v),J=void 0,h=g,R.index=Q.length;else{var X=J,J=J["\u001ef_context"];if(null!=J)h=J["\u001ef_parent"]||g,R.index=Q.length;else{var N=0,V=Q.length-1;R.index=N;h=J=g;do{f(g,h,J,Q[N],r,N<V,!0,c,R,k,m,v,A,E,D);J=e[0];R=e[2];if(!J||"object"!==typeof J){R.index=N;break a}h=e[1]}while(N++<V);R.index=N;X["\u001ef_context"]!==J&&w(X,J)}}e[0]=J;e[1]=h;e[2]=R}h=e[0];if(!h||"object"!==typeof h)return;c=e[1];r=e[2];g=h&&h.$type}if(!z||void 0===g){if(null==b){if(z)throw new p;h&&(b=h["\u001ef_key"])}else c=
h,h=c[b];h=t(c,h,b,n,z,u,q,r,d,y,F,C,B,H)}e[0]=h;e[1]=c;e[2]=r}var e=Array(3),n=Array.isArray,x=a(0),l=a(2),w=a(7),r=a(9),y=a(29),p=a(4),t=a(42);b.exports=function(a,f,g,b,n){var h=a._root,k=h.expired,q=h.version+1;a=a._path;var m=h.cache,v=r(m,a);if(!v)return[[],[],!1];for(var w=v["\u001ef_parent"]||m,t=[],l=[],d=[],x=a.length,p=-1,y=f.length;++p<y;){var K=f[p],L=a.slice(0);L.index=x;c(K.json,0,m,w,v,l,d,t,L,q,k,h,b,g,n)}e[0]=void 0;e[1]=void 0;e[2]=void 0;return m["\u001ef_version"]===q?(h.version=
q,[l,d,!0]):[l,d,!1]}},function(b,d,a){d=a(83);d=new RegExp("^"+d,"i","g");b.exports=d.test.bind(d)},function(b,d,a){b.exports=a(34)},function(b,d,a){b.exports=a(37)},function(b,d){b.exports=function(a,c,f,e,b){var n=0,l;l=e.jsonGraph;l||(e.jsonGraph=l={});do{e=c[n++];if(n>=f){l=l[e]=!0!==b?a:l[e]||{};break}l=l[e]||(l[e]={})}while(1);return l}},function(b,d){var a=Array.isArray;b.exports=function(c,f,e,b,d,l,w,r,y,p,t,m,h,g,k){if(y||p){for(var n,z=-1,u=(l=d-f)&&Array(l)||void 0;++z<l;){n=c[z+f];var q;
q=n;if("object"!==typeof q||null===q)q=!1;else if(a(q))q=0===q.length;else{var A=q.to,x=q.from||0;"number"!==typeof A&&(A=x+(q.length||0));q=x>=A}if(q)return;u[z]=n}var D;c=null===n;n=y;var F;y?(q=d,A=b,F=e.requested||(e.requested=[])):(f=r,A=w,q=r+l-Number(c));do{if(l<d||!n){b=-1;z=f;for(D=Array(q);++b<z;)D[b]=A[b];for(z=-1;b<q;)D[b++]=u[++z]}if(n=!n){y&&(F[F.length]=D);break}F[F.length]=D||u;f=r;A=w;F=e.missing||(e.missing=[]);q=r+l-Number(c)}while(1);if(p)return g(t,D,f,q,m,h,k)}}},function(b,
d,a){function c(a,b,g,n,v,r,u,q,d){var h={},k=b<a.length-1,m=a[b],z=t(m,h);do{f(g,n,v,z,k,!1,r,u,q,d);var z=e[0],l=e[1];z&&(k?c(a,b+1,g,l,z,r,u,q,d):p(z,w(z),q,r));z=t(m,h)}while(!h.done)}function f(a,c,g,b,v,w,u,q,d,t){var h=g;for(g=h.$type;"ref"===g;){a:{c=a;g=u;w=q;var k=d,m=t;if(n(h,m))x(h,w,k),e[0]=void 0,e[1]=c;else{l(k,h);var z=h,A=h.value,p,h=h["\u001ef_context"];if(null!=h)p=h["\u001ef_parent"]||c;else{var y=0,E=A.length-1;p=h=c;do{f(c,p,h,A[y],y<E,!0,g,w,k,m);h=e[0];if(!h&&"object"!==typeof h)break a;
p=e[1]}while(y++<E);z["\u001ef_context"]!==h&&r(z,h)}e[0]=h;e[1]=p}}h=e[0];if(!h&&"object"!==typeof h)return;c=e[1];g=h.$type}if(void 0===g)if(null==b){if(v)throw Error("`null` is not allowed in branch key positions.");}else c=h,h=c[b];e[0]=h;e[1]=c}var e=Array(2),n=a(0),x=a(2),l=a(12),w=a(8),r=a(7),y=a(16),p=a(10),t=a(32);b.exports=function(a,f,g){var h=a._root,b=h.expired,n=h.version+1,u=h.cache;a=y(a);if(!a)return!1;for(var q=-1,m=f.length,w=a["\u001ef_parent"]||u;++q<m;)c(f[q],0,u,w,a,n,b,h,g);
e[0]=void 0;e[1]=void 0;return u["\u001ef_version"]===n?(h.version=n,!0):!1}},function(b,d,a){function c(a,b,d,p,t){if(a&&"object"===typeof a){var m=a.$type;if(void 0===m)for(var h in a)e(h)||c(a[h],a,h,p,t);else"ref"===m&&x(a),f(p,a);n(l(a,t));b[d]=a["\u001ef_parent"]=void 0;return!0}return!1}var f=a(48),e=a(29),n=a(75),x=a(76),l=a(27);b.exports=c},function(b,d,a){function c(a,b,h,g,n,v,r,u,q,d,w,l,p,x,B,H){var k={},m=h<b.length-1,z=b[h],t=y(z,k),A=d.index;do{q.depth=h;q[h]=t;q.index=h;f(g,n,v,t,
a,m,!1,q,d,w,l,p,x,B,H);q[h]=t;q.index=h;var E=e[0],C=e[1],D=e[2];D[D.index++]=t;E&&(m?c(a,b,h+1,g,C,E,r,u,q,D,w,l,p,x,B,H):(r.push(q.slice(0,q.index+1)),u.push(D.slice(0,D.index))));t=y(z,k);if(k.done)break;d.index=A}while(1)}function f(a,c,h,g,b,v,d,u,q,w,y,D,F,C,B){var k=h;for(h=k.$type;"ref"===h;){a:{q=b;h=a;c=u;var m=w,t=y,z=D,A=F,E=C,P=B,G=k,J=G.value,Q=J.slice(0);if(n(G,P))x(G,t,z),G=void 0,k=h,Q.index=J.length;else{var R=G,G=G["\u001ef_context"];if(null!=G)k=G["\u001ef_parent"]||h,Q.index=
J.length;else{var X=0,N=J.length-1,k=G=h;do{var V=J[X],W=X<N;Q.index=X;f(h,k,G,V,q,W,!0,c,Q,m,t,z,A,E,P);G=e[0];Q=e[2];if(!G||"object"!==typeof G){Q.index=X;break a}k=e[1]}while(X++<N);Q.index=X;R["\u001ef_context"]!==G&&l(R,G)}}e[0]=G;e[1]=k;e[2]=Q}k=e[0];if(!k||"object"!==typeof k)return;c=e[1];q=e[2];h=k.$type}if(!v||void 0===h){if(null==g){if(v)throw new r;k&&(g=k["\u001ef_key"])}else c=k,k=c[g];k=p(c,k,g,b,v,d,u,q,w,y,D,F,C,B)}e[0]=k;e[1]=c;e[2]=q}var e=Array(3),n=a(0),x=a(2),l=a(7),w=a(9),r=
a(4),y=a(32),p=a(42);b.exports=function(a,f,b,g,k){var h=a._root,n=h.expired,u=h.version+1;a=a._path;var q=h.cache,m=w(q,a);if(!m)return[[],[],!1];for(var r=m["\u001ef_parent"]||q,d=[],l=[],t=[],p=a.length,x=-1,y=f.length;++x<y;){var M=f[x],K=M.path,M=M.value,L=a.slice(0);L.index=p;c(M,K,0,q,r,m,l,t,d,L,u,n,h,g,b,k)}e[0]=void 0;e[1]=void 0;e[2]=void 0;return q["\u001ef_version"]===u?(h.version=u,[l,t,!0]):[l,t,!1]}},function(b,d,a){b.exports=function(a,f){var c=a,b=[],d=0,l,w,r;do{w=-1;l=c["\u001ef_parent"];
c["\u001ef_version"]=f;r=c["\u001ef_refs_length"]||0;do if(l&&l["\u001ef_version"]!==f&&(b[d++]=l),++w<r)l=c["\u001ef_ref"+w];else break;while(1)}while(c=b[--d]);return a}},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&a.$timestamp||void 0}},function(b,d,a){b.exports=function(a){return a&&"$"===a[0]||c(a)};var c=a(19)},function(b,d){b.exports=0},function(b,d){d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(d=window)}b.exports=
d},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/iterateKeySet")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/support/materializedAtom")},function(b,d,a){var c=Array.isArray,f=a(64),e=a(63),n=a(16),x=a(81),l=a(104),w=a(98);b.exports=function(a,b,d,t,m){var h,g=b,k;b=a._path;var v=a._root,z=v.cache,u,q,r,p=b&&b.length||0;if(p){if((h=n(a))&&h.$type)return{error:new x(b,b)};r=[];for(k=0;k<p;++k)r[k]=b[k];k=a._referenceContainer}else h=z,r=[];u=[];var y=!1;
t=d&&d.json;var F=a._boxed,C=v.expired;q=a._recycleJSON;var B=!!a._source,H=v.branchSelector,O=d&&a._materialized,M=a._treatErrorsAsValues,K=a._allowFromWhenceYouCame;a={args:null,data:d,hasValue:!1,relative:null,requested:null,missing:null};var L,S=0,P=g.length;if(0<P){if(q){y=!0;if(1<P&&m||c(g[0]))g=[w(l(g,{}))];P=1}do L=g[S],y?q=e(z,h,t,g[0],0,d,a,u,r,p,!1,k,v,C,m,H,F,O,B,M,K):(q=L.length,q=f(z,h,t,L,0,d,a,u,q,r,p,!1,k,v,C,m,H,F,O,B,M,K)),t=q[0],q[0]=void 0,q[1]=void 0;while(++S<P)}m=a.requested;
a.args=y&&g||m;if(m&&m.length&&(a.relative=a.args,p)){g=[];k=0;for(p=m.length;k<p;++k)g[k]=b.concat(m[k]);a.requested=g}a.hasValue&&(d.json=t);return a}},function(b,d,a){var c=Array(3),f=a(12),e=a(0),n=a(7),x=a(46);b.exports=function(a,b,d,y){f(d,b);var l,t,m=0,h=a,g=b.value,k=g,v=g.length;do{if(0===m&&void 0!==(l=b["\u001ef_context"]))h=l,m=v;else if(t=g[m++],void 0===(h=h[t]))break;if(m===v){t=h.$type;if(void 0!==t&&e(h,y))break;else{if(h===b)throw new x(g);h!==l&&n(b,h)}if("ref"===t)f(d,h),m=0,
b=h,h=a,g=k=b.value,v=g.length;else break}else if(void 0!==h.$type)break}while(1);m<v&&void 0!==h&&(v=m);m=-1;for(g=Array(v);++m<v;)g[m]=k[m];c[0]=h;c[1]=g;c[2]=b;return c}},function(b,d,a){var c=a(1),f=a(62);b.exports=function(a,b,d,l,w,r,y,p,t,m,h,g){if("error"===b&&!g)return f(a,d,w,r,t,m);w.hasValue=!0;return m?c(a):a.value}},function(b,d,a){var c=a(67),f=a(79);b.exports=function(a,b,d,l,w){var e,n;e=a._path;l=a._root;var p,t,m=e&&e.length||0;if(m)return{error:new f};t=[];n=e=l.cache;p=[];for(var h=
a._boxed,g=l.expired,k=a._materialized,v=!!a._source,z=-1,u=b.length,q=a._treatErrorsAsValues,A={args:null,data:d,paths:null,relative:null,requested:null,jsonGraph:null};++z<u;){var x=b[z];a=x.length;c(n,e,x,0,d,A,p,a,t,m,!1,l,g,w,h,k,v,q)}A.args=A.relative=A.requested;return A}},function(b,d,a){function c(a,b,d,p,t,m,h){if(d===p)return m?e(l):void 0;var g,k,v=d+1,z,u=-1,q=0;k=b[d];a&&"object"===typeof a?((g=a["\u001ef_meta"])||(a["\u001ef_meta"]=g={}),g.status="resolved",g.version=h.version,g.abs_path=
b.slice(0,d)):(a={},a.__proto__=n.prototype,a["\u001ef_meta"]=g={},g.status="resolved",g.version=h.version,g.abs_path=b.slice(0,d),t&&(a=t(a)));a:do{if("object"!==typeof k)d=k,g=void 0,k=!1;else if(f(k)){if(void 0!==z)throw new x(b,z);u=0;z=k;q=k.length;if(0===q)break a;k=z[u];continue a}else{g=k.to;d=k.from||0;"number"!==typeof g&&(g=d+(k.length||0)-1);if(0>g-d)break a;k=!0}do a[d]=c(a[d],b,v,p,t,m,h);while(k&&++d<=g);if(++u===q)break a;k=z[u]}while(1);return a}var f=Array.isArray,e=a(1),n=a(3);
a(4);var x=a(11),l=a(33);b.exports=c},function(b,d,a){var c=Array.isArray,f=a(93),e=a(51),n=a(52);b.exports=function(a){for(var b=[],d=-1,r=a.length,x,p,t,m;++d<r;)t=a[d],c(t)?(t={path:t},m="PathValues"):f(t)?m="PathValues":n(t)?m="JSONGraphs":e(t)&&(m="PathMaps"),p!==m&&(p=m,b.push(x={arguments:[],inputType:m})),x.arguments.push(t);return b}},function(b,d,a){b.exports=function(a,b,e,n,d){a["\u001ef_key"]=e;a["\u001ef_parent"]=b;void 0!==n&&(a["\u001ef_version"]=n);a["\u001ef_abs_path"]||(a["\u001ef_abs_path"]=
d.slice(0,d.index).concat(e));return b[e]=a}},function(b,d,a){function c(a,b,g,k,n,d,u,q,l,r){if(a&&"object"===typeof a&&!a.$type)for(var h in a)if(!p(h)){var m=a[h],v=!(!m||"object"!==typeof m)&&!m.$type;f(g,k,n,h,m,v,!1,d,u,q,l,r);var z=e[0],x=e[1];z&&(v?c(m,b+1,g,x,z,d,u,q,l,r):t(z,w(z),q,d))}}function f(a,c,b,k,d,t,u,q,w,p,y,F){var g=b;for(b=g.$type;"ref"===b;){a:{c=d;b=a;u=q;var h=w,m=p,v=y,z=F;if(n(g,z))x(g,h,m),e[0]=void 0,e[1]=b;else{l(m,g);var A=g,E=g.value,D,g=g["\u001ef_context"];if(null!=
g)D=g["\u001ef_parent"]||b;else{var P=0,G=E.length-1;D=g=b;do{f(b,D,g,E[P],c,P<G,!0,u,h,m,v,z);g=e[0];if(!g&&"object"!==typeof g)break a;D=e[1]}while(P++<G);A["\u001ef_context"]!==g&&r(A,g)}e[0]=g;e[1]=D}}g=e[0];if(!g&&"object"!==typeof g)return;c=e[1];b=g.$type}if(void 0===b)if(null==k){if(t)throw Error("`null` is not allowed in branch key positions.");}else c=g,g=c[k];e[0]=g;e[1]=c}var e=Array(2),n=a(0),x=a(2),l=a(12),w=a(8),r=a(7),y=a(16),p=a(29),t=a(10);b.exports=function(a,b,g){var f=a._root,
h=f.expired,n=f.version+1,u=f._comparator,d=f.cache;a=y(a);if(!a)return!1;for(var m=-1,l=a["\u001ef_parent"]||d,t=b.length;++m<t;)c(b[m].json,0,d,l,a,n,h,f,u,g);e[0]=void 0;e[1]=void 0;return d["\u001ef_version"]===n?(f.version=n,!0):!1}},function(b,d,a){var c=a(30),f=a(92),e=a(8),n=a(28),x=a(45),l=a(0),w=a(2),r=a(40),y=a(44),p=a(43),t=a(10);a(25);b.exports=function(a,b,g,k,d,z,u,q,A,E,D,F,C,B){B=f(b,z);if(d||z){if(B&&l(b,!0)&&(w(b,E,D),B=b.$expires===c?B:"expired"),B&&"ref"!==B||!b||"object"!==typeof b)b=
y(b,{},a,g,D,A),b=r(b,a,g,A,q)}else d=f(k),(B||d)&&(F?3>F.length?F(b,k):F(b,k,q.slice(0,q.index)):!1!==n(k)<n(b))||(C&&"error"===d&&(k=C(p(u,g),k)),u=e(b)-e(k=x(k,d,d?k.value:k)),b=y(b,k,a,g,D,A),a=t(a,u,D,A),b=r(b,a,g,A,q));return b}},function(b,d){b.exports=function(a,c){a=a.slice(0,a.depth);a[a.length]=c;return a}},function(b,d,a){var c=a(74),f=a(25),e=a(27);b.exports=function(a,b,d,w,r,y){if(a===b)return a;a&&"object"===typeof a&&(c(a,b),f(a,d,w,r),e(b,y));return d[w]=b}},function(b,d,a){var c=
Array.isArray,f=a(53),e=a(90),n=a(8),x=a(91),l=a(30);b.exports=function(a,b,d){var p=0;if(b){var t=a["\u001ef_wrapped_value"];a=e(a);p=n(a);a.$type=b;a["\u001ef_prev"]=void 0;a["\u001ef_next"]=void 0;a["\u001ef_wrapped_value"]=t||!1}else a={$type:"atom",value:d,"\u001ef_prev":void 0,"\u001ef_next":void 0,"\u001ef_wrapped_value":!0};if(null==d)p=51;else if(null==p||0>=p)switch(typeof d){case "object":p=c(d)?50+d.length:51;break;case "string":p=50+d.length;break;default:p=51}b=x(a);"number"===typeof b&&
b<l&&(a.$expires=f()+-1*b);a.$size=p;return a}},function(b,d,a){d=a(5);b.exports=d("CircularReferenceError",function(a){this.message="Encountered circular reference "+JSON.stringify(a)})},function(b,d,a){d=a(5);b.exports=d("InvalidSourceError",function(a){this.message="An exception was thrown when making a request:\n\t"+a})},function(b,d,a){b.exports=function(a,b){var c=b["\u001ef_prev"],f=b["\u001ef_next"];f&&(f["\u001ef_prev"]=c);c&&(c["\u001ef_next"]=f);b["\u001ef_prev"]=b["\u001ef_next"]=void 0;
b===a["\u001ef_head"]&&(a["\u001ef_head"]=f);b===a["\u001ef_tail"]&&(a["\u001ef_tail"]=c)}},function(b,d,a){(function(c){function f(a){if(a)switch(typeof a){case "object":this.source=a;break;case "function":this.source={subscribe:a}}}var e=a(13),d=a(14),x=a(94).default;b.exports=f;f.prototype[x]=function(){return this};f.prototype.operator=function(a){return this.subscribe(a)};f.prototype.subscribe=function(a,b,c){return new d([this.operator.call(this.source,a instanceof e?a:new e(a,b,c))])};f.prototype.then=
function(a,b){var e=this;this._promise||(this._promise=new c.Promise(function(a,b){var c=[],f=!1;e.subscribe({next:function(a){c[c.length]=a},error:function(a){f=!0;b(a)},complete:function(){!f&&a(1>=c.length?c[0]:c)}})}));return this._promise.then(a,b)}}).call(d,a(31))},function(b,d){function a(){}var c={dispose:function(){},unsubscribe:function(){}};a.prototype.schedule=function(a){a();return c};b.exports=a},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&"json"in a}},function(b,d,
a){var c=Array.isArray,f=a(6);b.exports=function(a){return f(a)&&c(a.paths)&&(f(a.jsonGraph)||f(a.jsong)||f(a.json)||f(a.values)||f(a.value))}},function(b,d){b.exports=Date.now},function(b,d){b.exports=1},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/collapse")},function(b,d,a){function c(a){if(!(this instanceof f))return new f(a);f.call(this,a)}var f=a(57);d=a(3);c.prototype=Object.create(f.prototype);c.Model=f;c.FalcorJSON=d;c.toProps=d.prototype.toProps;b.exports=c},function(b,
d,a){function c(a){a=a||{};this._node=a._node;this._path=a._path||[];this._source=a.source||a._source;this._root=a._root||new e(a,this);this._recycleJSON=!0===a.recycleJSON||a._recycleJSON;this._scheduler=a.scheduler||a._scheduler||new w;a._seed?(this._recycleJSON=!0,this._seed=a._seed,this._treatErrorsAsValues=!0):this._recycleJSON&&(this._treatErrorsAsValues=!0,this._seed={},this._seed.__proto__=n.prototype);this._boxed=!0===a.boxed||a._boxed||!1;this._materialized=!0===a.materialized||a._materialized||
!1;this._treatErrorsAsValues=!0===a.treatErrorsAsValues||a._treatErrorsAsValues||!1;this._allowFromWhenceYouCame=!0===a.allowFromWhenceYouCame||a._allowFromWhenceYouCame||!1;a.cache&&this.setCache(a.cache)}var f=a(85),e=a(59),n=a(3),x=a(58),l=a(89),w=a(50),r=a(55);a(8);var y=a(6),p=a(51),t=a(9),m=a(52),h=a(18),g=a(17),k=a(20),v=a(69),z=a(21);b.exports=c;c.prototype.constructor=c;c.prototype.get=function(){var a=this._seed;a||(a={},a.__proto__=n.prototype);for(var b=arguments.length,c=Array(b),e=0;e<
b;e++)c[e]=arguments[e];return(new f("get",this,c))._toJSON(a,[])};c.prototype.set=function(){var a={};a.__proto__=n.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return(new f("set",this,c))._toJSON(a,[])};c.prototype.preload=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("get",this,b))._toJSON(null,[])};c.prototype.call=function(){var a={};a.__proto__=n.prototype;for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];
return(new f("call",this,c))._toJSON(a,[])};c.prototype.invalidate=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(new f("invalidate",this,b))._toJSON(null,null).then()};c.prototype.deref=a(78);c.prototype._hasValidParentReference=a(77);c.prototype.getValue=function(a){return(new f("get",this,[a]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),
onCompleted:b.onCompleted.bind(b)})})};c.prototype.setValue=function(a,b){a=1===arguments.length?a.path:a;b=1===arguments.length?a:{path:a,value:b};return(new f("set",this,[b]))._toJSON({},[]).lift(function(b){return this.subscribe({onNext:function(c){var e=-1;c=c.json;for(var g=a.length;c&&!c.$type&&++e<g;)c=c[a[e]];b.onNext(c)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})})};c.prototype.setCache=function(a){var b=this._root,c=b.cache;if(a!==c){var e={_path:[],_boxed:!1,_root:b,
_materialized:!1,_treatErrorsAsValues:!1};b.cache=this._node={};"undefined"!==typeof c&&(b.expired=[],b["\u001ef_head"]=void 0,b["\u001ef_tail"]=void 0,this._recycleJSON&&(this._seed={},this._seed.__proto__=n.prototype));var f,d;m(a)?f=g(e,[a]):p(a)?f=h(e,[a]):y(a)&&(f=h(e,[{json:a}]));f&&(f[0].length&&k(e,f[0],null,!1,!1),f[2]&&(d=b.onChange)&&d.call(b.topLevelModel))}else"undefined"===typeof c&&(this._root.cache={});return this};c.prototype.getCache=function(){for(var a=arguments.length,b=Array(a),
c=0;c<a;c++)b[c]=arguments[c];if(0===b.length)return v(this,this._root.cache);a={};a.__proto__=n.prototype;a=z({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},b,a).data;a.paths=r(b);return a};c.prototype.getVersion=function(a){a=a||[];if(!1===Array.isArray(a))throw Error("Model#getVersion must be called with an Array path.");this._path.length&&(a=this._path.concat(a));return this._getVersion(this,a)};c.prototype._clone=
function(a){var b=new c(this);if(a)for(var e in a){var g=a[e];"delete"===g?delete b[e]:"_path"===e?(b[e]=g,!1===a.hasOwnProperty("_node")&&delete b._node):b[e]=g}0<b._path.length&&(b.setCache=void 0);return b};c.prototype.batch=function(a){var b;"number"===typeof a?b=new l(Math.round(Math.abs(a))):a?"function"===typeof a.schedule?b=a:"function"===typeof a&&(b={scheudle:a}):b=new l(1);return this._clone({_scheduler:b})};c.prototype.unbatch=function(){return this._clone({_scheduler:new w})};c.prototype.treatErrorsAsValues=
function(){return this._clone({_treatErrorsAsValues:!0})};c.prototype.asDataSource=function(){return new x(this)};c.prototype._materialize=function(){return this._clone({_materialized:!0})};c.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})};c.prototype.boxValues=function(){return this._clone({_boxed:!0})};c.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})};c.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})};c.prototype.inspect=
function(){return"{ v: "+this.getVersion()+" p: ["+this._path.join(", ")+"] }"};c.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}};c.prototype.getPath=function(){return this._path.slice(0)};c.prototype._fromWhenceYouCame=function(a){return this._clone({_allowFromWhenceYouCame:void 0===a?!0:a})};c.prototype._optimizePath=function(a){a=t(this._root.cache,a);return(a&&a["\u001ef_abs_path"]||[]).slice(0)};c.prototype._getVersion=a(70);c.prototype._getPathValuesAsPathMap=k;c.prototype._getPathValuesAsJSONG=
z;c.prototype._setPathValues=a(26);c.prototype._setPathMaps=a(18);c.prototype._setJSONGs=a(17);c.prototype._setCache=a(18);c.prototype._invalidatePathValues=a(24);c.prototype._invalidatePathMaps=a(41)},function(b,d){function a(a){this._model=a._materialize().treatErrorsAsValues()}a.prototype.get=function(a){return this._model.get.apply(this._model,a)._toJSONG()};a.prototype.set=function(a){return this._model.set(a)._toJSONG()};a.prototype.call=function(a,b,e,d){return this._model.call.apply(this._model,
[a,b,e].concat(d))._toJSONG()};b.exports=a},function(b,d,a){function c(a,b){a=a||{};this.cache={};this.version=-1;this.syncRefCount=0;this.maxRetryCount=10;this.topLevelModel=b;this.requests=new f(this);this.expired=a.expired||[];this.collectRatio=.75;this.maxSize=Math.pow(2,53)-1;"number"===typeof a.collectRatio&&(this.collectRatio=a.collectRatio);"number"===typeof a.maxSize&&(this.maxSize=a.maxSize);"function"===typeof a.comparator&&(this.comparator=a.comparator);"function"===typeof a.branchSelector&&
(this.branchSelector=a.branchSelector);"function"===typeof a.errorSelector&&(this.errorSelector=a.errorSelector);"function"===typeof a.branchSelector&&(this.branchSelector=a.branchSelector);"function"===typeof a.onChange&&(this.onChange=a.onChange);"function"===typeof a.onChangesCompleted&&(this.onChangesCompleted=a.onChangesCompleted)}var f=a(86),e=a(28);c.comparator=c.prototype.comparator=function(a,b){var c=a&&a.$type,f=b&&b.$type;return c?f?!0===e(b)<e(a)?!0:!(c!==f||a.value!==b.value||a.$expires!==
b.$expires):a.value===b:f?!1:a===b};b.exports=c},function(b,d,a){var c=a(20),f=a(21);b.exports={json:function(a,b,f,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var n=[].concat(b[1]||[]),l=[].concat(b[2]||[]),p=[].concat(b[3]||[]);b=(a._path||[]).concat(b[0]||[]);d&&p&&p.length&&(e=c(a,p,f,d,!0).hasValue);return{data:f,missing:!0,hasValue:e,fragments:[b,n,l,p]}},jsonGraph:function(a,b,c,d){var e=!1;if(!b)return{missing:!1,hasValue:!1};var n=[].concat(b[1]||[]),l=[].concat(b[2]||[]),p=[].concat(b[3]||
[]);b=(a._path||[]).concat(b[0]||[]);d&&p&&p.length&&(e=f({_root:a._root,_boxed:a._boxed,_materialized:a._materialized,_treatErrorsAsValues:a._treatErrorsAsValues},p,c,!0,!0).hasValue);return{data:c,missing:!0,hasValue:e,fragments:[b,n,l,p]}}}},function(b,d,a){b.exports={json:a(34),jsonGraph:a(37)}},function(b,d,a){var c=a(1);b.exports=function(a,b,d,x,l,w){var e=-1;b+=!!l;l=Array(b);for(a=w?c(a):a.value;++e<b;)l[e]=x[e];(d.errors||(d.errors=[])).push({path:l,value:a})}},function(b,d,a){function c(a,
b,g,d,q,y,E,D,F,C,B,H,O,M,K,L,S,P,G,J,Q){var k,v,z=B;if(void 0===b||void 0!==(k=b.$type)||void 0===d)return n[1]=G&&void 0===b,n[0]=r(b,k,g,d,q,y,E,D,q,F,C,z,O,M,K,L,S,P,G,J,x,f,t),n;var u,A,U;k="";var T,I,ca;B=d.$keys;var ea=q+1,Z,aa,da,ia,ba,fa=C+1,Y,ga;Q&&H&&(ga=H.value,Y=H["\u001ef_abs_path"]);if(!g||"object"!==typeof g)g=void 0;else if(u=g["\u001ef_meta"]){U=b["\u001ef_abs_path"];A=u.abs_path;L||g instanceof l||(g.__proto__={},g.__proto__["\u001ef_meta"]=u,g.__proto__.__proto__=l.prototype);
if(!e(U,A)){u.$code="";u.status="pending";u.abs_path=U;u.version=b["\u001ef_version"];ga&&(u.deref_to=ga);Y&&(u.deref_from=Y);if(A=u.keys)for(I in u.keys=Object.create(null),A)A[I]&&delete g[I];n[0]=g;n[1]=!0;return n}if(u.version===b["\u001ef_version"]&&u.$code===d.$code)return E.hasValue=!0,n[0]=g,n[1]=!1,n;A=u.keys;u.abs_path=U;u.version=b["\u001ef_version"];ga&&(u.deref_to=ga);Y&&(u.deref_from=Y)}U=Object.create(null);var ka=-1,ma=B.length,ha,la,ja=!1;a:for(;++ka<ma;)if(z=B[ka],ha=d[ka],null===
z){if(void 0!==ha)throw new m;k=""+h(""+k+"null")}else{if("object"!==typeof z)I=z,Z=void 0,ca=!1,la=I;else{Z=z.to;I=z.from||0;"number"!==typeof Z&&(Z=I+(z.length||0)-1);if(0>Z-I)break a;ca=!0;la="["+I+".."+Z+"]"}do{z=!1;aa=g&&g[I];ba=F;ia=fa;da=H;T=b[I];D[q]=I;F[C]=I;if(void 0===ha){if(c(a,T,aa,ha,ea,y,E,D,ba,ia,z,da,O,M,K,L,S,P,G,J,Q),!0===n[1]&&(ja=!0),void 0===(aa=n[0])&&!P){g&&g.hasOwnProperty(I)&&delete g[I];continue}}else if(T&&"ref"===T.$type&&!w(T,K)&&(v=p(a,T,O,K),T=v[0],z=!0,ba=v[1],da=
v[2],ia=ba.length,v[0]=v[1]=v[2]=void 0),c(a,T,aa,ha,ea,y,E,D,ba,ia,z,da,O,M,K,L,S,P,G,J,Q),!0===n[1]&&(ja=!0),void 0===(aa=n[0])){g&&g.hasOwnProperty(I)&&delete g[I];continue}void 0===u&&(u={},u.version=b["\u001ef_version"],u.abs_path=b["\u001ef_abs_path"],ga&&(u.deref_to=ga),Y&&(u.deref_from=Y),g={},g["\u001ef_meta"]=u,g.__proto__=l.prototype,L?g=L(g):(z=g,g={},g.__proto__=z));U[I]=!0;A&&I in A&&(A[I]=!1);g[I]=aa}while(ca&&++I<=Z);k=""+h(""+k+(ja?"":la)+(ha?ha.$code:""))}if(u&&(u.$code=k,u.keys=
U,u.status=ja&&"pending"||"resolved",A))for(I in A)A[I]&&delete g[I];n[0]=g;n[1]=ja;return n}function f(a,b,c,e,d,h,m,n,t,l,p,r,w,x,K){if(l)return x(p,a,b,b,r,w,K,c,e,m,n,h,t,f);a=a?g(a):[[]];var k=e.slice(0,d);return a.forEach(function(a){d=b+a.length;return y(k.concat(a),b,c,e,d,h,m,n,t,!1,p,r,w,x,K)})}function e(a,b){if(a===b)return!0;var c=a.length;if(c!==b.length)return!1;for(;~--c;)if(a[c]!==b[c])return!1;return!0}var n=Array(2),x=a(36),l=a(3),w=a(0),r=a(15),y=a(23),p=a(35),t=a(68),m=a(4);a(11);
var h=a(100),g=a(99);b.exports=c},function(b,d,a){function c(a,b,d,v,z,u,q,A,E,D,F,C,B,H,O,M,K,L,S,P,G,J){var g,h;if(void 0===b||(g=b.$type)||z===E)return f[1]=P&&void 0===b,f[0]=w(b,g,d,v,z,u,q,A,E,D,F,C,H,O,M,K,L,S,P,G,n,x,y),f;var k,N,V,W=z+1,U,T,I,ca,ea=-1,Z=0,aa,da,ia=F+1,ba,fa;C=v[z];if(null===C){if(W<E)throw new t;f[0]=d;f[1]=!1;return f}J&&B&&(fa=B.value,ba=B["\u001ef_abs_path"]);if(!d||"object"!==typeof d)d=void 0;else if(k=d["\u001ef_meta"])k.version=b["\u001ef_version"],k.abs_path=b["\u001ef_abs_path"],
fa&&(k.deref_to=fa),ba&&(k.deref_from=ba);var Y=!1;a:do{if("object"!==typeof C)g=C,U=void 0,V=!1;else if(e(C)){if(void 0!==T)throw new m(v,T);ea=0;T=C;Z=C.length;if(0===Z)break a;C=T[ea];continue a}else{U=C.to;g=C.from||0;"number"!==typeof U&&(U=g+(C.length||0)-1);if(0>U-g)break a;V=!0}do{C=!1;I=d&&d[g];da=D;aa=ia;ca=B;N=b[g];A[z]=g;D[F]=g;if(W===E){if(c(a,N,I,v,W,u,q,A,E,da,aa,C,ca,H,O,M,K,L,S,P,G,J),!0===f[1]&&(Y=!0),void 0===(I=f[0])&&!S)continue}else if(N&&"ref"===N.$type&&!r(N,M)&&(h=p(a,N,H,
M),N=h[0],C=!0,da=h[1],ca=h[2],aa=da.length,h[0]=h[1]=h[2]=void 0),c(a,N,I,v,W,u,q,A,E,da,aa,C,ca,H,O,M,K,L,S,P,G,J),!0===f[1]&&(Y=!0),void 0===(I=f[0]))continue;void 0===k&&(k={},k.version=b["\u001ef_version"],k.abs_path=b["\u001ef_abs_path"],fa&&(k.deref_to=fa),ba&&(k.deref_from=ba),d={},d["\u001ef_meta"]=k,d.__proto__=l.prototype,K&&(d=K(d)));d[g]=I}while(V&&++g<=U);if(++ea===Z)break a;C=T[ea]}while(1);k&&(k.status=Y&&"pending"||"resolved");f[0]=d;f[1]=Y;return f}var f=Array(2),e=Array.isArray,
n=a(36),x=a(23),l=a(3),w=a(15),r=a(0),y=a(38),p=a(35),t=a(4),m=a(11);b.exports=c},function(b,d,a){var c=Array(2),f=a(1),e=a(22),n=a(12),x=a(0),l=a(7),w=a(46);b.exports=function(a,b,d,t,m){n(d,b);var h,g,k=0,v=a,p=b.value,u=p,q=p.length;do{if(0===k&&void 0!==(h=b["\u001ef_context"]))v=h,k=q;else if(g=p[k++],void 0===(v=v[g]))break;if(k===q){g=v.$type;if(void 0!==g&&x(v,m))break;else{if(v===b)throw new w(p);v!==h&&l(b,v)}if("ref"===g)n(d,v),t&&e(f(v),p,q,t),k=0,b=v,v=a,p=u=b.value,q=p.length;else break}else if(void 0!==
v.$type)break}while(1);k<q&&void 0!==v&&(q=k);k=-1;for(p=Array(q);++k<q;)p[k]=u[k];c[0]=v;c[1]=p;return c}},function(b,d,a){var c=a(1),f=a(22);b.exports=function(a,b,d,l,w,r,y,p,t,m,h){h=a.value;if(m||"ref"===b||"error"===b||!a["\u001ef_wrapped_value"]||"object"===typeof h)h=c(a);w.hasValue=!0;f(h,y,p,l);(l.paths||(l.paths=[])).push(r.slice(0,d+!!t));return h}},function(b,d,a){function c(a,b,g,d,p,A,E,D,F,C,B,H,O,M,K,L,S,P){var k,v;if(void 0===b||(k=b.$type)||d===D)return r(b,k,p,g,d,p,A,E,D,F,C,
B,H,O,M,void 0,K,L,S,P,x,f,y);var q,u,z=d+1,N,V,W=-1,U=0,T,I,ca=C+1;B=g[d];if(null===B){if(z<D)throw new m;}else{a:do{if("object"!==typeof B)k=B,N=void 0,u=!1;else if(e(B)){if(void 0!==V)throw new h(g,V);W=0;V=B;U=B.length;if(0===U)break a;B=V[W];continue a}else{N=B.to;k=B.from||0;"number"!==typeof N&&(N=k+(B.length||0)-1);if(0>N-k)break a;u=!0}do B=!1,I=F,T=ca,q=b[k],E[d]=k,F[C]=k,q&&z<D&&"ref"===q.$type&&!w(q,M)&&(p&&l(n(q),F,T,p),v=t(a,q,H,p,M),q=v[0],B=!0,I=v[1],T=I.length,v[0]=v[1]=void 0),c(a,
q,g,z,p,A,E,D,I,T,B,H,O,M,K,L,S,P);while(u&&++k<=N);if(++W===U)break a;B=V[W]}while(1)}}function f(a,b,c,e,d,f,h,m,t,r,w,x,y,M,K){var k,q;w&&r&&((w.paths||(w.paths=[])).push((q=0===d-b)&&e.slice(0,b+!!f)||e.slice(0,b).concat(a.slice(b,d+!!f))),k=l(q&&n(g)||void 0,h,m,w,!q));return p(a,b,c,e,d,f,h,m,t,!q&&r,k,x,!0,M,K)}var e=Array.isArray,n=a(1),x=a(66),l=a(22),w=a(0),r=a(15),y=a(38),p=a(23),t=a(65),m=a(4),h=a(11),g=a(33);b.exports=c},function(b,d,a){function c(a,b,d,p,t,m,h,g,k,v,z,u,q,A){if(void 0===
b)return e(void 0,void 0,a,b,d,void 0,g,k,d,v,z,u,h,void 0,!1,t,m,!1,q,!1,void 0,A,void 0),m?f(l):void 0;var r,w,y,C,B=b.$keys,H=d+1,O,M=z+1;a&&"object"===typeof a?((r=a["\u001ef_meta"])?w=r.keys:a["\u001ef_meta"]=r={},r.$code="",r.status="resolved",r.version=h.version,r.abs_path=v.slice(0,z)):(a={},a.__proto__=n.prototype,a["\u001ef_meta"]=r={},r.$code="",r.status="resolved",r.version=h.version,r.abs_path=v.slice(0,z),t&&(a=t(a)));p=Object.create(null);var K,L=-1,S=B.length;a:for(;++L<S;)if(C=B[L],
K=b[L],null===C){if(void 0!==K)throw new x;}else{if("object"!==typeof C)y=C,O=void 0,C=!1;else{O=C.to;y=C.from||0;"number"!==typeof O&&(O=y+(C.length||0)-1);if(0>O-y)break a;C=!0}do k[d]=y,v[z]=y,p[y]=!0,w&&y in w&&(w[y]=!1),a[y]=c(a[y],K,H,H,t,m,h,g,k,v,M,u,q,A);while(C&&++y<=O)}r.keys=p;if(w)for(y in w)w[y]&&delete a[y];return a}var f=a(1),e=a(15),n=a(3),x=a(4);a(11);var l=a(33);b.exports=c},function(b,d,a){function c(a,b,d,w){var n,l;if(!a||"object"!==typeof a)return a;if(n=a.$type){if(void 0===
(l=a.value))w?l={$type:"atom"}:a["\u001ef_wrapped_value"]&&(l=f(a));else if(d||"ref"===n||"error"===n||!a["\u001ef_wrapped_value"]||"object"===typeof l)l=f(a);return l}n=Object.keys(a);for(var p=n.length,t=-1;++t<p;){var m=n[t];"$size"===m||e(m)||void 0===(l=c(a[m],b&&b[m],d,w))||(void 0===b&&(b={}),b[m]=l)}return b}var f=a(1),e=a(19);b.exports=function(a,b){return c(b,{},a._boxed,a._materialized)}},function(b,d,a){var c=a(16);b.exports=function(a,b){a=(a=c(a,b))&&a["\u001ef_version"];return null==
a?-1:a}},function(b,d,a){function c(a,c,d,w,r){c=e(c);d=!1;w=-1;for(var n=c.length;++w<n;){var p=c[w],t=p.inputType,p=p.arguments;0<p.length&&("PathValues"===t&&(p=p.map(f)),(0,b.exports["invalidate"+t])(a,p,r)&&(d=!0))}d&&(r=a._root.onChange)&&r.call(a._root.topLevelModel);return{}}function f(a){return a.path||a.paths}var e=a(39);b.exports={json:c,jsonGraph:c,invalidatePathMaps:a(41),invalidatePathValues:a(24)}},function(b,d,a){var c=a(45),f=a(0),e=a(40),n=a(2),x=a(44),l=a(8),w=a(43),r=a(28),y=a(10);
b.exports=function(a,b,d,h,g,k,v,z,u,q,A,E){var m,p,t,B,H,O;if(b===d){if(void 0===d)return d;if(null===d)return b=c(d,void 0,d),a=y(a,-b.$size,u,v),b=e(b,a,h,void 0,k);if((t=!(!b||"object"!==typeof b))&&void 0===(m=b.$type))return void 0===b["\u001ef_parent"]&&e(b,a,h,v,k),b}else if(t=!(!b||"object"!==typeof b))m=b.$type;if("ref"!==m){if(B=!(!d||"object"!==typeof d))p=d.$type;if(t&&!m&&(null==d||B&&!p))return b}else{if(null==d){if(f(b,E)){n(b,z,u);return}return b}if(B=!(!d||"object"!==typeof d))if(p=
d.$type,"ref"===p)if(b===d){if(null!=b["\u001ef_parent"])return b}else if(H=b.$timestamp,O=d.$timestamp,!f(b,E)&&!f(d,E)&&O<H)return}if(m&&B&&!p)return e(x(b,d,a,h,u,v),a,h,void 0,k);p||!B?("error"===p&&A&&(d=A(w(g,h),d)),p&&b===d?b["\u001ef_parent"]||(b=c(b,m,b.value),a=y(a,-b.$size,u,v),b=e(b,a,h,v,k)):(g=!0,m||p?t&&f(b,E)||(g=q?!(3>q.length?q(b,d):q(b,d,k.slice(0,k.index))):!1===r(d)<r(b)):g=!0,g&&(q=l(b)-l(d=c(d,p,p?d.value:d)),b=x(b,d,a,h,u,v),a=y(a,q,u,v),b=e(b,a,h,v,k))),f(b,!0)&&n(b,z,u)):
null==b&&(b=e(d,a,h,void 0,k));return b}},function(b,d,a){function c(a,c,d){var n=!1,l=-1,m=c.length,h=[],g=[],k=a._root,v=k.errorSelector;d=d&&!a._source;for(k=a._source?null:k.comparator;++l<m;){var r=c[l],u=r.inputType,r=r.arguments;if(0<r.length){var q=(0,b.exports["set"+u])(a,r,v,k,d),n=n||q[2];g.push.apply(g,q[1]);"PathValues"===u?h.push.apply(h,r.map(f)):"JSONGraphs"===u?h.push.apply(h,e(r,f)):h.push.apply(h,q[0])}}return{changed:n,requested:h,optimized:g}}function f(a){return a.path||a.paths}
function e(a,b){for(var c=-1,e=-1,d=a.length,f=[];++e<d;)for(var h=b(a[e],e,a),g=-1,k=h.length;++g<k;)f[++c]=h[g];return f}var n=a(20),x=a(21),l=a(39);b.exports={json:function(a,b,e,d,f){var m,h,g,k,v,p,u=l(b);m=c(a,u,f);if((b=m.requested).length){if(!(k=m.changed)||d)h=n(a,b,e,d,f);k&&(g=x({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},m.optimized,{},d,f),p=g.data,v=p.paths,g=g.requested,(d=a._root.onChange)&&d.call(a._root.topLevelModel))}return{args:u,
data:e,missing:v,relative:b,fragments:p,requested:g,error:h&&h.error,errors:h&&h.errors,hasValue:h&&h.hasValue}},jsonGraph:function(a,b,e,d,f){var n,h,g,k,v,p,u=l(b);n=c(a,u,f);(b=n.requested).length&&(d||(g=n.changed))&&(h=x({_root:a._root,_boxed:a._boxed,_materialized:!0,_treatErrorsAsValues:a._treatErrorsAsValues},n.optimized,e,d,f),v=h.data,k=v.paths,p=h.requested,g&&(d=a._root.onChange)&&d.call(a._root.topLevelModel));return{args:u,data:e,missing:k,relative:b,fragments:v,requested:p,error:h&&
h.error,hasValue:h&&h.hasValue}},setPathMaps:a(18),setPathValues:a(26),setJSONGraphs:a(17)}},function(b,d,a){b.exports=function(a,b){for(var c=a["\u001ef_refs_length"]||0,d=b["\u001ef_refs_length"]||0,f=-1;++f<c;){var l=a["\u001ef_ref"+f];void 0!==l&&(l["\u001ef_context"]=b,b["\u001ef_ref"+(d+f)]=l,a["\u001ef_ref"+f]=void 0)}b["\u001ef_refs_length"]=c+d;a["\u001ef_refs_length"]=void 0;return b}},function(b,d,a){b.exports=function(a){for(var b=-1,c=a["\u001ef_refs_length"]||0;++b<c;){var d=a["\u001ef_ref"+
b];null!=d&&(d["\u001ef_context"]=d["\u001ef_ref_index"]=a["\u001ef_ref"+b]=void 0)}a["\u001ef_refs_length"]=void 0;return a}},function(b,d,a){b.exports=function(a){var b=a["\u001ef_context"];if(b){for(var c=(a["\u001ef_ref_index"]||0)-1,d=(b["\u001ef_refs_length"]||0)-1;++c<=d;)b["\u001ef_ref"+c]=b["\u001ef_ref"+(c+1)];b["\u001ef_refs_length"]=d;a["\u001ef_ref_index"]=a["\u001ef_context"]=void 0}return a}},function(b,d,a){b.exports=function(){var a=this._referenceContainer;return this._allowFromWhenceYouCame&&
!0!==a?!1===a||a&&void 0===a["\u001ef_parent"]||a&&a["\u001ef_invalidated"]?!1:!0:!0}},function(b,d,a){var c=a(3),f=a(9);a(80);b.exports=function(a){var b,d;if(!a||"object"!==typeof a||!(d=a["\u001ef_meta"])||"object"!==typeof d)return null;var e=this._root.cache,w=this._recycleJSON,r=d.abs_path,y,p;if(!r)return w&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:void 0,_seed:b});if(0===r.length)return w&&(b={json:a},b.__proto__=c.prototype),this._clone({_node:e,_path:r,_referenceContainer:!0,
_seed:b});var t=d.deref_to,m=d.deref_from,h=f(e,r),g="e";if(m){g=!1;d=-1;p=m.length;for(y=e;++d<p&&(y=y[m[d]],y&&!y.$type););if(t&&y&&"ref"===y.$type)for(g=!0,p=t.length,e=y.value,d=0;d<p;++d)if(e[d]!==t[d]){h=void 0;g=!1;break}}g?"e"===g&&(y=!0):y=!1;w&&(b={json:a},b.__proto__=c.prototype);return this._clone({_seed:b,_node:h,_path:r,_referenceContainer:y})}},function(b,d,a){d=a(5);b.exports=d("BoundJSONGraphModelError",function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."})},
function(b,d,a){d=a(5);b.exports=d("InvalidDerefInputError",function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."})},function(b,d,a){d=a(5);b.exports=d("InvalidModelError",function(a,b){this.message="The boundPath of the model is not valid since a value or error was found before the path end.";this.boundPath=a;this.shortedPath=b})},function(b,d,a){function c(a){return a.map(function(a){return JSON.stringify(a)}).join(",\n\t")}d=a(5);b.exports=d("MaxRetryExceededError",
function(a,b,d,x){this.message="Exceeded the max retry count ("+a+") for these paths: \n"+(b&&"absolute: [\n\t"+c(b)+"\n]\n"||"")+(d&&"relative: [\n\t"+c(d)+"\n]\n"||"")+(x&&"optimized: [\n\t"+c(x)+"\n]\n"||"")})},function(b,d){b.exports=String.fromCharCode(30)+"f_"},function(b,d,a){var c=a(10);b.exports=function(a,b,d,x,l,w){"number"!==typeof l&&(l=.75);for(var e,f=x*l;l=b.pop();)d-=e=l.$size||0,c(l,e,a,w);if(d>=x){for(b=a["\u001ef_tail"];d>=f&&(l=b);)b=b["\u001ef_prev"],d-=e=l.$size||0,c(l,e,a,
w);a["\u001ef_tail"]=l;null==l?a["\u001ef_head"]=void 0:l["\u001ef_next"]=void 0}}},function(b,d,a){function c(a,b,c){w.call(this,a);b&&c&&(this.type=a,this.source=this,this.model=b,this._args=c)}function f(a,b,c,d,e){this.data=a;this.errors=b;this.operation=c;this.progressive=d;this.maxRetryCount=e}function e(a,b,c,d,e,f){r.call(this,a);this.data=b;this.request=this.missing=null;this.started=!1;this.retryCount=-1;this.errors=c;this.errored=!1;this.relative=null;this.hasValue=!1;this.requested=this.fragments=
null;this.completed=!1;this.operation=d;this.progressive=e;this.maxRetryCount=f}function n(a,b,c,d){"jsonGraph"===b&&a.paths&&(a.paths=t(a.paths));try{++c.syncRefCount,d.onNext(a)}catch(u){throw u;}finally{--c.syncRefCount}}function x(a,b){try{throw b;}catch(v){r.prototype.onError.call(a,v)}}function l(a,b){for(var c,d,e,g=Object.keys(b),f=-1,h=g.length;++f<h;)e=g[f],"\u001ef_meta"===e?a["\u001ef_meta"]=b["\u001ef_meta"]:(d=b[e],c=a[e],c!==d&&(d&&"object"===typeof d?void 0===c?a[e]=d:l(c,d):void 0===
c&&(a[e]=d)));return a}var w=a(49),r=a(13),y=a(84),p=a(3),t=a(55),m=a(47),h=a(82);b.exports=c;c.prototype=Object.create(w.prototype);c.prototype.lift=function(a,b){b=new c(b||this);b.type=this.type;b.model=this.model;b._args=this._args;b.operator=a;a.data=a.data||this.operator.data;a.errors=a.errors||this.operator.errors;a.operation=a.operation||this.operator.operation;a.progressive=a.progressive||this.operator.progressive;a.maxRetryCount=a.maxRetryCount||this.operator.maxRetryCount;return b};c.prototype.operator=
function(a){return this._subscribe(a)};c.prototype._subscribe=function(a){a.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version});a.onCompleted();return a};c.prototype._toJSON=function(a,b){void 0===a&&(a={},a.__proto__=p.prototype);return this.lift(new f(a,b||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype._toJSONG=function(a,b){void 0===a&&(a={},a.__proto__=p.prototype);return this.lift(new f(a,b||
this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)};c.prototype.retry=function(a){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,a),this.source)};c.prototype.progressively=function(){return this.lift(new f(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)};f.prototype.call=function(a,b){return a.subscribe(new e(b,this.data,this.errors,
this.operation,this.progressive))};e.prototype=Object.create(r.prototype);e.prototype.operations={get:a(61),set:a(73),call:a(60),invalidate:a(71)};e.prototype.next=e.prototype.onNext=function(a){if(!this.started)this.args=a.args,this.type=a.type,this.model=a.model,this.version=a.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount;else if(this.destination){var b,c=a.type;a=a.args||a.paths;var d=this.data,e=this.model,g=this.errors,f,h=this.hasValue,m=this.operation,r=this.progressive,
t=r&&d;e._recycleJSON&&"get"===this.type&&(t=!1);t&&(d={},d.__proto__=p.prototype);if(a&&a.length){f=this.operations[c][m](e,a,d,r||!e._source,-1===this.retryCount);if(f.error)return x(this,f.error);g&&f.errors&&g.push.apply(g,f.errors);if(b=f.fragments)a=f.args,this.fragments=b;this.relative=f.relative;this.requested=f.requested;this.missing=b=f.missing;this.hasValue=h||(h=f.hasValue)}this.completed=!b||!e._source;"set"!==c&&(this.args=a,t&&(this.data=l(d,this.data)));r&&h&&d&&(d.json||d.jsonGraph)&&
n(d,m,e._root,this.destination)}};e.prototype.error=e.prototype.onError=function(a){if(a instanceof m)return r.prototype.onError.call(this,a);this.errored=!0;this.onCompleted(a)};e.prototype.complete=e.prototype.onCompleted=function(a){if(this.destination){var b,c;if(!this.started&&(this.started=!0))this.onNext(this);else if(c=this.errored)this.onNext({type:"get",paths:this.relative});if(c||this.completed)return!this.progressive&&this.hasValue&&((b=this.data)&&b.json||b.jsonGraph)&&n(b,this.operation,
this.model._root,this.destination),b=this.errors,c||a||b&&b.length?x(this,b.length&&b||a):r.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return x(this,new h(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)}};e.prototype.dispose=e.prototype.unsubscribe=function(){var a=this.model,b=this.version,c=this.request;this.errors=this.model=this.data=
this.args=null;this.completed=this.hasValue=this.started=this.errored=!1;r.prototype.dispose.call(this);c&&(this.request=null,c.dispose());a&&(a=a._root,c=a.cache,0>=a.syncRefCount&&b!==a.version&&(c&&y(a,a.expired,c.$size||0,a.maxSize,a.collectRatio,a.version),(b=a.onChangesCompleted)&&b.call(a.topLevelModel)))}},function(b,d,a){function c(a){l.call(this,[]);this.modelRoot=a}function f(a,b,c,d,e){this.queue=a;this.dataSource=b;this.scheduler=c;this.requested=d;this.optimized=e}var e=a(49),n=a(87),
x=a(13),l=a(14),w=a(50);b.exports=c;c.prototype=Object.create(l.prototype);c.prototype.set=function(a,b,c,d){var f=this;return new e(function(e){var g=new n("set",f,a._source,new w);e=g.subscribe(new x(e,g));f.add(g);g.data=d.jsonGraph;g.requested.push(c);g.optimized.push(b);g.connect();return e})};c.prototype.call=function(a,b,c,d){var f=this;return new e(function(b){var c=new n("call",f,a._source,new w);b=c.subscribe(new x(b,c));f.add(c);c.data=d;c.boundPath=a._path;c.connect();return b})};c.prototype.get=
function(a,b,c){return new f(this,a._source,a._scheduler,c,b)};f.prototype.subscribe=function(a){for(var b=this.queue,c=this.dataSource,d=this.requested,e=this.optimized,f=this.scheduler,g=-1,k=b.subscriptions,v=k.length,r=new l([],a);++g<v;){var u=k[g];if("get"===u.type&&((u=u.batch(d,e,d=[],e=[]))&&r.add(u.subscribe(new x(a,u))),!e.length))break}e.length&&(u=k[g]=(new n("get",b,c,f)).batch(d,e),r.add(u.subscribe(new x(a,u))),u.connect());return r}},function(b,d,a){function c(a,b,c,d){n.call(this,
[],b);this.trees=[];this.type=a;this.data=null;this.responded=this.active=!1;this.paths=null;this.requested=[];this.optimized=[];this.disposable=null;this.dataSource=c;this.scheduler=d}function f(){var a,b=this.paths=y(t(this.optimized.reduce(function(a,b){return p(b,a)},{})));this.trees=this.optimized.map(function(a){return t(p(a))});this.active=!0;try{switch(this.type){case "get":a=this.dataSource.get(b);break;case "set":a=this.dataSource.set({paths:b,jsonGraph:this.data});break;case "call":a=this.dataSource.call.apply(this.dataSource,
this.data)}this.disposable=a.subscribe(this)}catch(k){this.disposable={},n.prototype.onError.call(this,new x(k))}}function e(a,b){var c;if(!a||0===(c=a.length))return b;var d=[],e=-1,f,g,h=-1,n=b.length;a:for(;++h<n;)if(g=b[h],g.length>c){f=0;do if(g[f]!==a[f])continue a;while(++f<c);d[++e]=g.slice(c)}return d}var n=a(88);a(13);a(14);var x=a(47),l=a(17),w=a(26),r=a(24),y=a(105),p=a(102),t=a(103),m=a(101);b.exports=c;c.prototype=Object.create(n.prototype);c.prototype.next=c.prototype.onNext=function(a){var b=
this.parent;if(b){this.responded=!0;var c=!1,d=a.jsonGraph,f=this.boundPath,b=b.modelRoot,h=a.invalidated,n=a.paths||this.paths,m=this.requested.slice(0);a=this.observers.slice(0);var p=b.onChange;h&&h.length&&(c=r({_root:b,_path:[]},h,!1));n&&n.length&&d&&"object"===typeof d&&(d=l({_root:b},[{paths:n,jsonGraph:d}],b.errorSelector,b.comparator,!1),n=d[0],c=c||d[2]);c&&p&&p.call(b.topLevelModel);a.forEach(function(a,b){a.onNext({type:"get",paths:m[b]||e(f,n)})})}};c.prototype.error=c.prototype.onError=
function(a){var b=this.parent;if(b){!1===this.responded&&(this.responded=!0,b.remove(this));a=a||{};a=a instanceof Error?{$type:"error",value:{message:a.message}}:"error"===a.$type&&a||{$type:"error",value:a};var b=b.modelRoot,c=y(t(this.requested.reduce(function(a,b){return p(b,a)},{}))).map(function(b){return{path:b,value:a}});c.length&&w({_root:b,_path:[]},c,b.errorSelector,b.comparator,!1);n.prototype.onError.call(this,a)}};c.prototype.complete=c.prototype.onCompleted=function(){if(!1===this.responded)this.onNext({});
n.prototype.onCompleted.call(this)};c.prototype.remove=function(a){a=this.subscriptions.indexOf(a);~a&&(this.trees.splice(a,1),this.requested.splice(a,1),this.optimized.splice(a,1),this.observers.splice(a,1),this.subscriptions.splice(a,1));0===this.subscriptions.length&&this.dispose();return this};c.prototype.dispose=c.prototype.unsubscribe=function(){this.trees=[];this.paths=this.data=null;this.active=!1;this.boundPath=null;this.requested=[];this.optimized=[];var a=this.parent;a&&(this.parent=null,
a.remove(this));if(a=this.disposable)this.disposable=null,a.dispose?a.dispose():a.unsubscribe&&a.unsubscribe();n.prototype.dispose.call(this)};c.prototype.connect=function(){if(!this.active&&!this.disposable){var a=this.scheduler.schedule(f.bind(this));this.disposable||(this.disposable=a)}return this};c.prototype.batch=function(a,b,c,d){if(this.active){var e=[],f=[],g=this.trees,h=-1,k=-1,n=-1,l=-1,r=-1,v=g.length,w=b.length,x=a.length-1;a:for(;++h<w;){for(var y=-1,K=b[h],L=K.length;++y<v;){var S=
g[y][L];if(S&&m(S,K,0,L)){f[++l]=K;r<x&&(e[++r]=a[h<x?h:x]);continue a}}d[++k]=K;n<x&&(c[++n]=a[h<x?h:x])}return~l?(this.requested.push(e),this.optimized.push(f),this.trees.push(t(p(f))),this):null}this.trees.push({});this.requested.push(a);this.optimized.push(b);return this}},function(b,d,a){function c(a,b){f.call(this,null,b);this.observers=a||[]}var f=a(13),e=a(14);b.exports=c;c.prototype=Object.create(f.prototype);c.prototype.onError=function(a){var b=this.observers.slice(0);this.dispose();b.forEach(function(b){b.onError(a)})};
c.prototype.onCompleted=function(){var a=this.observers.slice(0);this.dispose();a.forEach(function(a){a.onCompleted()})};c.prototype.subscribe=function(a){this.observers.push(a);this.subscriptions.push(a=new e([a],this));return a};c.prototype.dispose=c.prototype.unsubscribe=function(){this.observers=[]}},function(b,d){function a(a){this.delay=a}var c=function(a){this.id=a;this.disposed=!1};a.prototype.schedule=function(a){return new c(setTimeout(a,this.delay))};c.prototype.dispose=c.prototype.unsubscribe=
function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)};b.exports=a},function(b,d,a){var c=Array.isArray,f=a(19);b.exports=function(a){var b=a;if(b&&"object"===typeof b){var b=c(a)?[]:{},d;for(d in a)f(d)||(b[d]=a[d])}return b}},function(b,d,a){var c=a(6);b.exports=function(a){return c(a)&&a.$expires||void 0}},function(b,d,a){var c=a(6);b.exports=function(a,b){a=c(a)&&a.$type||void 0;return b&&a?"branch":a}},function(b,d,a){var c=Array.isArray,f=a(6);b.exports=function(a){return f(a)&&
(c(a.path)||"string"===typeof a.path)}},function(b,d,a){b.exports=a(95)},function(b,d,a){(function(b,f){Object.defineProperty(d,"__esModule",{value:!0});var c=a(96),c=c&&c.__esModule?c:{"default":c};b="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof b?b:f;b=(0,c["default"])(b);d["default"]=b}).call(d,a(31),a(97)(b))},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});d["default"]=function(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:
(a=b("observable"),b.observable=a):a="@@observable";return a}},function(b,d){b.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/computeFlatBufferHash")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/flatBufferToPaths")},
function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/getHashCode")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/hasIntersection")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toCollapseMap")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toCollapseTrees")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toFlatBuffer")},function(b,d){b.exports=require("@graphistry/falcor-path-utils/lib/toPaths")},function(b,
d,a){b.exports=a(56)}]);
//# sourceMappingURL=falcor.node.min.js.map
